/*! ProAfricaTracing 2019-04-25 */
!function(t,n,i){"function"==typeof define&&define.amd?define(["jquery"],function(e){return i(e,t,n),e.mobile}):i(t.jQuery,t,n)}(this,document,function(e,F,j,u){var h,r,n,l,i,a,t,o,s,c,d,p,f,m,g,v,b,_,y,w,C,D,x,T,k,S,M,I,P,L,E,A,O,N,H,z,R,q,B,W,$,U,G,Y,V,Z,J,K,X,Q,ee,te,ne,ie,oe,ae,se,re,le,ce,ue,he,de,pe,fe,me,ge,ve;e.mobile={},function(l,t,e){var n={};l.mobile=l.extend(l.mobile,{version:"1.3.2",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},window:l(t),document:l(j),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(e){"number"!==l.type(e)&&(e=l.mobile.defaultHomeScroll),l.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,e),l.mobile.document.trigger("silentscroll",{x:0,y:e})},20),setTimeout(function(){l.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:n,nsNormalize:function(e){if(e)return n[e]||(n[e]=l.camelCase(l.mobile.ns+e))},getInheritedTheme:function(e,t){for(var n,i,o=e[0],a="",s=/ui-(bar|body|overlay)-([a-z])\b/;o&&!((n=o.className||"")&&(i=s.exec(n))&&(a=i[2]));)o=o.parentNode;return a||t||"a"},closestPageData:function(e){return e.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(e,t){if(!l.mobile.ignoreContentEnabled)return e;for(var n,i,o,a=e.length,s=l(),r=0;r<a;r++){for(i=e.eq(r),o=!1,n=e[r];n;){if("false"===(n.getAttribute?n.getAttribute("data-"+l.mobile.ns+t):"")){o=!0;break}n=n.parentNode}o||(s=s.add(i))}return s},getScreenHeight:function(){return t.innerHeight||l.mobile.window.height()}},l.mobile),l.fn.jqmData=function(e,t){var n;return void 0!==e&&(e&&(e=l.mobile.nsNormalize(e)),n=arguments.length<2||void 0===t?this.data(e):this.data(e,t)),n},l.jqmData=function(e,t,n){var i;return void 0!==t&&(i=l.data(e,t?l.mobile.nsNormalize(t):t,n)),i},l.fn.jqmRemoveData=function(e){return this.removeData(l.mobile.nsNormalize(e))},l.jqmRemoveData=function(e,t){return l.removeData(e,l.mobile.nsNormalize(t))},l.fn.removeWithDependents=function(){l.removeWithDependents(this)},l.removeWithDependents=function(e){var t=l(e);(t.jqmData("dependents")||l()).remove(),t.remove()},l.fn.addDependents=function(e){l.addDependents(l(this),e)},l.addDependents=function(e,t){var n=l(e).jqmData("dependents")||l();l(e).jqmData("dependents",l.merge(n,t))},l.fn.getEncodedText=function(){return l("<div/>").text(l(this).text()).html()},l.fn.jqmEnhanceable=function(){return l.mobile.enhanceable(this)},l.fn.jqmHijackable=function(){return l.mobile.hijackable(this)};var o=l.find,a=/:jqmData\(([^)]*)\)/g;l.find=function(e,t,n,i){return e=e.replace(a,"[data-"+(l.mobile.ns||"")+"$1]"),o.call(this,e,t,n,i)},l.extend(l.find,o),l.find.matches=function(e,t){return l.find(e,null,null,t)},l.find.matchesSelector=function(e,t){return 0<l.find(t,null,null,[e]).length}}(e,this),h=e,n=0,l=Array.prototype.slice,i=h.cleanData,h.cleanData=function(e){for(var t,n=0;null!=(t=e[n]);n++)try{h(t).triggerHandler("remove")}catch(e){}i(e)},h.widget=function(e,n,s){var t,i,o,a,r=e.split(".")[0];e=e.split(".")[1],t=r+"-"+e,s||(s=n,n=h.Widget),h.expr[":"][t.toLowerCase()]=function(e){return!!h.data(e,t)},h[r]=h[r]||{},i=h[r][e],o=h[r][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},h.extend(o,i,{version:s.version,_proto:h.extend({},s),_childConstructors:[]}),(a=new n).options=h.widget.extend({},a.options),h.each(s,function(t,i){var o,a;h.isFunction(i)&&(s[t]=(o=function(){return n.prototype[t].apply(this,arguments)},a=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=o,this._superApply=a,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}))}),o.prototype=h.widget.extend(a,{widgetEventPrefix:i?a.widgetEventPrefix:e},s,{constructor:o,namespace:r,widgetName:e,widgetFullName:t}),i?(h.each(i._childConstructors,function(e,t){var n=t.prototype;h.widget(n.namespace+"."+n.widgetName,o,t._proto)}),delete i._childConstructors):n._childConstructors.push(o),h.widget.bridge(e,o)},h.widget.extend=function(e){for(var t,n,i=l.call(arguments,1),o=0,a=i.length;o<a;o++)for(t in i[o])n=i[o][t],i[o].hasOwnProperty(t)&&n!==r&&(h.isPlainObject(n)?e[t]=h.isPlainObject(e[t])?h.widget.extend({},e[t],n):h.widget.extend({},n):e[t]=n);return e},h.widget.bridge=function(a,t){var s=t.prototype.widgetFullName||a;h.fn[a]=function(n){var e="string"==typeof n,i=l.call(arguments,1),o=this;return n=!e&&i.length?h.widget.extend.apply(null,[n].concat(i)):n,e?this.each(function(){var e,t=h.data(this,s);return t?h.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,i))!==t&&e!==r?(o=e&&e.jquery?o.pushStack(e.get()):e,!1):void 0:h.error("no such method '"+n+"' for "+a+" widget instance"):h.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var e=h.data(this,s);e?e.option(n||{})._init():h.data(this,s,new t(n,this))}),o}},h.Widget=function(){},h.Widget._childConstructors=[],h.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=h(t||this.defaultElement||this)[0],this.element=h(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=h.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=h(),this.hoverable=h(),this.focusable=h(),t!==this&&(h.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=h(t.style?t.ownerDocument:t.document||t),this.window=h(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:h.noop,_getCreateEventData:h.noop,_create:h.noop,_init:h.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(h.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:h.noop,widget:function(){return this.element},option:function(e,t){var n,i,o,a=e;if(0===arguments.length)return h.widget.extend({},this.options);if("string"==typeof e)if(a={},e=(n=e.split(".")).shift(),n.length){for(i=a[e]=h.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)i[n[o]]=i[n[o]]||{},i=i[n[o]];if(e=n.pop(),t===r)return i[e]===r?null:i[e];i[e]=t}else{if(t===r)return this.options[e]===r?null:this.options[e];a[e]=t}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(s,r,e){var l,c=this;"boolean"!=typeof s&&(e=r,r=s,s=!1),e?(r=l=h(r),this.bindings=this.bindings.add(r)):(e=r,r=this.element,l=this.widget()),h.each(e,function(e,t){function n(){if(s||!0!==c.options.disabled&&!h(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||h.guid++);var i=e.match(/^(\w+)\s*(.*)$/),o=i[1]+c.eventNamespace,a=i[2];a?l.delegate(a,o,n):r.bind(o,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){h(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){h(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){h(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){h(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,n){var i,o,a=this.options[e];if(n=n||{},(t=h.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],o=t.originalEvent)for(i in o)i in t||(t[i]=o[i]);return this.element.trigger(t,n),!(h.isFunction(a)&&!1===a.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},h.each({show:"fadeIn",hide:"fadeOut"},function(a,s){h.Widget.prototype["_"+a]=function(t,e,n){"string"==typeof e&&(e={effect:e});var i,o=e?!0===e||"number"==typeof e?s:e.effect||s:a;"number"==typeof(e=e||{})&&(e={duration:e}),i=!h.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),i&&h.effects&&h.effects.effect[o]?t[a](e):o!==a&&t[o]?t[o](e.duration,e.easing,n):t.queue(function(e){h(this)[a](),n&&n.call(t[0]),e()})}}),(a=e).widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var n=this.element,i={};return a.each(this.options,function(e){var t=n.jqmData(e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}));void 0!==t&&(i[e]=t)}),i},enhanceWithin:function(e,t){this.enhance(a(this.options.initSelector,a(e)),t)},enhance:function(e,t){var n,i,o=a(e);o=a.mobile.enhanceable(o),t&&o.length&&(i=(n=a.mobile.closestPageData(o))&&n.keepNativeSelector()||"",o=o.not(i)),o[this.widgetName]()},raise:function(e){throw"Widget ["+this.widgetName+"]: "+e}}),function(s,e){s.extend(s.mobile,{loadingMessageTextVisible:u,loadingMessageTheme:u,loadingMessage:u,showPageLoadingMsg:function(e,t,n){s.mobile.loading("show",e,t,n)},hidePageLoadingMsg:function(){s.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var r="ui-loader",l=s("html"),c=s.mobile.window;s.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+r+"'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var e=s("."+s.mobile.activeBtnClass).first();this.element.css({top:s.support.scrollTop&&c.scrollTop()+c.height()/2||e.length&&e.offset().top||100})},checkLoaderPosition:function(){var e=this.element.offset(),t=c.scrollTop(),n=s.mobile.getScreenHeight();(e.top<t||e.top-t>n)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),c.unbind("scroll",this.checkLoaderPosition).bind("scroll",s.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(s(this.defaultHtml).html())},show:function(e,t,n){var i,o,a;this.resetHtml(),e="object"===s.type(e)?(a=s.extend({},this.options,e)).theme||s.mobile.loadingMessageTheme:(a=this.options,e||s.mobile.loadingMessageTheme||a.theme),o=t||s.mobile.loadingMessage||a.text,l.addClass("ui-loading"),(!1!==s.mobile.loadingMessage||a.html)&&(i=s.mobile.loadingMessageTextVisible!==u?s.mobile.loadingMessageTextVisible:a.textVisible,this.element.attr("class",r+" ui-corner-all ui-body-"+e+" ui-loader-"+(i||t||e.text?"verbose":"default")+(a.textonly||n?" ui-loader-textonly":"")),a.html?this.element.html(a.html):this.element.find("h1").text(o),this.element.appendTo(s.mobile.pageContainer),this.checkLoaderPosition(),c.bind("scroll",s.proxy(this.checkLoaderPosition,this)))},hide:function(){l.removeClass("ui-loading"),s.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix"),s.mobile.window.unbind("scroll",this.fakeFixLoader),s.mobile.window.unbind("scroll",this.checkLoaderPosition)}}),c.bind("pagecontainercreate",function(){s.mobile.loaderWidget=s.mobile.loaderWidget||s(s.mobile.loader.prototype.defaultHtml).loader()})}(e),function(c,u,e){var t,h="hashchange",d=j,n=c.event.special,i=d.documentMode,p="on"+h in u&&(void 0===i||7<i);function f(e){return"#"+(e=e||location.href).replace(/^[^#]*#?(.*)$/,"$1")}c.fn[h]=function(e){return e?this.bind(h,e):this.trigger(h)},c.fn[h].delay=50,n[h]=c.extend(n[h],{setup:function(){if(p)return!1;c(t.start)},teardown:function(){if(p)return!1;c(t.stop)}}),t=function(){var n,o,e,t={},i=f(),a=function(e){return e},s=a,r=a;function l(){var e=f(),t=r(i);e!==i?(s(i=e,t),c(u).trigger(h)):t!==i&&(location.href=location.href.replace(/#.*/,"")+t),n=setTimeout(l,c.fn[h].delay)}return t.start=function(){n||l()},t.stop=function(){n&&clearTimeout(n),n=void 0},u.attachEvent&&!u.addEventListener&&!p&&(t.start=function(){o||(e=(e=c.fn[h].src)&&e+f(),o=c('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){e||s(f()),l()}).attr("src",e||"javascript:0").insertAfter("body")[0].contentWindow,d.onpropertychange=function(){try{"title"===event.propertyName&&(o.document.title=d.title)}catch(e){}})},t.stop=a,r=function(){return f(o.location.href)},s=function(e,t){var n=o.document,i=c.fn[h].domain;e!==t&&(n.title=d.title,n.open(),i&&n.write('<script>document.domain="'+i+'"<\/script>'),n.close(),o.location.hash=e)}),t}()}(e,this),t=e,F.matchMedia=F.matchMedia||(c=(o=j).documentElement,d=c.firstElementChild||c.firstChild,p=o.createElement("body"),(f=o.createElement("div")).id="mq-test-1",f.style.cssText="position:absolute;top:-100em",p.style.background="none",p.appendChild(f),function(e){return f.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(p,d),s=42===f.offsetWidth,c.removeChild(p),{matches:s,media:e}}),t.mobile.media=function(e){return F.matchMedia(e).matches},g={touch:"ontouchend"in j},(m=e).mobile.support=m.mobile.support||{},m.extend(m.support,g),m.extend(m.mobile.support,g),(v=e).extend(v.support,{orientation:"orientation"in F&&"onorientationchange"in F}),function(a,e){function t(e){var t=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+D.join(t+" ")+t).split(" ");for(var i in n)if(void 0!==C[n[i]])return!0}var n,i,o,s,r,l,c,u,h,d,p,f,m,g,v,b,_,y,w=a("<body>").prependTo("html"),C=w[0].style,D=["Webkit","Moz","O"],x="palmGetResource"in F,T=F.opera,k=F.operamini&&"[object OperaMini]"==={}.toString.call(F.operamini),S=F.blackberry&&!t("-webkit-transform");a.extend(a.mobile,{browser:{}}),a.mobile.browser.oldIE=function(){for(var e=3,t=j.createElement("div"),n=t.all||[];t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><br><![endif]--\x3e",n[0];);return 4<e?e:!e}(),a.extend(a.support,{cssTransitions:"WebKitTransitionEvent"in F||function(e,t,n){for(var i,o,a,s,r,l,c=j.createElement("div"),u=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},h=n||D,d=0;d<h.length;d++)o=h[d],a=void 0,s=(""===(a=o)?"":"-"+a.charAt(0).toLowerCase()+a.substr(1)+"-")+e+": "+t+";",r=u(o),l=r+(""===r?e:u(e)),c.setAttribute("style",s),c.style[l]&&(i=!0);return!!i}("transition","height 100ms linear",["Webkit","Moz",""])&&!a.mobile.browser.oldIE&&!T,pushState:"pushState"in history&&"replaceState"in history&&!(0<=F.navigator.userAgent.indexOf("Firefox")&&F.top!==F)&&-1===F.navigator.userAgent.search(/CriOS/),mediaquery:a.mobile.media("only all"),cssPseudoElement:!!t("content"),touchOverflow:!!t("overflowScrolling"),cssTransform3d:function(){var e="transform-3d",t=a.mobile.media("(-"+D.join("-"+e+"),(-")+"-"+e+"),("+e+")");if(t)return!!t;var n=j.createElement("div"),i={MozTransform:"-moz-transform",transform:"transform"};for(var o in w.append(n),i)void 0!==n.style[o]&&(n.style[o]="translate3d( 100px, 1px, 1px )",t=F.getComputedStyle(n).getPropertyValue(i[o]));return!!t&&"none"!==t}(),boxShadow:!!t("boxShadow")&&!S,fixedPosition:(d=F,p=navigator.userAgent,f=navigator.platform,m=p.match(/AppleWebKit\/([0-9]+)/),g=!!m&&m[1],v=p.match(/Fennec\/([0-9]+)/),b=!!v&&v[1],_=p.match(/Opera Mobi\/([0-9]+)/),y=!!_&&_[1],!((-1<f.indexOf("iPhone")||-1<f.indexOf("iPad")||-1<f.indexOf("iPod"))&&g&&g<534||d.operamini&&"[object OperaMini]"==={}.toString.call(d.operamini)||_&&y<7458||-1<p.indexOf("Android")&&g&&g<533||b&&b<6||"palmGetResource"in F&&g&&g<534||-1<p.indexOf("MeeGo")&&-1<p.indexOf("NokiaBrowser/8.5.0"))),scrollTop:("pageXOffset"in F||"scrollTop"in j.documentElement||"scrollTop"in w[0])&&!x&&!k,dynamicBaseTag:(l=location.protocol+"//"+location.host+location.pathname+"ui-dir/",c=a("head base"),u=null,h="",c.length?h=c.attr("href"):c=u=a("<base>",{href:l}).appendTo("head"),r=a("<a href='testurl' />").prependTo(w)[0].href,c[0].href=h||location.pathname,u&&u.remove(),0===r.indexOf(l)),cssPointerEvents:(i=j.createElement("x"),o=j.documentElement,s=F.getComputedStyle,"pointerEvents"in i.style&&(i.style.pointerEvents="auto",i.style.pointerEvents="x",o.appendChild(i),n=s&&"auto"===s(i,"").pointerEvents,o.removeChild(i),!!n)),boundingRect:void 0!==j.createElement("div").getBoundingClientRect}),w.remove();var M,I=-1<(M=F.navigator.userAgent).indexOf("Nokia")&&(-1<M.indexOf("Symbian/3")||-1<M.indexOf("Series60/5"))&&-1<M.indexOf("AppleWebKit")&&M.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/);a.mobile.gradeA=function(){return(a.support.mediaquery||a.mobile.browser.oldIE&&7<=a.mobile.browser.oldIE)&&(a.support.boundingRect||null!==a.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},a.mobile.ajaxBlacklist=F.blackberry&&!F.WebKitPoint||k||I,I&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")}(e),y=(b=e).mobile.window,b.event.special.navigate=_={bound:!1,pushStateEnabled:!0,originalEventName:void 0,isPushStateEnabled:function(){return b.support.pushState&&!0===b.mobile.pushStateEnabled&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return!0===b.mobile.hashListeningEnabled},popstate:function(e){var t=new b.Event("navigate"),n=new b.Event("beforenavigate"),i=e.originalEvent.state||{};location.href,y.trigger(n),n.isDefaultPrevented()||(e.historyState&&b.extend(i,e.historyState),t.originalEvent=e,setTimeout(function(){y.trigger(t,{state:i})},0))},hashchange:function(e,t){var n=new b.Event("navigate"),i=new b.Event("beforenavigate");y.trigger(i),i.isDefaultPrevented()||(n.originalEvent=e,y.trigger(n,{state:e.hashchangeState||{}}))},setup:function(e,t){_.bound||(_.bound=!0,_.isPushStateEnabled()?(_.originalEventName="popstate",y.bind("popstate.navigate",_.popstate)):_.isHashChangeEnabled()&&(_.originalEventName="hashchange",y.bind("hashchange.navigate",_.hashchange)))}},x="&ui-state=dialog",(w=e).mobile.path=C={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=e?this.parseUrl(e):location,n=this.parseUrl(e||location.href).hash;return n="#"===n?"":n,t.protocol+"//"+t.host+t.pathname+t.search+n},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(e){if("object"===w.type(e))return e;var t=C.urlParseRE.exec(e||"")||[];return{href:t[0]||"",hrefNoHash:t[1]||"",hrefNoSearch:t[2]||"",domain:t[3]||"",protocol:t[4]||"",doubleSlash:t[5]||"",authority:t[6]||"",username:t[8]||"",password:t[9]||"",host:t[10]||"",hostname:t[11]||"",port:t[12]||"",pathname:t[13]||"",directory:t[14]||"",filename:t[15]||"",search:t[16]||"",hash:t[17]||""}},makePathAbsolute:function(e,t){if(e&&"/"===e.charAt(0))return e;e=e||"";for(var n=(t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?t.split("/"):[],i=e.split("/"),o=0;o<i.length;o++){var a=i[o];switch(a){case".":break;case"..":n.length&&n.pop();break;default:n.push(a)}}return"/"+n.join("/")},isSameDomain:function(e,t){return C.parseUrl(e).domain===C.parseUrl(t).domain},isRelativeUrl:function(e){return""===C.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==C.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!C.isRelativeUrl(e))return e;void 0===t&&(t=this.documentBase);var n=C.parseUrl(e),i=C.parseUrl(t),o=n.protocol||i.protocol,a=n.protocol?n.doubleSlash:n.doubleSlash||i.doubleSlash,s=n.authority||i.authority,r=""!==n.pathname;return o+a+s+C.makePathAbsolute(n.pathname||i.filename,i.pathname)+(n.search||!r&&i.search||"")+n.hash},addSearchParams:function(e,t){var n=C.parseUrl(e),i="object"==typeof t?w.param(t):t,o=n.search||"?";return n.hrefNoSearch+o+("?"!==o.charAt(o.length-1)?"&":"")+i+(n.hash||"")},convertUrlToDataUrl:function(e){var t=C.parseUrl(e);return C.isEmbeddedPage(t)?t.hash.split(x)[0].replace(/^#/,"").replace(/\?.*$/,""):C.isSameDomain(t,this.documentBase)?t.hrefNoHash.replace(this.documentBase.domain,"").split(x)[0]:F.decodeURIComponent(e)},get:function(e){return void 0===e&&(e=C.parseLocation().hash),C.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(this.documentBase.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},stripQueryParams:function(e){return e.replace(/\?.*$/,"")},cleanHash:function(e){return C.stripHash(e.replace(/\?.*$/,"").replace(x,""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=C.parseUrl(e);return!(!t.protocol||t.domain===this.documentUrl.domain)},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isEmbeddedPage:function(e){var t=C.parseUrl(e);return""!==t.protocol?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(e,t){var n,i,o,a,s=this.isPath(e),r=this.parseUrl(e),l=r.hash,c="";return t=t||(C.isPath(e)?C.getLocation():C.getDocumentUrl()),i=s?C.stripHash(e):e,-1<(a=(i=C.isPath(r.hash)?C.stripHash(r.hash):i).indexOf(this.uiStateKey))&&(c=i.slice(a),i=i.slice(0,a)),n=C.makeUrlAbsolute(i,t),o=this.parseUrl(n).search,s?((C.isPath(l)||0===l.replace("#","").indexOf(this.uiStateKey))&&(l=""),c&&-1===l.indexOf(this.uiStateKey)&&(l+=c),-1===l.indexOf("#")&&""!==l&&(l="#"+l),n=(n=C.parseUrl(n)).protocol+"//"+n.host+n.pathname+o+l):n+=-1<n.indexOf("#")?c:"#"+c,n},isPreservableHash:function(e){return 0===e.replace("#","").indexOf(this.uiStateKey)}},C.documentUrl=C.parseLocation(),D=w("head").find("base"),C.documentBase=D.length?C.parseUrl(C.makeUrlAbsolute(D.attr("href"),C.documentUrl.href)):C.documentUrl,C.documentBaseDiffers=C.documentUrl.hrefNoHash!==C.documentBase.hrefNoHash,C.getDocumentUrl=function(e){return e?w.extend({},C.documentUrl):C.documentUrl.href},C.getDocumentBase=function(e){return e?w.extend({},C.documentBase):C.documentBase.href},function(i,o){i.mobile.path;i.mobile.History=function(e,t){this.stack=e||[],this.activeIndex=t||0},i.extend(i.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(e,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&-1===t.hash.indexOf("#")&&(t.hash="#"+t.hash),t.url=e,this.stack.push(t),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(e,t,n){var i,o,a,s=(t=t||this.stack).length;for(o=0;o<s;o++)if(i=t[o],(decodeURIComponent(e)===decodeURIComponent(i.url)||decodeURIComponent(e)===decodeURIComponent(i.hash))&&(a=o,n))return a;return a},closest:function(e){var t,n=this.activeIndex;return(t=this.find(e,this.stack.slice(0,n)))===o&&(t=(t=this.find(e,this.stack.slice(n),!0))===o?t:t+n),t},direct:function(e){var t=this.closest(e.url),n=this.activeIndex;t!==o&&(this.activeIndex=t,this.previousIndex=n),t<n?(e.present||e.back||i.noop)(this.getActive(),"back"):n<t?(e.present||e.forward||i.noop)(this.getActive(),"forward"):t===o&&e.missing&&e.missing(this.getActive())}})}(e),k=(T=e).mobile.path,S=location.href,T.mobile.Navigator=function(e){this.history=e,this.ignoreInitialHashChange=!0,T.mobile.window.bind({"popstate.history":T.proxy(this.popstate,this),"hashchange.history":T.proxy(this.hashchange,this)})},T.extend(T.mobile.Navigator.prototype,{squash:function(e,t){var n,i,o=k.isPath(e)?k.stripHash(e):e;return i=k.squash(e),n=T.extend({hash:o,url:i},t),F.history.replaceState(n,n.title||j.title,i),n},hash:function(e,t){var n,i,o;if(n=k.parseUrl(e),(i=k.parseLocation()).pathname+i.search===n.pathname+n.search)o=n.hash?n.hash:n.pathname+n.search;else if(k.isPath(e)){var a=k.parseUrl(t);o=a.pathname+a.search+(k.isPreservableHash(a.hash)?a.hash.replace("#",""):"")}else o=e;return o},go:function(e,t,n){var i,o,a,s,r=T.event.special.navigate.isPushStateEnabled();o=k.squash(e),a=this.hash(e,o),n&&a!==k.stripHash(k.parseLocation().hash)&&(this.preventNextHashChange=n),this.preventHashAssignPopState=!0,F.location.hash=a,this.preventHashAssignPopState=!1,i=T.extend({url:o,hash:a,title:j.title},t),r&&((s=new T.Event("popstate")).originalEvent={type:"popstate",state:null},this.squash(e,i),n||(this.ignorePopState=!0,T.mobile.window.trigger(s))),this.history.add(i.url,i)},popstate:function(n){var e,t;if(T.event.special.navigate.isPushStateEnabled()){if(this.preventHashAssignPopState)return this.preventHashAssignPopState=!1,void n.stopImmediatePropagation();if(this.ignorePopState)this.ignorePopState=!1;else if(n.originalEvent.state||1!==this.history.stack.length||!this.ignoreInitialHashChange||(this.ignoreInitialHashChange=!1,location.href!==S)){if(e=k.parseLocation().hash,!n.originalEvent.state&&e)return t=this.squash(e),this.history.add(t.url,t),void(n.historyState=t);this.history.direct({url:(n.originalEvent.state||{}).url||e,present:function(e,t){n.historyState=T.extend({},e),n.historyState.direction=t}})}else n.preventDefault()}},hashchange:function(n){var e,t;if(T.event.special.navigate.isHashChangeEnabled()&&!T.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void n.stopImmediatePropagation();e=this.history,t=k.parseLocation().hash,this.history.direct({url:t,present:function(e,t){n.hashchangeState=T.extend({},e),n.hashchangeState.direction=t},missing:function(){e.add(t,{hash:t,title:j.title})}})}}}),function(i,e){i.mobile.navigate=function(e,t,n){i.mobile.navigate.navigator.go(e,t,n)},i.mobile.navigate.history=new i.mobile.History,i.mobile.navigate.navigator=new i.mobile.Navigator(i.mobile.navigate.history);var t=i.mobile.path.parseLocation();i.mobile.navigate.history.add(t.href,{hash:t.hash})}(e),function(d,e,t,p){var l,s="virtualMouseBindings",c="virtualTouchID",n="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),f="clientX clientY pageX pageY screenX screenY".split(" "),i=d.event.mouseHooks?d.event.mouseHooks.props:[],m=d.event.props.concat(i),r={},o=0,a=0,u=0,h=!1,g=[],v=!1,b=!1,_="addEventListener"in t,y=d(t),w=1,C=0;function D(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function x(e){for(var t,n,i={};e;){for(n in t=d.data(e,s))t[n]&&(i[n]=i.hasVirtualBinding=!0);e=e.parentNode}return i}function T(){b=!0}function k(){b=!1}function S(){M(),o=setTimeout(function(){C=o=0,g.length=0,v=!1,T()},d.vmouse.resetTimerDuration)}function M(){o&&(clearTimeout(o),o=0)}function I(e,t,n){var i;return(n&&n[e]||!n&&function(e,t){for(var n;e;){if((n=d.data(e,s))&&(!t||n[t]))return e;e=e.parentNode}return null}(t.target,e))&&(i=function(e,t){var n,i,o,a,s,r,l,c,u,h=e.type;if((e=d.Event(e)).type=t,n=e.originalEvent,i=d.event.props,-1<h.search(/^(mouse|click)/)&&(i=m),n)for(l=i.length;l;)e[a=i[--l]]=n[a];if(-1<h.search(/mouse(down|up)|click/)&&!e.which&&(e.which=1),-1!==h.search(/^touch/)&&(h=(o=D(n)).touches,s=o.changedTouches,r=h&&h.length?h[0]:s&&s.length?s[0]:p))for(c=0,u=f.length;c<u;c++)e[a=f[c]]=r[a];return e}(t,e),d(t.target).trigger(i)),i}function P(e){var t=d.data(e.target,c);if(!(v||C&&C===t)){var n=I("v"+e.type,e);n&&(n.isDefaultPrevented()&&e.preventDefault(),n.isPropagationStopped()&&e.stopPropagation(),n.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}}function F(e){var t,n,i=D(e).touches;if(i&&1===i.length&&(n=x(t=e.target)).hasVirtualBinding){C=w++,d.data(t,c,C),M(),k(),h=!1;var o=D(e).touches[0];a=o.pageX,u=o.pageY,I("vmouseover",e,n),I("vmousedown",e,n)}}function j(e){b||(h||I("vmousecancel",e,x(e.target)),h=!0,S())}function L(e){if(!b){var t=D(e).touches[0],n=h,i=d.vmouse.moveDistanceThreshold,o=x(e.target);(h=h||Math.abs(t.pageX-a)>i||Math.abs(t.pageY-u)>i)&&!n&&I("vmousecancel",e,o),I("vmousemove",e,o),S()}}function E(e){if(!b){T();var t,n=x(e.target);if(I("vmouseup",e,n),!h){var i=I("vclick",e,n);i&&i.isDefaultPrevented()&&(t=D(e).changedTouches[0],g.push({touchID:C,x:t.clientX,y:t.clientY}),v=!0)}I("vmouseout",e,n),h=!1,S()}}function A(e){var t,n=d.data(e,s);if(n)for(t in n)if(n[t])return!0;return!1}function O(){}function N(o){var a=o.substr(1);return{setup:function(e,t){A(this)||d.data(this,s,{}),d.data(this,s)[o]=!0,r[o]=(r[o]||0)+1,1===r[o]&&y.bind(a,P),d(this).bind(a,O),_&&(r.touchstart=(r.touchstart||0)+1,1===r.touchstart&&y.bind("touchstart",F).bind("touchend",E).bind("touchmove",L).bind("scroll",j))},teardown:function(e,t){--r[o],r[o]||y.unbind(a,P),_&&(--r.touchstart,r.touchstart||y.unbind("touchstart",F).unbind("touchmove",L).unbind("touchend",E).unbind("scroll",j));var n=d(this),i=d.data(this,s);i&&(i[o]=!1),n.unbind(a,O),A(this)||n.removeData(s)}}}d.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var H=0;H<n.length;H++)d.event.special[n[H]]=N(n[H]);_&&t.addEventListener("click",function(e){var t,n,i,o,a,s=g.length,r=e.target;if(s)for(t=e.clientX,n=e.clientY,l=d.vmouse.clickDistanceThreshold,i=r;i;){for(o=0;o<s;o++)if(a=g[o],0,i===r&&Math.abs(a.x-t)<l&&Math.abs(a.y-n)<l||d.data(i,c)===a.touchID)return e.preventDefault(),void e.stopPropagation();i=i.parentNode}},!0)}(e,0,j),function(l,e,t){var c=l(j);l.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,t){l.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)},l.attrFn&&(l.attrFn[t]=!0)});var n=l.mobile.support.touch,i=n?"touchstart":"mousedown",a=n?"touchend":"mouseup",s=n?"touchmove":"mousemove";function u(e,t,n){var i=n.type;n.type=t,l.event.dispatch.call(e,n),n.type=i}l.event.special.scrollstart={enabled:!0,setup:function(){var n,t,i=this;function o(e,t){u(i,(n=t)?"scrollstart":"scrollstop",e)}l(i).bind("touchmove scroll",function(e){l.event.special.scrollstart.enabled&&(n||o(e,!0),clearTimeout(t),t=setTimeout(function(){o(e,!1)},50))})}},l.event.special.tap={tapholdThreshold:750,setup:function(){var s=this,r=l(s);r.bind("vmousedown",function(e){if(e.which&&1!==e.which)return!1;var t,n=e.target;e.originalEvent;function i(){clearTimeout(t)}function o(){i(),r.unbind("vclick",a).unbind("vmouseup",i),c.unbind("vmousecancel",o)}function a(e){o(),n===e.target&&u(s,"tap",e)}r.bind("vmouseup",i).bind("vclick",a),c.bind("vmousecancel",o),t=setTimeout(function(){u(s,"taphold",l.Event("taphold",{target:n}))},l.event.special.tap.tapholdThreshold)})}},l.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY],origin:l(e.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(e,t){t.time-e.time<l.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-t.coords[0])>l.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-t.coords[1])<l.event.special.swipe.verticalDistanceThreshold&&e.origin.trigger("swipe").trigger(e.coords[0]>t.coords[0]?"swipeleft":"swiperight")},setup:function(){var o=l(this);o.bind(i,function(e){var t,n=l.event.special.swipe.start(e);function i(e){n&&(t=l.event.special.swipe.stop(e),Math.abs(n.coords[0]-t.coords[0])>l.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())}o.bind(s,i).one(a,function(){o.unbind(s,i),n&&t&&l.event.special.swipe.handleSwipe(n,t),n=t=void 0})})}},l.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(e,t){l.event.special[e]={setup:function(){l(this).bind(t,l.noop)}}})}(e),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",o)},teardown:function(){e(this).unbind("resize",o)}};var t,n,i,o=function(){n=(new Date).getTime(),250<=(i=n-a)?(a=n,e(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(o,250-i))},a=0}(e),function(t,n){var i,o,e,a,s=t(n),r="orientationchange",l={0:!0,180:!0};if(t.support.orientation){var c=n.innerWidth||s.width(),u=n.innerHeight||s.height();e=u<c&&50<c-u,a=l[n.orientation],(e&&a||!e&&!a)&&(l={"-90":!0,90:!0})}function h(){var e=i();e!==o&&(o=e,s.trigger(r))}t.event.special.orientationchange=t.extend({},t.event.special.orientationchange,{setup:function(){if(t.support.orientation&&!t.event.special.orientationchange.disabled)return!1;o=i(),s.bind("throttledresize",h)},teardown:function(){if(t.support.orientation&&!t.event.special.orientationchange.disabled)return!1;s.unbind("throttledresize",h)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=i(),t.apply(this,arguments)}}}),t.event.special.orientationchange.orientation=i=function(){var e=j.documentElement;return(t.support.orientation?l[n.orientation]:e&&e.clientWidth/e.clientHeight<1.1)?"portrait":"landscape"},t.fn[r]=function(e){return e?this.bind(r,e):this.trigger(r)},t.attrFn&&(t.attrFn[r]=!0)}(e,this),(M=e).widget("mobile.page",M.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){if(!1===this._trigger("beforecreate"))return!1;this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"})},_handlePageBeforeShow:function(e){this.setContainerBackground()},removeContainerBackground:function(){M.mobile.pageContainer.removeClass("ui-overlay-"+M.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(e){this.options.theme&&M.mobile.pageContainer.addClass("ui-overlay-"+(e||this.options.theme))},keepNativeSelector:function(){var e=this.options;return e.keepNative&&M.trim(e.keepNative)&&e.keepNative!==e.keepNativeDefault?[e.keepNative,e.keepNativeDefault].join(", "):e.keepNativeDefault}}),I=e,P=this,E=(L=function(v){return void 0===v&&(v=!0),function(e,t,n,i){var o=new I.Deferred,a=t?" reverse":"",s=I.mobile.urlHistory.getActive().lastScroll||I.mobile.defaultHomeScroll,r=I.mobile.getScreenHeight(),l=!1!==I.mobile.maxTransitionWidth&&I.mobile.window.width()>I.mobile.maxTransitionWidth,c=!I.support.cssTransitions||l||!e||"none"===e||Math.max(I.mobile.window.scrollTop(),s)>I.mobile.getMaxScrollForTransition(),u=" ui-page-pre-in",h=function(){I.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+e)},d=function(){I.event.special.scrollstart.enabled=!1,P.scrollTo(0,s),setTimeout(function(){I.event.special.scrollstart.enabled=!0},150)},p=function(){i.removeClass(I.mobile.activePageClass+" out in reverse "+e).height("")},f=function(){i&&v&&p(),m()},m=function(){n.css("z-index",-10),n.addClass(I.mobile.activePageClass+u),I.mobile.focusPage(n),n.height(r+s),d(),n.css("z-index",""),c||n.animationComplete(g),n.removeClass(u).addClass(e+" in"+a),c&&g()},g=function(){v||i&&p(),n.removeClass("out in reverse "+e).height(""),h(),I.mobile.window.scrollTop()!==s&&d(),o.resolve(e,t,n,i,!0)};return h(),i&&!c?(v?i.animationComplete(f):f(),i.height(r+I.mobile.window.scrollTop()).addClass(e+" out"+a)):f(),o.promise()}})(),A=L(!1),I.mobile.defaultTransitionHandler=E,I.mobile.transitionHandlers={default:I.mobile.defaultTransitionHandler,sequential:E,simultaneous:A},I.mobile.transitionFallbacks={},I.mobile._maybeDegradeTransition=function(e){return e&&!I.support.cssTransform3d&&I.mobile.transitionFallbacks[e]&&(e=I.mobile.transitionFallbacks[e]),e},I.mobile.getMaxScrollForTransition=I.mobile.getMaxScrollForTransition||function(){return 3*I.mobile.getScreenHeight()},function(_,y){var n=_.mobile.window,e=(_("html"),_("head")),w=_.extend(_.mobile.path,{getFilePath:function(e){var t="&"+_.mobile.subPageUrlKey;return e&&e.split(t)[0].split(x)[0]},isFirstPageUrl:function(e){var t=w.parseUrl(w.makeUrlAbsolute(e,this.documentBase)),n=t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash,i=_.mobile.firstPage,o=i&&i[0]?i[0].id:y;return n&&(!t.hash||"#"===t.hash||o&&t.hash.replace(/^#/,"")===o)},isPermittedCrossDomainRequest:function(e,t){return _.mobile.allowCrossDomainPages&&"file:"===e.protocol&&-1!==t.search(/^https?:/)}}),r=null,s=null,t=_.Deferred(),b=_.mobile.navigate.history,C=[],D=!1,x="&ui-state=dialog",i=e.children("base"),T=w.documentUrl,l=w.documentBase,c=(w.documentBaseDiffers,_.mobile.getScreenHeight),k=_.support.dynamicBaseTag?{element:i.length?i:_("<base>",{href:l.hrefNoHash}).prependTo(e),set:function(e){e=w.parseUrl(e).hrefNoHash,k.element.attr("href",w.makeUrlAbsolute(e,l))},reset:function(){k.element.attr("href",l.hrefNoSearch)}}:y;function S(e){!s||s.closest("."+_.mobile.activePageClass).length&&!e||s.removeClass(_.mobile.activeBtnClass),s=null}function M(){D=!1,0<C.length&&_.mobile.changePage.apply(null,C.pop())}_.mobile.getDocumentUrl=w.getDocumentUrl,_.mobile.getDocumentBase=w.getDocumentBase,_.mobile.back=function(){var e=F.navigator;this.phonegapNavigationEnabled&&e&&e.app&&e.app.backHistory?e.app.backHistory():F.history.back()},_.mobile.focusPage=function(e){var t=e.find("[autofocus]"),n=e.find(".ui-title:eq(0)");t.length?t.focus():n.length?n.focus():e.focus()};var o,a,u=!0;function I(e,t){t&&e.attr("data-"+_.mobile.ns+"role",t),e.page()}function P(){return _.mobile.activePage&&d(_.mobile.activePage)||l.hrefNoHash}function h(e){for(;e&&("string"!=typeof e.nodeName||"a"!==e.nodeName.toLowerCase());)e=e.parentNode;return e}function d(e){var t=_(e).closest(".ui-page").jqmData("url"),n=l.hrefNoHash;return t&&w.isPath(t)||(t=n),w.makeUrlAbsolute(t,n)}o=function(){if(u){var e=_.mobile.urlHistory.getActive();if(e){var t=n.scrollTop();e.lastScroll=t<_.mobile.minScrollBack?_.mobile.defaultHomeScroll:t}}},a=function(){setTimeout(o,100)},n.bind(_.support.pushState?"popstate":"hashchange",function(){u=!1}),n.one(_.support.pushState?"popstate":"hashchange",function(){u=!0}),n.one("pagecontainercreate",function(){_.mobile.pageContainer.bind("pagechange",function(){u=!0,n.unbind("scrollstop",a),n.bind("scrollstop",a)})}),n.bind("scrollstop",a),_.mobile._maybeDegradeTransition=_.mobile._maybeDegradeTransition||function(e){return e},_.mobile.resetActivePageHeight=function(e){var t=_("."+_.mobile.activePageClass),n=parseFloat(t.css("padding-top")),i=parseFloat(t.css("padding-bottom")),o=parseFloat(t.css("border-top-width")),a=parseFloat(t.css("border-bottom-width"));e="number"==typeof e?e:c(),t.css("min-height",e-n-i-o-a)},_.fn.animationComplete=function(e){return _.support.cssTransitions?_(this).one("webkitAnimationEnd animationend",e):(setTimeout(e,0),_(this))},_.mobile.path=w,_.mobile.base=k,_.mobile.urlHistory=b,_.mobile.dialogHashKey=x,_.mobile.allowCrossDomainPages=!1,_.mobile._bindPageRemove=function(){var e=_(this);!e.data("mobile-page").options.domCache&&e.is(":jqmData(external-page='true')")&&e.bind("pagehide.remove",function(e){var t=_(this),n=new _.Event("pageremove");t.trigger(n),n.isDefaultPrevented()||t.removeWithDependents()})},_.mobile.loadPage=function(l,c){var u=_.Deferred(),h=_.extend({},_.mobile.loadPage.defaults,c),d=null,p=null,f=w.makeUrlAbsolute(l,P());h.data&&"get"===h.type&&(f=w.addSearchParams(f,h.data),h.data=y),h.data&&"post"===h.type&&(h.reloadPage=!0);var m=w.getFilePath(f),g=w.convertUrlToDataUrl(f);if(h.pageContainer=h.pageContainer||_.mobile.pageContainer,0===(d=h.pageContainer.children("[data-"+_.mobile.ns+"url='"+g+"']")).length&&g&&!w.isPath(g)&&(d=h.pageContainer.children("#"+g).attr("data-"+_.mobile.ns+"url",g).jqmData("url",g)),0===d.length)if(_.mobile.firstPage&&w.isFirstPageUrl(m))_.mobile.firstPage.parent().length&&(d=_(_.mobile.firstPage));else if(w.isEmbeddedPage(m))return u.reject(f,c),u.promise();if(d.length){if(!h.reloadPage)return I(d,h.role),u.resolve(f,c,d),k&&!c.prefetch&&k.set(l),u.promise();p=d}var e=h.pageContainer,t=new _.Event("pagebeforeload"),v={url:l,absUrl:f,dataUrl:g,deferred:u,options:h};if(e.trigger(t,v),t.isDefaultPrevented())return u.promise();if(h.showLoadMsg)var n=setTimeout(function(){_.mobile.showPageLoadingMsg()},h.loadMsgDelay),b=function(){clearTimeout(n),_.mobile.hidePageLoadingMsg()};return!k||void 0!==c&&void 0!==c.prefetch||k.reset(),_.mobile.allowCrossDomainPages||w.isSameDomain(T,f)?_.ajax({url:m,type:h.type,data:h.data,contentType:h.contentType,dataType:"html",success:function(e,t,n){var i=_("<div></div>"),o=e.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,a=new RegExp("(<[^>]+\\bdata-"+_.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),s=new RegExp("\\bdata-"+_.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(a.test(e)&&RegExp.$1&&s.test(RegExp.$1)&&RegExp.$1&&(l=m=w.getFilePath(_("<div>"+RegExp.$1+"</div>").text())),!k||void 0!==c&&void 0!==c.prefetch||k.set(m),i.get(0).innerHTML=e,(d=i.find(":jqmData(role='page'), :jqmData(role='dialog')").first()).length||(d=_("<div data-"+_.mobile.ns+"role='page'>"+(e.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),o&&!d.jqmData("title")&&(~o.indexOf("&")&&(o=_("<div>"+o+"</div>").text()),d.jqmData("title",o)),!_.support.dynamicBaseTag){var r=w.get(m);d.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var e=_(this).is("[href]")?"href":_(this).is("[src]")?"src":"action",t=_(this).attr(e);t=t.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(t)||_(this).attr(e,r+t)})}d.attr("data-"+_.mobile.ns+"url",w.convertUrlToDataUrl(m)).attr("data-"+_.mobile.ns+"external-page",!0).appendTo(h.pageContainer),d.one("pagecreate",_.mobile._bindPageRemove),I(d,h.role),-1<f.indexOf("&"+_.mobile.subPageUrlKey)&&(d=h.pageContainer.children("[data-"+_.mobile.ns+"url='"+g+"']")),h.showLoadMsg&&b(),v.xhr=n,v.textStatus=t,v.page=d,h.pageContainer.trigger("pageload",v),u.resolve(f,c,d,p)},error:function(e,t,n){k&&k.set(w.get()),v.xhr=e,v.textStatus=t,v.errorThrown=n;var i=new _.Event("pageloadfailed");h.pageContainer.trigger(i,v),i.isDefaultPrevented()||(h.showLoadMsg&&(b(),_.mobile.showPageLoadingMsg(_.mobile.pageLoadErrorMessageTheme,_.mobile.pageLoadErrorMessage,!0),setTimeout(_.mobile.hidePageLoadingMsg,1500)),u.reject(f,c))}}):u.reject(f,c),u.promise()},_.mobile.loadPage.defaults={type:"get",data:y,reloadPage:!1,role:y,showLoadMsg:!1,pageContainer:y,loadMsgDelay:50},_.mobile.changePage=function(a,e){if(D)C.unshift(arguments);else{var t,s=_.extend({},_.mobile.changePage.defaults,e);s.pageContainer=s.pageContainer||_.mobile.pageContainer,s.fromPage=s.fromPage||_.mobile.activePage,t="string"==typeof a;var r=s.pageContainer,n=new _.Event("pagebeforechange"),l={toPage:a,options:s};if(l.absUrl=t?w.makeUrlAbsolute(a,P()):a.data("absUrl"),r.trigger(n,l),!n.isDefaultPrevented()){if(a=l.toPage,D=!0,t="string"==typeof a)return s.target=a,void _.mobile.loadPage(a,s).done(function(e,t,n,i){D=!1,t.duplicateCachedPage=i,n.data("absUrl",l.absUrl),_.mobile.changePage(n,t)}).fail(function(e,t){S(!0),M(),s.pageContainer.trigger("pagechangefailed",l)});a[0]!==_.mobile.firstPage[0]||s.dataUrl||(s.dataUrl=T.hrefNoHash);var i=s.fromPage,o=s.dataUrl&&w.convertUrlToDataUrl(s.dataUrl)||a.jqmData("url"),c=o,u=(w.getFilePath(o),b.getActive()),h=0===b.activeIndex,d=0,p=j.title,f="dialog"===s.role||"dialog"===a.jqmData("role");if(i&&i[0]===a[0]&&!s.allowSamePageTransition)return D=!1,r.trigger("pagechange",l),void(s.fromHashChange&&b.direct({url:o}));I(a,s.role),s.fromHashChange&&(d="back"===e.direction?-1:1);try{j.activeElement&&"body"!==j.activeElement.nodeName.toLowerCase()?_(j.activeElement).blur():_("input:focus, textarea:focus, select:focus").blur()}catch(e){}var m=!1;f&&u&&(u.url&&-1<u.url.indexOf(x)&&_.mobile.activePage&&!_.mobile.activePage.is(".ui-dialog")&&0<b.activeIndex&&(m=!(s.changeHash=!1)),o=u.url||"",!m&&-1<o.indexOf("#")?o+=x:o+="#"+x,0===b.activeIndex&&o===b.initialDst&&(o+=x));var g,v=u?a.jqmData("title")||a.children(":jqmData(role='header')").find(".ui-title").text():p;if(v&&p===j.title&&(p=v),a.jqmData("title")||a.jqmData("title",p),s.transition=s.transition||(d&&!h?u.transition:y)||(f?_.mobile.defaultDialogTransition:_.mobile.defaultPageTransition),!d&&m&&(b.getActive().pageUrl=c),o&&!s.fromHashChange)!w.isPath(o)&&o.indexOf("#")<0&&(o="#"+o),!(g={transition:s.transition,title:p,pageUrl:c,role:s.role})!==s.changeHash&&_.mobile.hashListeningEnabled?_.mobile.navigate(o,g,!0):a[0]!==_.mobile.firstPage[0]&&_.mobile.navigate.history.add(o,g);j.title=p,_.mobile.activePage=a,s.reverse=s.reverse||d<0,function(e,t,n,i){t&&t.data("mobile-page")._trigger("beforehide",null,{nextPage:e}),e.data("mobile-page")._trigger("beforeshow",null,{prevPage:t||_("")}),_.mobile.hidePageLoadingMsg(),n=_.mobile._maybeDegradeTransition(n);var o=(_.mobile.transitionHandlers[n||"default"]||_.mobile.defaultTransitionHandler)(n,i,e,t);return o.done(function(){t&&t.data("mobile-page")._trigger("hide",null,{nextPage:e}),e.data("mobile-page")._trigger("show",null,{prevPage:t||_("")})}),o}(a,i,s.transition,s.reverse).done(function(e,t,n,i,o){S(),s.duplicateCachedPage&&s.duplicateCachedPage.remove(),o||_.mobile.focusPage(a),M(),r.trigger("pagechange",l)})}}},_.mobile.changePage.defaults={transition:y,reverse:!1,changeHash:!0,fromHashChange:!1,role:y,duplicateCachedPage:y,pageContainer:y,showLoadMsg:!0,dataUrl:y,fromPage:y,allowSamePageTransition:!1},_.mobile.navreadyDeferred=_.Deferred(),_.mobile._registerInternalEvents=function(){var a=function(e,t){var n,i,o,a,s=!0;return!(!_.mobile.ajaxEnabled||e.is(":jqmData(ajax='false')")||!e.jqmHijackable().length||e.attr("target"))&&(n=e.attr("action"),a=(e.attr("method")||"get").toLowerCase(),n||(n=d(e),"get"===a&&(n=w.parseUrl(n).hrefNoSearch),n===l.hrefNoHash&&(n=T.hrefNoSearch)),n=w.makeUrlAbsolute(n,d(e)),!(w.isExternal(n)&&!w.isPermittedCrossDomainRequest(T,n))&&(t||(i=e.serializeArray(),r&&r[0].form===e[0]&&(o=r.attr("name"))&&(_.each(i,function(e,t){if(t.name===o)return o="",!1}),o&&i.push({name:o,value:r.attr("value")})),s={url:n,options:{type:a,data:_.param(i),transition:e.jqmData("transition"),reverse:"reverse"===e.jqmData("direction"),reloadPage:!0}}),s))};_.mobile.document.delegate("form","submit",function(e){var t=a(_(this));t&&(_.mobile.changePage(t.url,t.options),e.preventDefault())}),_.mobile.document.bind("vclick",function(e){var t,n,i=e.target,o=!1;if(!(1<e.which)&&_.mobile.linkBindingEnabled){if(r=_(i),_.data(i,"mobile-button")){if(!a(_(i).closest("form"),!0))return;i.parentNode&&(i=i.parentNode)}else{if(!(i=h(i))||"#"===w.parseUrl(i.getAttribute("href")||"#").hash)return;if(!_(i).jqmHijackable().length)return}~i.className.indexOf("ui-link-inherit")?i.parentNode&&(n=_.data(i.parentNode,"buttonElements")):n=_.data(i,"buttonElements"),n?i=n.outer:o=!0,t=_(i),o&&(t=t.closest(".ui-btn")),0<t.length&&!t.hasClass("ui-disabled")&&(S(!0),(s=t).addClass(_.mobile.activeBtnClass))}}),_.mobile.document.bind("click",function(e){if(_.mobile.linkBindingEnabled&&!e.isDefaultPrevented()){var t,n=h(e.target),i=_(n);if(n&&!(1<e.which)&&i.jqmHijackable().length){if(t=function(){F.setTimeout(function(){S(!0)},200)},i.is(":jqmData(rel='back')"))return _.mobile.back(),!1;var o=d(i),a=w.makeUrlAbsolute(i.attr("href")||"#",o);if(_.mobile.ajaxEnabled||w.isEmbeddedPage(a)){if(-1!==a.search("#")){if(!(a=a.replace(/[^#]*#/,"")))return void e.preventDefault();a=w.isPath(a)?w.makeUrlAbsolute(a,o):w.makeUrlAbsolute("#"+a,T.hrefNoHash)}if(i.is("[rel='external']")||i.is(":jqmData(ajax='false')")||i.is("[target]")||w.isExternal(a)&&!w.isPermittedCrossDomainRequest(T,a))t();else{var s=i.jqmData("transition"),r="reverse"===i.jqmData("direction")||i.jqmData("back"),l=i.attr("data-"+_.mobile.ns+"rel")||y;_.mobile.changePage(a,{transition:s,reverse:r,role:l,link:i}),e.preventDefault()}}else t()}}}),_.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var n=[];_(this).find("a:jqmData(prefetch)").each(function(){var e=_(this),t=e.attr("href");t&&-1===_.inArray(t,n)&&(n.push(t),_.mobile.loadPage(t,{role:e.attr("data-"+_.mobile.ns+"rel"),prefetch:!0}))})}),_.mobile._handleHashChange=function(e,t){var n=w.stripHash(e),i=0===_.mobile.urlHistory.stack.length?"none":y,o={changeHash:!1,fromHashChange:!0,reverse:"back"===t.direction};if(_.extend(o,t,{transition:(b.getLast()||{}).transition||i}),0<b.activeIndex&&-1<n.indexOf(x)&&b.initialDst!==n){if(_.mobile.activePage&&!_.mobile.activePage.is(".ui-dialog"))return void("back"===t.direction?_.mobile.back():F.history.forward());n=t.pageUrl;var a=_.mobile.urlHistory.getActive();_.extend(o,{role:a.role,transition:a.transition,reverse:"back"===t.direction})}n?((n=w.isPath(n)?n:w.makeUrlAbsolute("#"+n,l))===w.makeUrlAbsolute("#"+b.initialDst,l)&&b.stack.length&&b.stack[0].url!==b.initialDst.replace(x,"")&&(n=_.mobile.firstPage),_.mobile.changePage(n,o)):_.mobile.changePage(_.mobile.firstPage,o)},n.bind("navigate",function(e,t){var n;e.originalEvent&&e.originalEvent.isDefaultPrevented()||((n=-1<_.event.special.navigate.originalEventName.indexOf("hashchange")?t.state.hash:t.state.url)||(n=_.mobile.path.parseLocation().hash),n&&"#"!==n&&0!==n.indexOf("#"+_.mobile.path.uiStateKey)||(n=location.href),_.mobile._handleHashChange(n,t.state))}),_.mobile.document.bind("pageshow",_.mobile.resetActivePageHeight),_.mobile.window.bind("throttledresize",_.mobile.resetActivePageHeight)},_(function(){t.resolve()}),_.when(t,_.mobile.navreadyDeferred).done(function(){_.mobile._registerInternalEvents()})}(e),e.mobile.transitionFallbacks.flip="fade",e.mobile.transitionFallbacks.flow="fade",e.mobile.transitionFallbacks.pop="fade",(O=e).mobile.transitionHandlers.slide=O.mobile.transitionHandlers.simultaneous,O.mobile.transitionFallbacks.slide="fade",e.mobile.transitionFallbacks.slidedown="fade",e.mobile.transitionFallbacks.slidefade="fade",e.mobile.transitionFallbacks.slideup="fade",e.mobile.transitionFallbacks.turn="fade",(N=e).mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},N.mobile.document.bind("pagecreate create",function(e){var r,t=N.mobile.closestPageData(N(e.target));t&&(r=t.options,N(e.target).find("input").not(t.keepNativeSelector()).each(function(){var e=N(this),t=this.getAttribute("type"),n=r.degradeInputs[t]||"text";if(r.degradeInputs[t]){var i=N("<div>").html(e.clone()).html(),o=-1<i.indexOf(" type="),a=o?/\s+type=["']?\w+['"]?/:/\/?>/,s=' type="'+n+'" data-'+N.mobile.ns+'type="'+t+'"'+(o?"":">");e.replaceWith(i.replace(a,s))}}))}),(H=e).widget("mobile.dialog",H.mobile.widget,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,initSelector:":jqmData(role='dialog')"},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_create:function(){var e=this.element,t=this.options.corners?" ui-corner-all":"",n=H("<div/>",{role:"dialog",class:"ui-dialog-contain ui-overlay-shadow"+t});e.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),e.wrapInner(n),e.bind("vclick submit",function(e){var t,n=H(e.target).closest("vclick"===e.type?"a":"form");n.length&&!n.jqmData("transition")&&(t=H.mobile.urlHistory.getActive()||{},n.attr("data-"+H.mobile.ns+"transition",t.transition||H.mobile.defaultDialogTransition).attr("data-"+H.mobile.ns+"direction","reverse"))}),this._on(e,{pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),H.extend(this,{_createComplete:!1}),this._setCloseBtn(this.options.closeBtn)},_setCloseBtn:function(e){var t,n=this;this._headerCloseButton&&(this._headerCloseButton.remove(),this._headerCloseButton=null),"none"!==e&&(t=H("<a href='#' class='ui-btn-"+("left"===e?"left":"right")+"' data-"+H.mobile.ns+"icon='delete' data-"+H.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),this.element.children().find(":jqmData(role='header')").first().prepend(t),this._createComplete&&H.fn.buttonMarkup&&t.buttonMarkup(),this._createComplete=!0,t.bind("click",function(){n.close()}),this._headerCloseButton=t)},_setOption:function(e,t){"closeBtn"===e&&this._setCloseBtn(t),this._super(e,t)},close:function(){var e,t,n=H.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,H.mobile.hashListeningEnabled&&0<n.activeIndex?H.mobile.back():(e=Math.max(0,n.activeIndex-1),t=n.stack[e].pageUrl||n.stack[e].url,n.previousIndex=n.activeIndex,n.activeIndex=e,H.mobile.path.isPath(t)||(t=H.mobile.path.makeUrlAbsolute("#"+t)),H.mobile.changePage(t,{direction:"back",changeHash:!1,fromHashChange:!0})))}}),H.mobile.document.delegate(H.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){H.mobile.dialog.prototype.enhance(this)}),(z=e).mobile.page.prototype.options.backBtnText="Back",z.mobile.page.prototype.options.addBackBtn=!1,z.mobile.page.prototype.options.backBtnTheme=null,z.mobile.page.prototype.options.headerTheme="a",z.mobile.page.prototype.options.footerTheme="a",z.mobile.page.prototype.options.contentTheme=null,z.mobile.document.bind("pagecreate",function(e){var l=z(e.target),c=l.data("mobile-page").options,u=l.jqmData("role"),h=c.theme;z(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",l).jqmEnhanceable().each(function(){var e,t,n,i=z(this),o=i.jqmData("role"),a=i.jqmData("theme"),s=a||c.contentTheme||"dialog"===u&&h;if(i.addClass("ui-"+o),"header"===o||"footer"===o){var r=a||("header"===o?c.headerTheme:c.footerTheme)||h;i.addClass("ui-bar-"+r).attr("role","header"===o?"banner":"contentinfo"),"header"===o&&(t=(e=i.children("a, button")).hasClass("ui-btn-left"),n=e.hasClass("ui-btn-right"),t=t||e.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,n=n||e.eq(1).addClass("ui-btn-right").length),c.addBackBtn&&"header"===o&&1<z(".ui-page").length&&l.jqmData("url")!==z.mobile.path.stripHash(location.hash)&&!t&&z("<a href='javascript:void(0);' class='ui-btn-left' data-"+z.mobile.ns+"rel='back' data-"+z.mobile.ns+"icon='arrow-l'>"+c.backBtnText+"</a>").attr("data-"+z.mobile.ns+"theme",c.backBtnTheme||r).prependTo(i),i.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else"content"===o&&(s&&i.addClass("ui-body-"+s),i.attr("role","main"))})}),function(m,g){var v=function(e,t){var n=e.getAttribute(t);return"true"===n||"false"!==n&&(null===n?g:n)};function l(e){for(var t;e&&!((t="string"==typeof e.className&&e.className+" ")&&-1<t.indexOf("ui-btn ")&&t.indexOf("ui-disabled ")<0);)e=e.parentNode;return e}function c(e,t,n,i,o){var a=m.data(e[0],"buttonElements");e.removeClass(t).addClass(n),a&&(a.bcls=m(j.createElement("div")).addClass(a.bcls+" "+n).removeClass(t).attr("class"),i!==g&&(a.hover=i),a.state=o)}m.fn.buttonMarkup=function(e){var t,n="data-"+m.mobile.ns;e=e&&"object"===m.type(e)?e:{};for(var i=0;i<this.length;i++){var o,a,s,r,l,c,u=this.eq(i),h=u[0],d=m.extend({},m.fn.buttonMarkup.defaults,{icon:e.icon!==g?e.icon:v(h,n+"icon"),iconpos:e.iconpos!==g?e.iconpos:v(h,n+"iconpos"),theme:e.theme!==g?e.theme:v(h,n+"theme")||m.mobile.getInheritedTheme(u,"c"),inline:e.inline!==g?e.inline:v(h,n+"inline"),shadow:e.shadow!==g?e.shadow:v(h,n+"shadow"),corners:e.corners!==g?e.corners:v(h,n+"corners"),iconshadow:e.iconshadow!==g?e.iconshadow:v(h,n+"iconshadow"),mini:e.mini!==g?e.mini:v(h,n+"mini")},e),p=!1,f="up";for(t in d)d[t]===g||null===d[t]?u.removeAttr(n+t):h.setAttribute(n+t,d[t]);for((c=m.data("INPUT"===h.tagName||"BUTTON"===h.tagName?h.parentNode:h,"buttonElements"))?(h=c.outer,u=m(h),s=c.inner,r=c.text,m(c.icon).remove(),c.icon=null,p=c.hover,f=c.state):(s=j.createElement(d.wrapperEls),r=j.createElement(d.wrapperEls)),l=d.icon?j.createElement("span"):null,b&&!c&&b(),d.theme||(d.theme=m.mobile.getInheritedTheme(u,"c")),o="ui-btn ",o+=p?"ui-btn-hover-"+d.theme:"",o+=f?" ui-btn-"+f+"-"+d.theme:"",o+=d.shadow?" ui-shadow":"",o+=d.corners?" ui-btn-corner-all":"",d.mini!==g&&(o+=!0===d.mini?" ui-mini":" ui-fullsize"),d.inline!==g&&(o+=!0===d.inline?" ui-btn-inline":" ui-btn-block"),d.icon&&(d.icon="ui-icon-"+d.icon,d.iconpos=d.iconpos||"left",a="ui-icon "+d.icon,d.iconshadow&&(a+=" ui-icon-shadow")),d.iconpos&&(o+=" ui-btn-icon-"+d.iconpos,"notext"!==d.iconpos||u.attr("title")||u.attr("title",u.getEncodedText())),c&&u.removeClass(c.bcls||""),u.removeClass("ui-link").addClass(o),s.className="ui-btn-inner",r.className="ui-btn-text",c||s.appendChild(r),l&&(l.className=a,c&&c.icon||(l.innerHTML="&#160;",s.appendChild(l)));h.firstChild&&!c;)r.appendChild(h.firstChild);c||h.appendChild(s),c={hover:p,state:f,bcls:o,outer:h,inner:s,text:r,icon:l},m.data(h,"buttonElements",c),m.data(s,"buttonElements",c),m.data(r,"buttonElements",c),l&&m.data(l,"buttonElements",c)}return this},m.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};var b=function(){var a,s,r=m.mobile.buttonMarkup.hoverDelay;m.mobile.document.bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(e){var t,n=m(l(e.target)),i=e.originalEvent&&/^touch/.test(e.originalEvent.type),o=e.type;n.length&&(t=n.attr("data-"+m.mobile.ns+"theme"),"vmousedown"===o?i?a=setTimeout(function(){c(n,"ui-btn-up-"+t,"ui-btn-down-"+t,g,"down")},r):c(n,"ui-btn-up-"+t,"ui-btn-down-"+t,g,"down"):"vmousecancel"===o||"vmouseup"===o?c(n,"ui-btn-down-"+t,"ui-btn-up-"+t,g,"up"):"vmouseover"===o||"focus"===o?i?s=setTimeout(function(){c(n,"ui-btn-up-"+t,"ui-btn-hover-"+t,!0,"")},r):c(n,"ui-btn-up-"+t,"ui-btn-hover-"+t,!0,""):"vmouseout"!==o&&"blur"!==o&&"scrollstart"!==o||(c(n,"ui-btn-hover-"+t+" ui-btn-down-"+t,"ui-btn-up-"+t,!1,"up"),a&&clearTimeout(a),s&&clearTimeout(s)))},"focusin focus":function(e){m(l(e.target)).addClass(m.mobile.focusClass)},"focusout blur":function(e){m(l(e.target)).removeClass(m.mobile.focusClass)}}),b=null};m.mobile.document.bind("pagecreate create",function(e){m(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",e.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(e),(R=e).widget("mobile.collapsible",R.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:"plus",expandedIcon:"minus",iconpos:"left",theme:null,contentTheme:null,inset:!0,corners:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var e=this.element,i=this.options,n=e.addClass("ui-collapsible"),o=e.children(i.heading).first(),a=n.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),t=e.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set"),s="";o.is("legend")&&(o=R("<div role='heading'>"+o.html()+"</div>").insertBefore(o)).next().remove(),t.length?(i.theme||(i.theme=t.jqmData("theme")||R.mobile.getInheritedTheme(t,"c")),i.contentTheme||(i.contentTheme=t.jqmData("content-theme")),i.collapsedIcon=e.jqmData("collapsed-icon")||t.jqmData("collapsed-icon")||i.collapsedIcon,i.expandedIcon=e.jqmData("expanded-icon")||t.jqmData("expanded-icon")||i.expandedIcon,i.iconpos=e.jqmData("iconpos")||t.jqmData("iconpos")||i.iconpos,void 0!==t.jqmData("inset")?i.inset=t.jqmData("inset"):i.inset=!0,i.corners=!1,i.mini||(i.mini=t.jqmData("mini"))):i.theme||(i.theme=R.mobile.getInheritedTheme(e,"c")),i.inset&&(s+=" ui-collapsible-inset",i.corners&&(s+=" ui-corner-all")),i.contentTheme&&(s+=" ui-collapsible-themed-content",a.addClass("ui-body-"+i.contentTheme)),""!==s&&n.addClass(s),o.insertBefore(a).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:i.iconpos,icon:i.collapsedIcon,mini:i.mini,theme:i.theme}),n.bind("expand collapse",function(e){if(!e.isDefaultPrevented()){var t=R(this),n="collapse"===e.type;e.preventDefault(),o.toggleClass("ui-collapsible-heading-collapsed",n).find(".ui-collapsible-heading-status").text(n?i.expandCueText:i.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+i.expandedIcon,!n).toggleClass("ui-icon-"+i.collapsedIcon,n||i.expandedIcon===i.collapsedIcon).end().find("a").first().removeClass(R.mobile.activeBtnClass),t.toggleClass("ui-collapsible-collapsed",n),a.toggleClass("ui-collapsible-content-collapsed",n).attr("aria-hidden",n),a.trigger("updatelayout")}}).trigger(i.collapsed?"collapse":"expand"),o.bind("tap",function(e){o.find("a").first().addClass(R.mobile.activeBtnClass)}).bind("click",function(e){var t=o.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";n.trigger(t),e.preventDefault(),e.stopPropagation()})}}),R.mobile.document.bind("pagecreate create",function(e){R.mobile.collapsible.prototype.enhanceWithin(e.target)}),e.mobile.behaviors.addFirstLastClasses={_getVisibles:function(e,t){var n;return t?n=e.not(".ui-screen-hidden"):0===(n=e.filter(":visible")).length&&(n=e.not(".ui-screen-hidden")),n},_addFirstLastClasses:function(e,t,n){e.removeClass("ui-first-child ui-last-child"),t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),n||this.element.trigger("updatelayout")}},(q=e).widget("mobile.collapsibleset",q.mobile.widget,q.extend({options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var e=this.element.addClass("ui-collapsible-set"),t=this.options;t.theme||(t.theme=q.mobile.getInheritedTheme(e,"c")),t.contentTheme||(t.contentTheme=e.jqmData("content-theme")),t.corners||(t.corners=e.jqmData("corners")),e.jqmData("inset")!==B&&(t.inset=e.jqmData("inset")),t.inset=t.inset===B||t.inset,t.corners=t.corners===B||t.corners,t.corners&&t.inset&&e.addClass("ui-corner-all"),e.jqmData("collapsiblebound")||e.jqmData("collapsiblebound",!0).bind("expand",function(e){var t=q(e.target).closest(".ui-collapsible");t.parent().is(":jqmData(role='collapsible-set')")&&t.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var e=this.element.children(":jqmData(role='collapsible')").filter(":jqmData(collapsed='false')");this._refresh("true"),e.trigger("expand")},_refresh:function(e){var t=this.element.children(":jqmData(role='collapsible')");q.mobile.collapsible.prototype.enhance(t.not(".ui-collapsible")),this._addFirstLastClasses(t,this._getVisibles(t,e),e)},refresh:function(){this._refresh(!1)}},q.mobile.behaviors.addFirstLastClasses)),q.mobile.document.bind("pagecreate create",function(e){q.mobile.collapsibleset.prototype.enhanceWithin(e.target)}),(W=e).fn.fieldcontain=function(e){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===this.nodeType&&!/\S/.test(this.nodeValue)}).remove()},W(j).bind("pagecreate create",function(e){W(":jqmData(role='fieldcontain')",e.target).jqmEnhanceable().fieldcontain()}),($=e).fn.grid=function(r){return this.each(function(){var e,t=$(this),n=$.extend({grid:null},r),i=t.children(),o={solo:1,a:2,b:3,c:4,d:5,e:6,f:7},a=n.grid;if(!a)if(i.length<=7)for(var s in o)o[s]===i.length&&(a=s);else a="a",t.addClass("ui-grid-duo");e=o[a],t.addClass("ui-grid-"+a),i.filter(":nth-child("+e+"n+1)").addClass("ui-block-a"),1<e&&i.filter(":nth-child("+e+"n+2)").addClass("ui-block-b"),2<e&&i.filter(":nth-child("+e+"n+3)").addClass("ui-block-c"),3<e&&i.filter(":nth-child("+e+"n+4)").addClass("ui-block-d"),4<e&&i.filter(":nth-child("+e+"n+5)").addClass("ui-block-e"),5<e&&i.filter(":nth-child("+e+"n+6)").addClass("ui-block-f"),6<e&&i.filter(":nth-child("+e+"n+7)").addClass("ui-block-g")})},(U=e).widget("mobile.navbar",U.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var e=this.element,n=e.find("a"),t=n.filter(":jqmData(icon)").length?this.options.iconpos:void 0;e.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),n.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:t}),e.delegate("a","vclick",function(e){if(!(U(e.target).is("a")?U(this):U(this).parent("a")).is(".ui-disabled, .ui-btn-active")){n.removeClass(U.mobile.activeBtnClass),U(this).addClass(U.mobile.activeBtnClass);var t=U(this);U(j).one("pagehide",function(){t.removeClass(U.mobile.activeBtnClass)})}}),e.closest(".ui-page").bind("pagebeforeshow",function(){n.filter(".ui-state-persist").addClass(U.mobile.activeBtnClass)})}}),U.mobile.document.bind("pagecreate create",function(e){U.mobile.navbar.prototype.enhanceWithin(e.target)}),Y={},(G=e).widget("mobile.listview",G.mobile.widget,G.extend({options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",icon:"arrow-r",splitIcon:"arrow-r",splitTheme:"b",corners:!0,shadow:!0,inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var e=this,n="";n+=e.options.inset?" ui-listview-inset":"",e.options.inset&&(n+=e.options.corners?" ui-corner-all":"",n+=e.options.shadow?" ui-shadow":""),e.element.addClass(function(e,t){return t+" ui-listview"+n}),e.refresh(!0)},_findFirstElementByTagName:function(e,t,n,i){var o={};for(o[n]=o[i]=!0;e;){if(o[e.nodeName])return e;e=e[t]}return null},_getChildrenByTagName:function(e,t,n){var i=[],o={};for(o[t]=o[n]=!0,e=e.firstChild;e;)o[e.nodeName]&&i.push(e),e=e.nextSibling;return G(i)},_addThumbClasses:function(e){var t,n,i=e.length;for(t=0;t<i;t++)(n=G(this._findFirstElementByTagName(e[t].firstChild,"nextSibling","img","IMG"))).length&&(n.addClass("ui-li-thumb"),G(this._findFirstElementByTagName(n[0].parentNode,"parentNode","li","LI")).addClass(n.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(e){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var t,n,i,o,a,s,r,l,c,u,h,d=this.options,p=this.element,f=p.jqmData("dividertheme")||d.dividerTheme,m=p.jqmData("splittheme"),g=p.jqmData("spliticon"),v=p.jqmData("icon"),b=this._getChildrenByTagName(p[0],"li","LI"),_=!!G.nodeName(p[0],"ol"),y=!G.support.cssPseudoElement,w=p.attr("start"),C={};_&&y&&p.find(".ui-li-dec").remove(),_&&(w||0===w?y?r=parseInt(w,10):(l=parseInt(w,10)-1,p.css("counter-reset","listnumbering "+l)):y&&(r=1)),d.theme||(d.theme=G.mobile.getInheritedTheme(this.element,"c"));for(var D=0,x=b.length;D<x;D++){if(t=b.eq(D),n="ui-li",e||!t.hasClass("ui-li")){i=t.jqmData("theme")||d.theme,o=this._getChildrenByTagName(t[0],"a","A");var T="list-divider"===t.jqmData("role");o.length&&!T?(u=t.jqmData("icon"),t.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:!(1<o.length||!1===u)&&(u||v||d.icon),theme:i}),!1!==u&&1===o.length&&t.addClass("ui-li-has-arrow"),o.first().removeClass("ui-link").addClass("ui-link-inherit"),1<o.length&&(n+=" ui-li-has-alt",a=o.last(),s=m||a.jqmData("theme")||d.splitTheme,h=a.jqmData("icon"),a.appendTo(t).attr("title",G.trim(a.getEncodedText())).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:i,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(G(j.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:s,iconpos:"notext",icon:h||u||g||d.splitIcon})))):T?(n+=" ui-li-divider ui-bar-"+(t.jqmData("theme")||f),t.attr("role","heading"),_&&(w||0===w?y?r=parseInt(w,10):(c=parseInt(w,10)-1,t.css("counter-reset","listnumbering "+c)):y&&(r=1))):n+=" ui-li-static ui-btn-up-"+i}_&&y&&n.indexOf("ui-li-divider")<0&&(0<n.indexOf("ui-li-static")?t:t.find(".ui-link-inherit")).addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+r+++". </span>"),C[n]||(C[n]=[]),C[n].push(t[0])}for(n in C)G(C[n]).addClass(n).children(".ui-btn-inner").addClass(n);p.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var e=G(this);e.prependTo(e.parent())}).end().find(".ui-li-count").each(function(){G(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(p.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(b),this._addThumbClasses(p.find(".ui-link-inherit")),this._addFirstLastClasses(b,this._getVisibles(b,e),e),this._trigger("afterrefresh")},_idStringEscape:function(e){return e.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var h,d=this.element,o=d.closest(".ui-page"),p=o.jqmData("url"),e=p||o[0][G.expando],f=d.attr("id"),m=this.options,g="data-"+G.mobile.ns,a=this,v=o.find(":jqmData(role='footer')").jqmData("id");void 0===Y[e]&&(Y[e]=-1),f=f||++Y[e],G(d.find("li>ul, li>ol").toArray().reverse()).each(function(e){var t,n=G(this),i=n.attr("id")||f+"-"+e,o=n.parent(),a=G(n.prevAll().toArray().reverse()),s=a.length?a:G("<span>"+G.trim(o.contents()[0].nodeValue)+"</span>"),r=s.first().getEncodedText(),l=(p||"")+"&"+G.mobile.subPageUrlKey+"="+i,c=n.jqmData("theme")||m.theme,u=n.jqmData("counttheme")||d.jqmData("counttheme")||m.countTheme;h=!0,n.detach().wrap("<div "+g+"role='page' "+g+"url='"+l+"' "+g+"theme='"+c+"' "+g+"count-theme='"+u+"'><div "+g+"role='content'></div></div>").parent().before("<div "+g+"role='header' "+g+"theme='"+m.headerTheme+"'><div class='ui-title'>"+r+"</div></div>").after(v?G("<div "+g+"role='footer' "+g+"id='"+v+"'>"):"").parent().appendTo(G.mobile.pageContainer).page(),(t=o.find("a:first")).length||(t=G("<a/>").html(s||r).prependTo(o.empty())),t.attr("href","#"+l)}).listview(),h&&o.is(":jqmData(external-page='true')")&&!1===o.data("mobile-page").options.domCache&&o.unbind("pagehide.remove").bind("pagehide.remove",function(e,t){var n=t.nextPage,i=new G.Event("pageremove");t.nextPage&&0!==n.jqmData("url").indexOf(p+"&"+G.mobile.subPageUrlKey)&&(a.childPages().remove(),o.trigger(i),i.isDefaultPrevented()||o.removeWithDependents())})},childPages:function(){var e=this.parentPage.jqmData("url");return G(":jqmData(url^='"+e+"&"+G.mobile.subPageUrlKey+"')")}},G.mobile.behaviors.addFirstLastClasses)),G.mobile.document.bind("pagecreate create",function(e){G.mobile.listview.prototype.enhanceWithin(e.target)}),Z=(V=e)("meta[name=viewport]"),J=Z.attr("content"),K=J+",maximum-scale=1, user-scalable=no",X=J+",maximum-scale=10, user-scalable=yes",Q=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(J),V.mobile.zoom=V.extend({},{enabled:!Q,locked:!1,disable:function(e){Q||V.mobile.zoom.locked||(Z.attr("content",K),V.mobile.zoom.enabled=!1,V.mobile.zoom.locked=e||!1)},enable:function(e){Q||V.mobile.zoom.locked&&!0!==e||(Z.attr("content",X),V.mobile.zoom.enabled=!0,V.mobile.zoom.locked=!1)},restore:function(){Q||(Z.attr("content",J),V.mobile.zoom.enabled=!0)}}),(ee=e).widget("mobile.textinput",ee.mobile.widget,{options:{theme:null,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&-1<navigator.userAgent.indexOf("AppleWebKit"),initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type]), input[type='file']",clearBtn:!1,clearSearchButtonText:null,clearBtnText:"clear text",disabled:!1},_create:function(){var e,t,n,i=this,o=this.element,a=this.options,s=a.theme||ee.mobile.getInheritedTheme(this.element,"c"),r=" ui-body-"+s,l=a.mini?" ui-mini":"",c=o.is("[type='search'], :jqmData(type='search')"),u=a.clearSearchButtonText||a.clearBtnText,h=o.is("textarea, :jqmData(type='range')"),d=!!a.clearBtn&&!h,p=o.is("input")&&!o.is(":jqmData(type='range')");function f(){setTimeout(function(){t.toggleClass("ui-input-clear-hidden",!o.val())},0)}(ee("label[for='"+o.attr("id")+"']").addClass("ui-input-text"),e=o.addClass("ui-input-text ui-body-"+s),void 0===o[0].autocorrect||ee.support.touchOverflow||(o[0].setAttribute("autocorrect","off"),o[0].setAttribute("autocomplete","off")),c?e=o.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+r+l+"'></div>").parent():p&&(e=o.wrap("<div class='ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow"+r+l+"'></div>").parent()),d||c?(t=ee("<a href='#' class='ui-input-clear' title='"+u+"'>"+u+"</a>").bind("click",function(e){o.val("").focus().trigger("change"),t.addClass("ui-input-clear-hidden"),e.preventDefault()}).appendTo(e).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:a.mini}),c||e.addClass("ui-input-has-clear"),f(),o.bind("paste cut keyup input focus change blur",f)):p||c||o.addClass("ui-corner-all ui-shadow-inset"+r+l),o.focus(function(){a.preventFocusZoom&&ee.mobile.zoom.disable(!0),e.addClass(ee.mobile.focusClass)}).blur(function(){e.removeClass(ee.mobile.focusClass),a.preventFocusZoom&&ee.mobile.zoom.enable(!0)}),o.is("textarea"))&&(this._keyup=function(){var e=o[0].scrollHeight;if(o[0].clientHeight<e){var t=parseFloat(o.css("padding-top"))+parseFloat(o.css("padding-bottom"));o.height(e-t+15)}},o.on("keyup change input paste",function(){clearTimeout(n),n=setTimeout(i._keyup,100)}),this._on(!0,ee.mobile.document,{pagechange:"_keyup"}),ee.trim(o.val())&&this._on(!0,ee.mobile.window,{load:"_keyup"}));o.attr("disabled")&&this.disable()},disable:function(){var e=this.element.is("[type='search'], :jqmData(type='search')"),t=this.element.is("input")&&!this.element.is(":jqmData(type='range')");return(this.element.attr("disabled",!0)&&(t||e)?this.element.parent():this.element).addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var e=this.element.is("[type='search'], :jqmData(type='search')"),t=this.element.is("input")&&!this.element.is(":jqmData(type='range')");return(this.element.attr("disabled",!1)&&(t||e)?this.element.parent():this.element).removeClass("ui-disabled"),this._setOption("disabled",!1)}}),ee.mobile.document.bind("pagecreate create",function(e){ee.mobile.textinput.prototype.enhanceWithin(e.target,!0)}),function(p,e){p.mobile.listview.prototype.options.filter=!1,p.mobile.listview.prototype.options.filterPlaceholder="Filter items...",p.mobile.listview.prototype.options.filterTheme="c",p.mobile.listview.prototype.options.filterReveal=!1;var f=function(e,t,n){return-1===e.toString().toLowerCase().indexOf(t)};p.mobile.listview.prototype.options.filterCallback=f,p.mobile.document.delegate("ul, ol","listviewcreate",function(){var h=p(this),d=h.data("mobile-listview");if(d&&d.options.filter){d.options.filterReveal&&h.children().addClass("ui-screen-hidden");var e=p("<form>",{class:"ui-listview-filter ui-bar-"+d.options.filterTheme,role:"search"}).submit(function(e){e.preventDefault(),t.blur()}),t=p("<input>",{placeholder:d.options.filterPlaceholder}).attr("data-"+p.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change input",function(e){var t,n=p(this),i=this.value.toLowerCase(),o=null,a=h.children(),s=n.jqmData("lastval")+"",r=!1,l="",c=d.options.filterCallback!==f;if(!s||s!==i){if(d._trigger("beforefilter","beforefilter",{input:this}),n.jqmData("lastval",i),c||i.length<s.length||0!==i.indexOf(s)?o=h.children():!(o=h.children(":not(.ui-screen-hidden)")).length&&d.options.filterReveal&&(o=h.children(".ui-screen-hidden")),i){for(var u=o.length-1;0<=u;u--)l=(t=p(o[u])).jqmData("filtertext")||t.text(),t.is("li:jqmData(role=list-divider)")?(t.toggleClass("ui-filter-hidequeue",!r),r=!1):d.options.filterCallback(l,i,t)?t.toggleClass("ui-filter-hidequeue",!0):r=!0;o.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),o.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else o.toggleClass("ui-screen-hidden",!!d.options.filterReveal);d._addFirstLastClasses(a,d._getVisibles(a,!1),!1)}}).appendTo(e).textinput();d.options.inset&&e.addClass("ui-listview-filter-inset"),e.bind("submit",function(){return!1}).insertBefore(h)}})}(e),(te=e).mobile.listview.prototype.options.autodividers=!1,te.mobile.listview.prototype.options.autodividersSelector=function(e){var t=te.trim(e.text())||null;return t?t=t.slice(0,1).toUpperCase():null},te.mobile.document.delegate("ul,ol","listviewcreate",function(){var s=te(this),r=s.data("mobile-listview");if(r&&r.options.autodividers){var e=function(){s.unbind("listviewafterrefresh",e),function(){s.find("li:jqmData(role='list-divider')").remove();for(var e,t,n=s.find("li"),i=null,o=0;o<n.length;o++){if(e=n[o],(t=r.options.autodividersSelector(te(e)))&&i!==t){var a=j.createElement("li");a.appendChild(j.createTextNode(t)),a.setAttribute("data-"+te.mobile.ns+"role","list-divider"),e.parentNode.insertBefore(a,e)}i=t}}(),r.refresh(),s.bind("listviewafterrefresh",e)};e()}}),(ne=e)(j).bind("pagecreate create",function(e){ne(":jqmData(role='nojs')",e.target).addClass("ui-nojs")}),e.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}},(ie=e).widget("mobile.checkboxradio",ie.mobile.widget,ie.extend({options:{theme:null,mini:!1,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var t=this,n=this.element,e=this.options,i=function(e,t){return e.jqmData(t)||e.closest("form, fieldset").jqmData(t)},o=ie(n).closest("label"),a=o.length?o:ie(n).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+n[0].id+"']").first(),s=n[0].type,r=i(n,"mini")||e.mini,l=s+"-on",c=s+"-off",u=i(n,"iconpos"),h="ui-"+l,d="ui-"+c;if("checkbox"===s||"radio"===s){ie.extend(this,{label:a,inputtype:s,checkedClass:h,uncheckedClass:d,checkedicon:l,uncheckedicon:c}),e.theme||(e.theme=ie.mobile.getInheritedTheme(this.element,"c")),a.buttonMarkup({theme:e.theme,icon:c,shadow:!1,mini:r,iconpos:u});var p=j.createElement("div");p.className="ui-"+s,n.add(a).wrapAll(p),a.bind({vmouseover:function(e){ie(this).parent().is(".ui-disabled")&&e.stopPropagation()},vclick:function(e){if(!n.is(":disabled"))return t._cacheVals(),n.prop("checked","radio"===s||!n.prop("checked")),n.triggerHandler("click"),t._getInputSet().not(n).prop("checked",!1),t._updateAll(),!1;e.preventDefault()}}),n.bind({vmousedown:function(){t._cacheVals()},vclick:function(){var e=ie(this);e.is(":checked")?(e.prop("checked",!0),t._getInputSet().not(e).prop("checked",!1)):e.prop("checked",!1),t._updateAll()},focus:function(){a.addClass(ie.mobile.focusClass)},blur:function(){a.removeClass(ie.mobile.focusClass)}}),this._handleFormReset(),this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){ie(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var t=this;this._getInputSet().each(function(){var e=ie(this);(this.checked||"checkbox"===t.inputtype)&&e.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},refresh:function(){var e=this.element[0],t=" "+ie.mobile.activeBtnClass,n=this.checkedClass+(this.element.parents(".ui-controlgroup-horizontal").length?t:""),i=this.label;e.checked?i.removeClass(this.uncheckedClass+t).addClass(n).buttonMarkup({icon:this.checkedicon}):i.removeClass(n).addClass(this.uncheckedClass).buttonMarkup({icon:this.uncheckedicon}),e.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}},ie.mobile.behaviors.formReset)),ie.mobile.document.bind("pagecreate create",function(e){ie.mobile.checkboxradio.prototype.enhanceWithin(e.target,!0)}),(oe=e).widget("mobile.button",oe.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,inline:null,mini:null,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var e,t=this.element,n=function(e){var t,n={};for(t in e)null!==e[t]&&"initSelector"!==t&&(n[t]=e[t]);return n}(this.options),i="";"A"!==t[0].tagName?(this.options.theme||(this.options.theme=oe.mobile.getInheritedTheme(this.element,"c")),~t[0].className.indexOf("ui-btn-left")&&(i="ui-btn-left"),~t[0].className.indexOf("ui-btn-right")&&(i="ui-btn-right"),"submit"!==t.attr("type")&&"reset"!==t.attr("type")||(i?i+=" ui-submit":i="ui-submit"),oe("label[for='"+t.attr("id")+"']").addClass("ui-submit"),this.button=oe("<div></div>")[t.html()?"html":"text"](t.html()||t.val()).insertBefore(t).buttonMarkup(n).addClass(i).append(t.addClass("ui-btn-hidden")),e=this.button,t.bind({focus:function(){e.addClass(oe.mobile.focusClass)},blur:function(){e.removeClass(oe.mobile.focusClass)}}),this.refresh()):t.hasClass("ui-btn")||t.buttonMarkup()},_setOption:function(e,t){var n={};n[e]=t,"initSelector"!==e&&(this.button.buttonMarkup(n),this.element.attr("data-"+(oe.mobile.ns||"")+e.replace(/([A-Z])/,"-$1").toLowerCase(),t)),this._super("_setOption",e,t)},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var e=this.element;e.prop("disabled")?this.disable():this.enable(),oe(this.button.data("buttonElements").text)[e.html()?"html":"text"](e.html()||e.val())}}),oe.mobile.document.bind("pagecreate create",function(e){oe.mobile.button.prototype.enhanceWithin(e.target,!0)}),(ae=e).widget("mobile.slider",ae.mobile.widget,ae.extend({widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1,highlight:!1},_create:function(){var e,t,n,i=this.element,o=ae.mobile.getInheritedTheme(i,"c"),a=this.options.theme||o,s=this.options.trackTheme||o,r=i[0].nodeName.toLowerCase(),l=(this.isToggleSwitch="select"===r,i.parent().is(":jqmData(role='rangeslider')")),c=this.isToggleSwitch?"ui-slider-switch":"",u=i.attr("id"),h=ae("[for='"+u+"']"),d=h.attr("id")||u+"-label",p=h.attr("id",d),f=this.isToggleSwitch?0:parseFloat(i.attr("min")),m=this.isToggleSwitch?i.find("option").length-1:parseFloat(i.attr("max")),g=F.parseFloat(i.attr("step")||1),v=this.options.mini||i.jqmData("mini")?" ui-mini":"",b=j.createElement("a"),_=ae(b),y=j.createElement("div"),w=ae(y),C=!(!this.options.highlight||this.isToggleSwitch)&&((n=j.createElement("div")).className="ui-slider-bg "+ae.mobile.activeBtnClass+" ui-btn-corner-all",ae(n).prependTo(w));if(b.setAttribute("href","#"),y.setAttribute("role","application"),y.className=[this.isToggleSwitch?"ui-slider ":"ui-slider-track ",c," ui-btn-down-",s," ui-btn-corner-all",v].join(""),b.className="ui-slider-handle",y.appendChild(b),_.buttonMarkup({corners:!0,theme:a,shadow:!0}).attr({role:"slider","aria-valuemin":f,"aria-valuemax":m,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":d}),ae.extend(this,{slider:w,handle:_,type:r,step:g,max:m,min:f,valuebg:C,isRangeslider:l,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),this.isToggleSwitch){(t=j.createElement("div")).className="ui-slider-inneroffset";for(var D=0,x=y.childNodes.length;D<x;D++)t.appendChild(y.childNodes[D]);y.appendChild(t),_.addClass("ui-slider-handle-snapping");for(var T=0,k=(e=i.find("option")).length;T<k;T++){var S=T?"a":"b",M=T?" "+ae.mobile.activeBtnClass:" ui-btn-down-"+s,I=(j.createElement("div"),j.createElement("span"));I.className=["ui-slider-label ui-slider-label-",S,M," ui-btn-corner-all"].join(""),I.setAttribute("role","img"),I.appendChild(j.createTextNode(e[T].innerHTML)),ae(I).prependTo(w)}this._labels=ae(".ui-slider-label",w)}p.addClass("ui-slider"),i.addClass(this.isToggleSwitch?"ui-slider-switch":"ui-slider-input"),this._on(i,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),w.bind("vmousedown",ae.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(j,{vmousemove:"_preventDocumentDrag"}),this._on(w.add(j),{vmouseup:"_sliderVMouseUp"}),w.insertAfter(i),this.isToggleSwitch||l||(t=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",i.add(w).wrapAll(t)),this.isToggleSwitch&&this.handle.bind({focus:function(){w.addClass(ae.mobile.focusClass)},blur:function(){w.removeClass(ae.mobile.focusClass)}}),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(se,se,!0)},_controlChange:function(e){if(!1===this._trigger("controlchange",e))return!1;this.mouseMoved||this.refresh(this._value(),!0)},_controlKeyup:function(e){this.refresh(this._value(),!0,!0)},_controlBlur:function(e){this.refresh(this._value(),!0)},_controlVMouseUp:function(e){this._checkedRefresh()},_handleVMouseDown:function(e){this.handle.focus()},_handleKeydown:function(e){var t=this._value();if(!this.options.disabled){switch(e.keyCode){case ae.mobile.keyCode.HOME:case ae.mobile.keyCode.END:case ae.mobile.keyCode.PAGE_UP:case ae.mobile.keyCode.PAGE_DOWN:case ae.mobile.keyCode.UP:case ae.mobile.keyCode.RIGHT:case ae.mobile.keyCode.DOWN:case ae.mobile.keyCode.LEFT:e.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(e.keyCode){case ae.mobile.keyCode.HOME:this.refresh(this.min);break;case ae.mobile.keyCode.END:this.refresh(this.max);break;case ae.mobile.keyCode.PAGE_UP:case ae.mobile.keyCode.UP:case ae.mobile.keyCode.RIGHT:this.refresh(t+this.step);break;case ae.mobile.keyCode.PAGE_DOWN:case ae.mobile.keyCode.DOWN:case ae.mobile.keyCode.LEFT:this.refresh(t-this.step)}}},_handleKeyup:function(e){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(e){return this.options.disabled||1!==e.which&&0!==e.which&&e.which!==se||!1===this._trigger("beforestart",e)||(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(e),this._trigger("start")),!1},_sliderVMouseUp:function(){if(this.dragging)return this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.mouseMoved?this.userModified?this.refresh(0===this.beforeStart?1:0):this.refresh(this.beforeStart):this.refresh(0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1},_preventDocumentDrag:function(e){return!1!==this._trigger("drag",e)&&(this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(e),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0)},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(se,!1,!0)},refresh:function(e,t,n){var i,o,a,s,r=this,l=ae.mobile.getInheritedTheme(this.element,"c"),c=this.options.theme||l,u=this.options.trackTheme||l;r.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch":"ui-slider-track"," ui-btn-down-"+u," ui-btn-corner-all",this.options.mini?" ui-mini":""].join(""),(this.options.disabled||this.element.attr("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=((s=j.createElement("div")).className="ui-slider-bg "+ae.mobile.activeBtnClass+" ui-btn-corner-all",ae(s).prependTo(r.slider))),this.handle.buttonMarkup({corners:!0,theme:c,shadow:!0});var h,d,p=this.element,f=!this.isToggleSwitch,m=f?[]:p.find("option"),g=f?parseFloat(p.attr("min")):0,v=f?parseFloat(p.attr("max")):m.length-1,b=f&&0<parseFloat(p.attr("step"))?parseFloat(p.attr("step")):1;if("object"==typeof e){if(a=e,i=this.slider.offset().left,h=(o=this.slider.width())/((v-g)/b),!this.dragging||a.pageX<i-8||a.pageX>i+o+8)return;d=1<h?(a.pageX-i)/o*100:Math.round((a.pageX-i)/o*100)}else null==e&&(e=f?parseFloat(p.val()||0):p[0].selectedIndex),d=(parseFloat(e)-g)/(v-g)*100;if(!isNaN(d)){var _=d/100*(v-g)+g,y=(_-g)%b,w=_-y;2*Math.abs(y)>=b&&(w+=0<y?b:-b);var C=100/((v-g)/b);if(_=parseFloat(w.toFixed(5)),void 0===h&&(h=o/((v-g)/b)),1<h&&f&&(d=(_-g)*C*(1/b)),d<0&&(d=0),100<d&&(d=100),_<g&&(_=g),v<_&&(_=v),this.handle.css("left",d+"%"),this.handle[0].setAttribute("aria-valuenow",f?_:m.eq(_).attr("value")),this.handle[0].setAttribute("aria-valuetext",f?_:m.eq(_).getEncodedText()),this.handle[0].setAttribute("title",f?_:m.eq(_).getEncodedText()),this.valuebg&&this.valuebg.css("width",d+"%"),this._labels){var D=this.handle.width()/this.slider.width()*100,x=d&&D+(100-D)*d/100,T=100===d?0:Math.min(D+100-x,100);this._labels.each(function(){var e=ae(this).is(".ui-slider-label-a");ae(this).width((e?x:T)+"%")})}if(!n){var k=!1;if(f?(k=p.val()!==_,p.val(_)):(k=p[0].selectedIndex!==_,p[0].selectedIndex=_),!1===this._trigger("beforechange",e))return!1;!t&&k&&p.trigger("change")}}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}},ae.mobile.behaviors.formReset)),ae.mobile.document.bind("pagecreate create",function(e){ae.mobile.slider.prototype.enhanceWithin(e.target,!0)}),(re=e).widget("mobile.rangeslider",re.mobile.widget,{options:{theme:null,trackTheme:null,disabled:!1,initSelector:":jqmData(role='rangeslider')",mini:!1,highlight:!0},_create:function(){var e=this.element,t=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",n=e.find("input").first(),i=e.find("input").last(),o=e.find("label").first(),a=re.data(n.get(0),"mobileSlider").slider,s=re.data(i.get(0),"mobileSlider").slider,r=re.data(n.get(0),"mobileSlider").handle,l=re('<div class="ui-rangeslider-sliders" />').appendTo(e);1<e.find("label").length&&e.find("label").last().hide(),n.addClass("ui-rangeslider-first"),i.addClass("ui-rangeslider-last"),e.addClass(t),a.appendTo(l),s.appendTo(l),o.prependTo(e),r.prependTo(s),re.extend(this,{_inputFirst:n,_inputLast:i,_sliderFirst:a,_sliderLast:s,_targetVal:null,_sliderTarget:!1,_sliders:l,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(r,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var e=this;setTimeout(function(){e._updateHighlight()},0)},_dragFirstHandle:function(e){return re.data(this._inputFirst.get(0),"mobileSlider").dragging=!0,re.data(this._inputFirst.get(0),"mobileSlider").refresh(e),!1},_slidedrag:function(e){var t=re(e.target).is(this._inputFirst),n=t?this._inputLast:this._inputFirst;if(this._sliderTarget=!1,"first"===this._proxy&&t||"last"===this._proxy&&!t)return re.data(n.get(0),"mobileSlider").dragging=!0,re.data(n.get(0),"mobileSlider").refresh(e),!1},_slidestop:function(e){var t=re(e.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",t?1:"")},_slidebeforestart:function(e){this._sliderTarget=!1,re(e.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=re(e.target).val())},_setOption:function(e){this._superApply(e),this.refresh()},refresh:function(){var e=this.element,t=this.options;e.find("input").slider({theme:t.theme,trackTheme:t.trackTheme,disabled:t.disabled,mini:t.mini,highlight:t.highlight}).slider("refresh"),this._updateHighlight()},_change:function(e){if("keyup"===e.type)return this._updateHighlight(),!1;var t=this,n=parseFloat(this._inputFirst.val(),10),i=parseFloat(this._inputLast.val(),10),o=re(e.target).hasClass("ui-rangeslider-first"),a=o?this._inputFirst:this._inputLast,s=o?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===e.type&&!re(e.target).hasClass("ui-slider-handle"))a.blur();else if("mousedown"===e.type)return;return i<n&&!this._sliderTarget?(a.val(o?i:n).slider("refresh"),this._trigger("normalize")):i<n&&(a.val(this._targetVal).slider("refresh"),setTimeout(function(){s.val(o?n:i).slider("refresh"),re.data(s.get(0),"mobileSlider").handle.focus(),t._sliderFirst.css("z-index",o?"":1),t._trigger("normalize")},0),this._proxy=o?"first":"last"),n===i?(re.data(a.get(0),"mobileSlider").handle.css("z-index",1),re.data(s.get(0),"mobileSlider").handle.css("z-index",0)):(re.data(s.get(0),"mobileSlider").handle.css("z-index",""),re.data(a.get(0),"mobileSlider").handle.css("z-index","")),this._updateHighlight(),!(i<=n)&&void 0},_updateHighlight:function(){var e=parseInt(re.data(this._inputFirst.get(0),"mobileSlider").handle.get(0).style.left,10),t=parseInt(re.data(this._inputLast.get(0),"mobileSlider").handle.get(0).style.left,10)-e;this.element.find(".ui-slider-bg").css({"margin-left":e+"%",width:t+"%"})},_destroy:function(){this.element.removeClass("ui-rangeslider ui-mini").find("label").show(),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}}),re.widget("mobile.rangeslider",re.mobile.rangeslider,re.mobile.behaviors.formReset),re(j).bind("pagecreate create",function(e){re.mobile.rangeslider.prototype.enhanceWithin(e.target,!0)}),(le=e).widget("mobile.selectmenu",le.mobile.widget,le.extend({options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!0,overlayTheme:"a",dividerTheme:"b",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&-1<navigator.userAgent.indexOf("AppleWebKit"),initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return le("<div/>")},_setDisabled:function(e){return this.element.attr("disabled",e),this.button.attr("aria-disabled",e),this._setOption("disabled",e)},_focusButton:function(){var e=this;setTimeout(function(){e.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var e="";~this.element[0].className.indexOf("ui-btn-left")&&(e=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(e=" ui-btn-right"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+e+"'>"),this.selectID=this.select.attr("id"),this.label=le("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=le.mobile.getInheritedTheme(this.select,"c"))},_destroy:function(){var e=this.element.parents(".ui-select");0<e.length&&(e.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(e.is(".ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(e),e.remove())},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var e=this,t=this.options,n=t.inline||this.select.jqmData("inline"),i=t.mini||this.select.jqmData("mini"),o=!!t.icon&&(t.iconpos||this.select.jqmData("iconpos")),a=(-1===this.select[0].selectedIndex||this.select[0].selectedIndex,this.button.insertBefore(this.select).buttonMarkup({theme:t.theme,icon:t.icon,iconpos:o,inline:n,corners:t.corners,shadow:t.shadow,iconshadow:t.iconshadow,mini:i}));this.setButtonText(),t.nativeMenu&&F.opera&&F.opera.version&&a.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=le("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(a.addClass("ui-li-has-count"))),(t.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){e.refresh(),t.nativeMenu&&this.blur()}),this._handleFormReset(),this.build()},build:function(){var e=this;this.select.appendTo(e.button).bind("vmousedown",function(){e.button.addClass(le.mobile.activeBtnClass)}).bind("focus",function(){e.button.addClass(le.mobile.focusClass)}).bind("blur",function(){e.button.removeClass(le.mobile.focusClass)}).bind("focus vmouseover",function(){e.button.trigger("vmouseover")}).bind("vmousemove",function(){e.button.removeClass(le.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){e.button.trigger("vmouseout").removeClass(le.mobile.activeBtnClass)}).bind("change blur",function(){e.button.removeClass("ui-btn-down-"+e.options.theme)}),e.button.bind("vmousedown",function(){e.options.preventFocusZoom&&le.mobile.zoom.disable(!0)}),e.label.bind("click focus",function(){e.options.preventFocusZoom&&le.mobile.zoom.disable(!0)}),e.select.bind("focus",function(){e.options.preventFocusZoom&&le.mobile.zoom.disable(!0)}),e.button.bind("mouseup",function(){e.options.preventFocusZoom&&setTimeout(function(){le.mobile.zoom.enable(!0)},0)}),e.select.bind("blur",function(){e.options.preventFocusZoom&&le.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var e=this;return this.selected().map(function(){return e._selectOptions().index(this)}).get()},setButtonText:function(){var e=this,t=this.selected(),n=this.placeholder,i=le(j.createElement("span"));this.button.find(".ui-btn-text").html(function(){return n=t.length?t.map(function(){return le(this).text()}).get().join(", "):e.placeholder,i.text(n).addClass(e.select.attr("class")).addClass(t.attr("class"))})},setButtonCount:function(){var e=this.selected();this.isMultiple&&this.buttonCount[1<e.length?"show":"hide"]().text(e.length)},_reset:function(){this.refresh()},refresh:function(){this.setButtonText(),this.setButtonCount()},open:le.noop,close:le.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}},le.mobile.behaviors.formReset)),le.mobile.document.bind("pagecreate create",function(e){le.mobile.selectmenu.prototype.enhanceWithin(e.target,!0)}),function(c,i){function l(e,t,n,i){return e<t?n+(e-t)/2:Math.min(Math.max(n,i-t/2),n+e-t)}function u(){var e=c.mobile.window;return{x:e.scrollLeft(),y:e.scrollTop(),cx:F.innerWidth||e.width(),cy:F.innerHeight||e.height()}}c.widget("mobile.popup",c.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,history:!c.mobile.browser.oldIE},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var e=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style"),e>this._ui.screen.height()&&this._ui.screen.height(e)},_handleWindowKeyUp:function(e){if(this._isOpen&&e.keyCode===c.mobile.keyCode.ESCAPE)return this._eatEventAndClose(e)},_expectResizeEvent:function(){var e=u();if(this._resizeData){if(e.x===this._resizeData.winCoords.x&&e.y===this._resizeData.winCoords.y&&e.cx===this._resizeData.winCoords.cx&&e.cy===this._resizeData.winCoords.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout(c.proxy(this,"_resizeTimeout"),200),winCoords:e},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_ignoreResizeEvents:function(){var e=this;this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=setTimeout(function(){e._ignoreResizeTo=0},1e3)},_handleWindowResize:function(e){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden").removeAttr("style"))},_handleWindowOrientationchange:function(e){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(e){var t,n=e.target,i=this._ui;if(this._isOpen){if(n!==i.container[0]){if(0===(t=c(e.target)).parents().filter(i.container[0]).length)return c(j.activeElement).one("focus",function(e){t.blur()}),i.focusElement.focus(),e.preventDefault(),e.stopImmediatePropagation(),!1;i.focusElement[0]===i.container[0]&&(i.focusElement=t)}this._ignoreResizeEvents()}},_create:function(){var e={screen:c("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:c("<div style='display: none;'>\x3c!-- placeholder --\x3e</div>"),container:c("<div class='ui-popup-container ui-popup-hidden'></div>")},t=this.element.closest(".ui-page"),n=this.element.attr("id"),i=this.options;i.history=i.history&&c.mobile.ajaxEnabled&&c.mobile.hashListeningEnabled,0===t.length&&(t=c("body")),i.container=i.container||c.mobile.pageContainer||t,t.append(e.screen),e.container.insertAfter(e.screen),e.placeholder.insertAfter(this.element),n&&(e.screen.attr("id",n+"-screen"),e.container.attr("id",n+"-popup"),e.placeholder.html("\x3c!-- placeholder for "+n+" --\x3e")),e.container.append(this.element),e.focusElement=e.container,this.element.addClass("ui-popup"),c.extend(this,{_scrollTop:0,_page:t,_ui:e,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),this._applyTheme(this.element,i.theme,"body"),this._applyTheme(this._ui.screen,i.overlayTheme,"overlay"),this._applyTransition(i.transition),this.element.toggleClass("ui-overlay-shadow",i.shadow).toggleClass("ui-corner-all",i.corners),this._setTolerance(i.tolerance),e.screen.bind("vclick",c.proxy(this,"_eatEventAndClose")),this._on(c.mobile.window,{orientationchange:c.proxy(this,"_handleWindowOrientationchange"),resize:c.proxy(this,"_handleWindowResize"),keyup:c.proxy(this,"_handleWindowKeyUp")}),this._on(c.mobile.document,{focusin:c.proxy(this,"_handleDocumentFocusIn")})},_applyTheme:function(e,t,n){for(var i,o=(e.attr("class")||"").split(" "),a=null,s=String(t);0<o.length;){if(a=o.pop(),(i=new RegExp("^ui-"+n+"-([a-z])$").exec(a))&&1<i.length){a=i[1];break}a=null}t!==a&&(e.removeClass("ui-"+n+"-"+a),null!==t&&"none"!==t&&e.addClass("ui-"+n+"-"+s))},_setTheme:function(e){this._applyTheme(this.element,e,"body")},_setOverlayTheme:function(e){this._applyTheme(this._ui.screen,e,"overlay"),this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(e){this.element.toggleClass("ui-overlay-shadow",e)},_setCorners:function(e){this.element.toggleClass("ui-corner-all",e)},_applyTransition:function(e){this._ui.container.removeClass(this._fallbackTransition),e&&"none"!==e&&(this._fallbackTransition=c.mobile._maybeDegradeTransition(e),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(e){this._currentTransition||this._applyTransition(e)},_setTolerance:function(e){var t={t:30,r:15,b:30,l:15};if(e!==i){var n=String(e).split(",");switch(c.each(n,function(e,t){n[e]=parseInt(t,10)}),n.length){case 1:isNaN(n[0])||(t.t=t.r=t.b=t.l=n[0]);break;case 2:isNaN(n[0])||(t.t=t.b=n[0]),isNaN(n[1])||(t.l=t.r=n[1]);break;case 4:isNaN(n[0])||(t.t=n[0]),isNaN(n[1])||(t.r=n[1]),isNaN(n[2])||(t.b=n[2]),isNaN(n[3])||(t.l=n[3])}}this._tolerance=t},_setOption:function(e,t){var n="_set"+e.charAt(0).toUpperCase()+e.slice(1);this[n]!==i&&this[n](t),this._super(e,t)},_placementCoords:function(e){var t,n,i=u(),o={x:this._tolerance.l,y:i.y+this._tolerance.t,cx:i.cx-this._tolerance.l-this._tolerance.r,cy:i.cy-this._tolerance.t-this._tolerance.b};this._ui.container.css("max-width",o.cx),t={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},(n={x:l(o.cx,t.cx,o.x,e.x),y:l(o.cy,t.cy,o.y,e.y)}).y=Math.max(0,n.y);var a=j.documentElement,s=j.body,r=Math.max(a.clientHeight,s.scrollHeight,s.offsetHeight,a.scrollHeight,a.offsetHeight);return n.y-=Math.min(n.y,Math.max(0,n.y+t.cy-r)),{left:n.x,top:n.y}},_createPrereqs:function(e,t,n){var i,o=this;(i={screen:c.Deferred(),container:c.Deferred()}).screen.then(function(){i===o._prereqs&&e()}),i.container.then(function(){i===o._prereqs&&t()}),c.when(i.screen,i.container).done(function(){i===o._prereqs&&(o._prereqs=null,n())}),o._prereqs=i},_animate:function(e){this._ui.screen.removeClass(e.classToRemove).addClass(e.screenClassToAdd),e.prereqs.screen.resolve(),e.transition&&"none"!==e.transition&&(e.applyTransition&&this._applyTransition(e.transition),this._fallbackTransition)?this._ui.container.animationComplete(c.proxy(e.prereqs.container,"resolve")).addClass(e.containerClassToAdd).removeClass(e.classToRemove):(this._ui.container.removeClass(e.classToRemove),e.prereqs.container.resolve())},_desiredCoords:function(e){var t,n=null,i=u(),o=e.x,a=e.y,s=e.positionTo;if(s&&"origin"!==s)if("window"===s)o=i.cx/2+i.x,a=i.cy/2+i.y;else{try{n=c(s)}catch(e){n=null}n&&(n.filter(":visible"),0===n.length&&(n=null))}return n&&(o=(t=n.offset()).left+n.outerWidth()/2,a=t.top+n.outerHeight()/2),("number"!==c.type(o)||isNaN(o))&&(o=i.cx/2+i.x),("number"!==c.type(a)||isNaN(a))&&(a=i.cy/2+i.y),{x:o,y:a}},_reposition:function(e){e={x:e.x,y:e.y,positionTo:e.positionTo},this._trigger("beforeposition",i,e),this._ui.container.offset(this._placementCoords(this._desiredCoords(e)))},reposition:function(e){this._isOpen&&this._reposition(e)},_openPrereqsComplete:function(){this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),this._ui.container.attr("tabindex","0").focus(),this._ignoreResizeEvents(),this._trigger("afteropen")},_open:function(e){var t,n,i,o,a,s,r=c.extend({},this.options,e),l=(t=navigator.userAgent,n=t.match(/AppleWebKit\/([0-9\.]+)/),i=!!n&&n[1],o=t.match(/Android (\d+(?:\.\d+))/),a=!!o&&o[1],s=-1<t.indexOf("Chrome"),!(!(null!==o&&"4.0"===a&&i&&534.13<i)||s));this._createPrereqs(c.noop,c.noop,c.proxy(this,"_openPrereqsComplete")),this._currentTransition=r.transition,this._applyTransition(r.transition),this.options.theme||this._setTheme(this._page.jqmData("theme")||c.mobile.getInheritedTheme(this._page,"c")),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-hidden"),this._reposition(r),this.options.overlayTheme&&l&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:r.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden").removeAttr("style")},_closePrereqsDone:function(){var e=this._ui.container;e.removeAttr("tabindex"),c.mobile.popup.active=i,c(":focus",e[0]).add(e[0]).blur(),this._trigger("afterclose")},_close:function(e){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrereqs(c.proxy(this,"_closePrereqScreen"),c.proxy(this,"_closePrereqContainer"),c.proxy(this,"_closePrereqsDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:e?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_unenhance:function(){this._setTheme("none"),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove()},_destroy:function(){c.mobile.popup.active===this?(this.element.one("popupafterclose",c.proxy(this,"_unenhance")),this.close()):this._unenhance()},_closePopup:function(e,t){var n,i,o=this.options,a=!1;F.scrollTo(0,this._scrollTop),e&&"pagebeforechange"===e.type&&t&&(n="string"==typeof t.toPage?t.toPage:t.toPage.jqmData("url"),i=(n=c.mobile.path.parseUrl(n)).pathname+n.search+n.hash,this._myUrl!==c.mobile.path.makeUrlAbsolute(i)?a=!0:e.preventDefault()),o.container.unbind(o.closeEvents),this.element.undelegate(o.closeLinkSelector,o.closeLinkEvents),this._close(a)},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,c.proxy(this,"_closePopup"))},open:function(t){var e,n,i,o,a=this,s=this.options;if(!c.mobile.popup.active){if((c.mobile.popup.active=this)._scrollTop=c.mobile.window.scrollTop(),!s.history)return a._open(t),a._bindContainerClose(),void a.element.delegate(s.closeLinkSelector,s.closeLinkEvents,function(e){a.close(),e.preventDefault()});if(o=c.mobile.urlHistory,n=c.mobile.dialogHashKey,i=c.mobile.activePage.is(".ui-dialog"),this._myUrl=e=o.getActive().url,-1<e.indexOf(n)&&!i&&0<o.activeIndex)return a._open(t),void a._bindContainerClose();-1!==e.indexOf(n)||i?e=c.mobile.path.parseLocation().hash+n:e+=-1<e.indexOf("#")?n:"#"+n,0===o.activeIndex&&e===o.initialDst&&(e+=n),c(F).one("beforenavigate",function(e){e.preventDefault(),a._open(t),a._bindContainerClose()}),this.urlAltered=!0,c.mobile.navigate(e,{role:"dialog"})}},close:function(){c.mobile.popup.active===this&&(this._scrollTop=c.mobile.window.scrollTop(),this.options.history&&this.urlAltered?(c.mobile.back(),this.urlAltered=!1):this._closePopup())}}),c.mobile.popup.handleLink=function(t){var e,n=t.closest(":jqmData(role='page')"),i=0===n.length?c("body"):n,o=c(c.mobile.path.parseUrl(t.attr("href")).hash,i[0]);o.data("mobile-popup")&&(e=t.offset(),o.popup("open",{x:e.left+t.outerWidth()/2,y:e.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")})),setTimeout(function(){var e=t.parent().parent();e.hasClass("ui-li")&&(t=e.parent()),t.removeClass(c.mobile.activeBtnClass)},300)},c.mobile.document.bind("pagebeforechange",function(e,t){"popup"===t.options.role&&(c.mobile.popup.handleLink(t.options.link),e.preventDefault())}),c.mobile.document.bind("pagecreate create",function(e){c.mobile.popup.prototype.enhanceWithin(e.target,!0)})}(e),(ce=e).mobile.document.bind("selectmenubeforecreate",function(e){var t=ce(e.target).data("mobile-selectmenu");t.options.nativeMenu||0!==t.element.parents(":jqmData(role='popup')").length||function(l){l.select;var e,t=l._destroy,n=l.selectID,i=n||(ce.mobile.ns||"")+"uuid-"+l.uuid,o=i+"-listbox",a=i+"-dialog",s=l.label,r=l.select.closest(".ui-page"),c=l._selectOptions(),u=l.isMultiple=l.select[0].multiple,h=n+"-button",d=n+"-menu",p=ce("<div data-"+ce.mobile.ns+"role='dialog' id='"+a+"' data-"+ce.mobile.ns+"theme='"+l.options.theme+"' data-"+ce.mobile.ns+"overlay-theme='"+l.options.overlayTheme+"'><div data-"+ce.mobile.ns+"role='header'><div class='ui-title'>"+s.getEncodedText()+"</div></div><div data-"+ce.mobile.ns+"role='content'></div></div>"),f=ce("<div id='"+o+"' class='ui-selectmenu'>").insertAfter(l.select).popup({theme:l.options.overlayTheme}),m=ce("<ul>",{class:"ui-selectmenu-list",id:d,role:"listbox","aria-labelledby":h}).attr("data-"+ce.mobile.ns+"theme",l.options.theme).attr("data-"+ce.mobile.ns+"divider-theme",l.options.dividerTheme).appendTo(f),g=ce("<div>",{class:"ui-header ui-bar-"+l.options.theme}).prependTo(f),v=ce("<h1>",{class:"ui-title"}).appendTo(g);l.isMultiple&&(e=ce("<a>",{text:l.options.closeText,href:"#",class:"ui-btn-left"}).attr("data-"+ce.mobile.ns+"iconpos","notext").attr("data-"+ce.mobile.ns+"icon","delete").appendTo(g).buttonMarkup()),ce.extend(l,{select:l.select,selectID:n,buttonId:h,menuId:d,popupID:o,dialogID:a,thisPage:r,menuPage:p,label:s,selectOptions:c,isMultiple:u,theme:l.options.theme,listbox:f,list:m,header:g,headerTitle:v,headerClose:e,menuPageContent:void 0,menuPageClose:void 0,placeholder:"",build:function(){var o=this,t=function(e){return e.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")};o.refresh(),void 0===o._origTabIndex&&(o._origTabIndex=null!==o.select[0].getAttribute("tabindex")&&o.select.attr("tabindex")),o.select.attr("tabindex","-1").focus(function(){ce(this).blur(),o.button.focus()}),o.button.bind("vclick keydown",function(e){o.options.disabled||o.isOpen||("vclick"===e.type||e.keyCode&&(e.keyCode===ce.mobile.keyCode.ENTER||e.keyCode===ce.mobile.keyCode.SPACE))&&(o._decideFormat(),"overlay"===o.menuType?o.button.attr("href","#"+t(o.popupID)).attr("data-"+(ce.mobile.ns||"")+"rel","popup"):o.button.attr("href","#"+t(o.dialogID)).attr("data-"+(ce.mobile.ns||"")+"rel","dialog"),o.isOpen=!0)}),o.list.attr("role","listbox").bind("focusin",function(e){ce(e.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(e){ce(e.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(e){var t=o.select[0].selectedIndex,n=o.list.find("li:not(.ui-li-divider)").index(this),i=o._selectOptions().eq(n)[0];i.selected=!o.isMultiple||!i.selected,o.isMultiple&&ce(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",i.selected).toggleClass("ui-icon-checkbox-off",!i.selected),(o.isMultiple||t!==n)&&o.select.trigger("change"),o.isMultiple?o.list.find("li:not(.ui-li-divider)").eq(n).addClass("ui-btn-down-"+l.options.theme).find("a").first().focus():o.close(),e.preventDefault()}).keydown(function(e){var t,n,i=ce(e.target),o=i.closest("li");switch(e.keyCode){case 38:return(t=o.prev().not(".ui-selectmenu-placeholder")).is(".ui-li-divider")&&(t=t.prev()),t.length&&(i.blur().attr("tabindex","-1"),t.addClass("ui-btn-down-"+l.options.theme).find("a").first().focus()),!1;case 40:return(n=o.next()).is(".ui-li-divider")&&(n=n.next()),n.length&&(i.blur().attr("tabindex","-1"),n.addClass("ui-btn-down-"+l.options.theme).find("a").first().focus()),!1;case 13:case 32:return i.trigger("click"),!1}}),o.menuPage.bind("pagehide",function(){ce.mobile._bindPageRemove.call(o.thisPage)}),o.listbox.bind("popupafterclose",function(e){o.close()}),o.isMultiple&&o.headerClose.click(function(){if("overlay"===o.menuType)return o.close(),!1}),o.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var e=this.list.find("li");return this._selectOptions().text()!==e.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(e,t){var n,i=this;this.element,this.isMultiple,(e||this._isRebuildRequired())&&i._buildList(),n=this.selectedIndices(),i.setButtonText(),i.setButtonCount(),i.list.find("li:not(.ui-li-divider)").removeClass(ce.mobile.activeBtnClass).attr("aria-selected",!1).each(function(e){if(-1<ce.inArray(e,n)){var t=ce(this);t.attr("aria-selected",!0),i.isMultiple?t.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):t.is(".ui-selectmenu-placeholder")?t.next().addClass(ce.mobile.activeBtnClass):t.addClass(ce.mobile.activeBtnClass)}})},close:function(){if(!this.options.disabled&&this.isOpen){var e=this;"page"===e.menuType?(e.menuPage.dialog("close"),e.list.appendTo(e.listbox)):e.listbox.popup("close"),e._focusButton(),e.isOpen=!1}},open:function(){this.button.click()},_decideFormat:function(){var t=this,e=ce.mobile.window,n=t.list.parent(),i=n.outerHeight(),o=(n.outerWidth(),ce("."+ce.mobile.activePageClass),e.scrollTop()),a=t.button.offset().top,s=e.height();function r(){var e=t.list.find("."+ce.mobile.activeBtnClass+" a");0===e.length&&(e=t.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a")),e.first().focus().closest("li").addClass("ui-btn-down-"+l.options.theme)}e.width(),s-80<i||!ce.support.scrollTop?(t.menuPage.appendTo(ce.mobile.pageContainer).page(),t.menuPageContent=p.find(".ui-content"),t.menuPageClose=p.find(".ui-header a"),t.thisPage.unbind("pagehide.remove"),0===o&&s<a&&t.thisPage.one("pagehide",function(){ce(this).jqmData("lastScroll",a)}),t.menuPage.one("pageshow",function(){r()}).one("pagehide",function(){t.close()}),t.menuType="page",t.menuPageContent.append(t.list),t.menuPage.find("div .ui-title").text(t.label.text())):(t.menuType="overlay",t.listbox.one("popupafteropen",r))},_buildList:function(){var e=this,t=this.options,n=this.placeholder,i=!0,o=e.isMultiple?"checkbox-off":"false";e.list.empty().filter(".ui-listview").listview("destroy");for(var a,s=e.select.find("option"),r=s.length,l=this.select[0],c="data-"+ce.mobile.ns,u=c+"option-index",h=c+"icon",d=c+"role",p=c+"placeholder",f=j.createDocumentFragment(),m=!1,g=0;g<r;g++,m=!1){var v=s[g],b=ce(v),_=v.parentNode,y=b.text(),w=j.createElement("a"),C=[];if(w.setAttribute("href","#"),w.appendChild(j.createTextNode(y)),_!==l&&"optgroup"===_.nodeName.toLowerCase()){var D=_.getAttribute("label");if(D!==a){var x=j.createElement("li");x.setAttribute(d,"list-divider"),x.setAttribute("role","option"),x.setAttribute("tabindex","-1"),x.appendChild(j.createTextNode(D)),f.appendChild(x),a=D}}!i||v.getAttribute("value")&&0!==y.length&&!b.jqmData("placeholder")||(m=!(i=!1),null===v.getAttribute(p)&&(this._removePlaceholderAttr=!0),v.setAttribute(p,!0),t.hidePlaceholderMenuItems&&C.push("ui-selectmenu-placeholder"),n!==y&&(n=e.placeholder=y));var T=j.createElement("li");v.disabled&&(C.push("ui-disabled"),T.setAttribute("aria-disabled",!0)),T.setAttribute(u,g),T.setAttribute(h,o),m&&T.setAttribute(p,!0),T.className=C.join(" "),T.setAttribute("role","option"),w.setAttribute("tabindex","-1"),T.appendChild(w),f.appendChild(T)}e.list[0].appendChild(f),this.isMultiple||n.length?this.headerTitle.text(this.placeholder):this.header.hide(),e.list.listview()},_button:function(){return ce("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.close(),void 0!==this._origTabIndex&&(!1!==this._origTabIndex?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+ce.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove(),t.apply(this,arguments)}})}(t)}),(ue=e).widget("mobile.controlgroup",ue.mobile.widget,ue.extend({options:{shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1,initSelector:":jqmData(role='controlgroup')"},_create:function(){var e=this.element,t={inner:ue("<div class='ui-controlgroup-controls'></div>"),legend:ue("<div role='heading' class='ui-controlgroup-label'></div>")},n=e.children("legend"),i=this;e.wrapInner(t.inner),n.length&&t.legend.append(n).insertBefore(e.children(0)),e.addClass("ui-corner-all ui-controlgroup"),ue.extend(this,{_initialRefresh:!0}),ue.each(this.options,function(e,t){i.options[e]=void 0,i._setOption(e,t,!0)})},_init:function(){this.refresh()},_setOption:function(e,t){var n="_set"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==this[n]&&this[n](t),this._super(e,t),this.element.attr("data-"+(ue.mobile.ns||"")+e.replace(/([A-Z])/,"-$1").toLowerCase(),t)},_setType:function(e){this.element.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+e),this.refresh()},_setCorners:function(e){this.element.toggleClass("ui-corner-all",e)},_setShadow:function(e){this.element.toggleClass("ui-shadow",e)},_setMini:function(e){this.element.toggleClass("ui-mini",e)},container:function(){return this.element.children(".ui-controlgroup-controls")},refresh:function(){var e=this.element.find(".ui-btn").not(".ui-slider-handle"),t=this._initialRefresh;ue.mobile.checkboxradio&&this.element.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(e,this.options.excludeInvisible?this._getVisibles(e,t):e,t),this._initialRefresh=!1}},ue.mobile.behaviors.addFirstLastClasses)),ue(function(){ue.mobile.document.bind("pagecreate create",function(e){ue.mobile.controlgroup.prototype.enhanceWithin(e.target,!0)})}),(he=e)(j).bind("pagecreate create",function(e){he(e.target).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var e=this,t=he(this).attr("href"),n=t.substring(1);e.setAttribute("aria-haspopup",!0),e.setAttribute("aria-owns",n),e.setAttribute("aria-expanded",!1),he(j).on("popupafteropen",t,function(){e.setAttribute("aria-expanded",!0)}).on("popupafterclose",t,function(){e.setAttribute("aria-expanded",!1)})}).end().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}),(de=e).widget("mobile.fixedtoolbar",de.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!de.support.fixedPosition},initSelector:":jqmData(position='fixed')"},_create:function(){var e=this,t=e.options,n=e.element,i=n.is(":jqmData(role='header')")?"header":"footer",o=n.closest(".ui-page");t.supportBlacklist()?e.destroy():(n.addClass("ui-"+i+"-fixed"),t.fullscreen?(n.addClass("ui-"+i+"-fullscreen"),o.addClass("ui-page-"+i+"-fullscreen")):o.addClass("ui-page-"+i+"-fixed"),de.extend(this,{_thisPage:null}),e._addTransitionClass(),e._bindPageEvents(),e._bindToggleHandlers())},_addTransitionClass:function(){var e=this.options.transition;e&&"none"!==e&&("slide"===e&&(e=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(e))},_bindPageEvents:function(){this._thisPage=this.element.closest(".ui-page"),this._on(this._thisPage,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var e=this.options;e.disablePageZoom&&de.mobile.zoom.disable(!0),e.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this._thisPage)},_handlePageShow:function(){this.updatePagePadding(this._thisPage),this.options.updatePagePadding&&this._on(de.mobile.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(e,t){var n=this.options;if(n.disablePageZoom&&de.mobile.zoom.enable(!0),n.updatePagePadding&&this._off(de.mobile.window,"throttledresize"),n.trackPersistentToolbars){var i=de(".ui-footer-fixed:jqmData(id)",this._thisPage),o=de(".ui-header-fixed:jqmData(id)",this._thisPage),a=i.length&&t.nextPage&&de(".ui-footer-fixed:jqmData(id='"+i.jqmData("id")+"')",t.nextPage)||de(),s=o.length&&t.nextPage&&de(".ui-header-fixed:jqmData(id='"+o.jqmData("id")+"')",t.nextPage)||de();(a.length||s.length)&&(a.add(s).appendTo(de.mobile.pageContainer),t.nextPage.one("pageshow",function(){s.prependTo(this),a.appendTo(this)}))}},_visible:!0,updatePagePadding:function(e){var t=this.element,n=t.is(".ui-header"),i=parseFloat(t.css(n?"top":"bottom"));this.options.fullscreen||(e=e&&void 0===e.type&&e||this._thisPage||t.closest(".ui-page"),de(e).css("padding-"+(n?"top":"bottom"),t.outerHeight()+i))},_useTransition:function(e){var t=de.mobile.window,n=this.element,i=t.scrollTop(),o=n.height(),a=n.closest(".ui-page").height(),s=de.mobile.getScreenHeight(),r=n.is(":jqmData(role='header')")?"header":"footer";return!e&&(this.options.transition&&"none"!==this.options.transition&&("header"===r&&!this.options.fullscreen&&o<i||"footer"===r&&!this.options.fullscreen&&i+s<a-o)||this.options.fullscreen)},show:function(e){var t="ui-fixed-hidden",n=this.element;this._useTransition(e)?n.removeClass("out "+t).addClass("in").animationComplete(function(){n.removeClass("in")}):n.removeClass(t),this._visible=!0},hide:function(e){var t="ui-fixed-hidden",n=this.element,i="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(e)?n.addClass(i).removeClass("in").animationComplete(function(){n.addClass(t).removeClass(i)}):n.addClass(t).removeClass(i),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t,n,i=this,o=i.options,e=i.element,a=!0;e.closest(".ui-page").bind("vclick",function(e){o.tapToggle&&!de(e.target).closest(o.tapToggleBlacklist).length&&i.toggle()}).bind("focusin focusout",function(e){screen.width<1025&&de(e.target).is(o.hideDuringFocus)&&!de(e.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==e.type||a?"focusin"===e.type&&a&&(clearTimeout(t),a=!1,n=setTimeout(function(){i.hide()},0)):(a=!0,clearTimeout(n),t=setTimeout(function(){i.show()},0)))})},_destroy:function(){var e=this.element,t=e.is(".ui-header");e.closest(".ui-page").css("padding-"+(t?"top":"bottom"),""),e.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),e.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),de.mobile.document.bind("pagecreate create",function(e){de(e.target).jqmData("fullscreen")&&de(de.mobile.fixedtoolbar.prototype.options.initSelector,e.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0),de.mobile.fixedtoolbar.prototype.enhanceWithin(e.target)}),(pe=e).widget("mobile.fixedtoolbar",pe.mobile.fixedtoolbar,{_create:function(){this._super(),this._workarounds()},_workarounds:function(){var e=navigator.userAgent,t=navigator.platform,n=e.match(/AppleWebKit\/([0-9]+)/),i=!!n&&n[1],o=null;if(-1<t.indexOf("iPhone")||-1<t.indexOf("iPad")||-1<t.indexOf("iPod"))o="ios";else{if(!(-1<e.indexOf("Android")))return;o="android"}if("ios"===o)this._bindScrollWorkaround();else{if(!("android"===o&&i&&i<534))return;this._bindScrollWorkaround(),this._bindListThumbWorkaround()}},_viewportOffset:function(){var e=this.element,t=e.is(".ui-header"),n=Math.abs(e.offset().top-pe.mobile.window.scrollTop());return t||(n=Math.round(n-pe.mobile.window.height()+e.outerHeight())-60),n},_bindScrollWorkaround:function(){var e=this;this._on(pe.mobile.window,{scrollstop:function(){2<e._viewportOffset()&&e._visible&&e._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var e=parseFloat(pe(".ui-page-active").css("padding-bottom"));pe(".ui-page-active").css("padding-bottom",e+1+"px"),setTimeout(function(){pe(".ui-page-active").css("padding-bottom",e+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}}),(fe=e).widget("mobile.panel",fe.mobile.widget,{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pagePanel:"ui-page-panel",pagePanelOpen:"ui-page-panel-open",contentWrap:"ui-panel-content-wrap",contentWrapOpen:"ui-panel-content-wrap-open",contentWrapClosed:"ui-panel-content-wrap-closed",contentFixedToolbar:"ui-panel-content-fixed-toolbar",contentFixedToolbarOpen:"ui-panel-content-fixed-toolbar-open",contentFixedToolbarClosed:"ui-panel-content-fixed-toolbar-closed",animate:"ui-panel-animate"},animate:!0,theme:"c",position:"left",dismissible:!0,display:"reveal",initSelector:":jqmData(role='panel')",swipeClose:!0,positionFixed:!1},_panelID:null,_closeLink:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbar:null,_create:function(){var e,t,n,i=this,o=i.element,a=o.closest(":jqmData(role='page')"),s=function(){return"ui-body-"+fe.data(a[0],"mobilePage").options.theme};fe.extend(this,{_panelID:o.attr("id"),_closeLink:o.find(":jqmData(rel='close')"),_page:o.closest(":jqmData(role='page')"),_pageTheme:s(),_panelInner:(n=o.find("."+i.options.classes.panelInner),0===n.length&&(n=o.children().wrapAll('<div class="'+i.options.classes.panelInner+'" />').parent()),n),_wrapper:(t=a.find("."+i.options.classes.contentWrap),0===t.length&&(t=a.children(".ui-header:not(:jqmData(position='fixed')), .ui-content:not(:jqmData(role='popup')), .ui-footer:not(:jqmData(position='fixed'))").wrapAll('<div class="'+i.options.classes.contentWrap+" "+s()+'" />').parent(),fe.support.cssTransform3d&&i.options.animate&&t.addClass(i.options.classes.animate)),t),_fixedToolbar:(e=a.find("."+i.options.classes.contentFixedToolbar),0===e.length&&(e=a.find(".ui-header:jqmData(position='fixed'), .ui-footer:jqmData(position='fixed')").addClass(i.options.classes.contentFixedToolbar),fe.support.cssTransform3d&&i.options.animate&&e.addClass(i.options.classes.animate)),e)}),i._addPanelClasses(),i._wrapper.addClass(this.options.classes.contentWrapClosed),i._fixedToolbar.addClass(this.options.classes.contentFixedToolbarClosed),i._page.addClass(i.options.classes.pagePanel),fe.support.cssTransform3d&&i.options.animate&&this.element.addClass(i.options.classes.animate),i._bindUpdateLayout(),i._bindCloseEvents(),i._bindLinkListeners(),i._bindPageEvents(),i.options.dismissible&&i._createModal(),i._bindSwipeEvents()},_createModal:function(e){var t=this;t._modal=fe("<div class='"+t.options.classes.modal+"' data-panelid='"+t._panelID+"'></div>").on("mousedown",function(){t.close()}).appendTo(this._page)},_getPosDisplayClasses:function(e){return e+"-position-"+this.options.position+" "+e+"-display-"+this.options.display},_getPanelClasses:function(){var e=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed;return this.options.theme&&(e+=" ui-body-"+this.options.theme),this.options.positionFixed&&(e+=" "+this.options.classes.panelFixed),e},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_bindCloseEvents:function(){var t=this;t._closeLink.on("click.panel",function(e){return e.preventDefault(),t.close(),!1}),t.element.on("click.panel","a:jqmData(ajax='false')",function(e){t.close()})},_positionPanel:function(){var e=this,t=e._panelInner.outerHeight(),n=t>fe.mobile.getScreenHeight();n||!e.options.positionFixed?(n&&(e._unfixPanel(),fe.mobile.resetActivePageHeight(t)),e._scrollIntoView(t)):e._fixPanel()},_scrollIntoView:function(e){e<fe(F).scrollTop()&&F.scrollTo(0,0)},_bindFixListener:function(){this._on(fe(F),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(fe(F),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&fe.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&fe.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var t=this;t.element.on("updatelayout",function(e){t._open&&t._positionPanel()})},_bindLinkListeners:function(){var i=this;i._page.on("click.panel","a",function(e){if(this.href.split("#")[1]===i._panelID&&void 0!==i._panelID){e.preventDefault();var t,n=fe(this);return n.hasClass("ui-link")||((t=n.parent().parent()).hasClass("ui-li")&&(n=t.parent()),n.addClass(fe.mobile.activeBtnClass),i.element.one("panelopen panelclose",function(){n.removeClass(fe.mobile.activeBtnClass)})),i.toggle(),!1}})},_bindSwipeEvents:function(){var t=this,e=t._modal?t.element.add(t._modal):t.element;t.options.swipeClose&&("left"===t.options.position?e.on("swipeleft.panel",function(e){t.close()}):e.on("swiperight.panel",function(e){t.close()}))},_bindPageEvents:function(){var t=this;t._page.on("panelbeforeopen",function(e){t._open&&e.target!==t.element[0]&&t.close()}).on("pagehide",function(e){t._open&&t.close(!0)}).on("keyup.panel",function(e){27===e.keyCode&&t._open&&t.close()})},_open:!1,_contentWrapOpenClasses:null,_fixedToolbarOpenClasses:null,_modalOpenClasses:null,open:function(e){if(!this._open){var t=this,n=t.options,i=function(){t._page.off("panelclose"),t._page.jqmData("panel","open"),!e&&fe.support.cssTransform3d&&n.animate?t.element.add(t._wrapper).on(t._transitionEndEvents,o):setTimeout(o,0),t.options.theme&&"overlay"!==t.options.display&&t._page.removeClass(t._pageTheme).addClass("ui-body-"+t.options.theme),t.element.removeClass(n.classes.panelClosed).addClass(n.classes.panelOpen),t._positionPanel(),t.options.theme&&"overlay"!==t.options.display&&t._wrapper.css("min-height",t._page.css("min-height")),t._contentWrapOpenClasses=t._getPosDisplayClasses(n.classes.contentWrap),t._wrapper.removeClass(n.classes.contentWrapClosed).addClass(t._contentWrapOpenClasses+" "+n.classes.contentWrapOpen),t._fixedToolbarOpenClasses=t._getPosDisplayClasses(n.classes.contentFixedToolbar),t._fixedToolbar.removeClass(n.classes.contentFixedToolbarClosed).addClass(t._fixedToolbarOpenClasses+" "+n.classes.contentFixedToolbarOpen),t._modalOpenClasses=t._getPosDisplayClasses(n.classes.modal)+" "+n.classes.modalOpen,t._modal&&t._modal.addClass(t._modalOpenClasses)},o=function(){t.element.add(t._wrapper).off(t._transitionEndEvents,o),t._page.addClass(n.classes.pagePanelOpen),t._bindFixListener(),t._trigger("open")};this.element.closest(".ui-page-active").length<0&&(e=!0),t._trigger("beforeopen"),"open"===t._page.jqmData("panel")?t._page.on("panelclose",function(){i()}):i(),t._open=!0}},close:function(e){if(this._open){var t=this.options,n=this,i=function(){n.options.theme&&"overlay"!==n.options.display&&(n._page.removeClass("ui-body-"+n.options.theme).addClass(n._pageTheme),n._wrapper.css("min-height","")),n.element.add(n._wrapper).off(n._transitionEndEvents,i),n.element.addClass(t.classes.panelClosed),n._wrapper.removeClass(n._contentWrapOpenClasses).addClass(t.classes.contentWrapClosed),n._fixedToolbar.removeClass(n._fixedToolbarOpenClasses).addClass(t.classes.contentFixedToolbarClosed),n._fixPanel(),n._unbindFixListener(),fe.mobile.resetActivePageHeight(),n._page.jqmRemoveData("panel"),n._trigger("close")};this.element.closest(".ui-page-active").length<0&&(e=!0),n._trigger("beforeclose"),!e&&fe.support.cssTransform3d&&t.animate?n.element.add(n._wrapper).on(n._transitionEndEvents,i):setTimeout(i,0),n._page.removeClass(t.classes.pagePanelOpen),n.element.removeClass(t.classes.panelOpen),n._wrapper.removeClass(t.classes.contentWrapOpen),n._fixedToolbar.removeClass(t.classes.contentFixedToolbarOpen),n._modal&&n._modal.removeClass(n._modalOpenClasses),n._open=!1}},toggle:function(e){this[this._open?"close":"open"]()},_transitionEndEvents:"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",_destroy:function(){var e=this.options.classes,t=this.options.theme;this.element.siblings("."+e.panel).length?this._open&&(this._wrapper.removeClass(e.contentWrapOpen),this._fixedToolbar.removeClass(e.contentFixedToolbarOpen),this._page.jqmRemoveData("panel"),this._page.removeClass(e.pagePanelOpen),t&&this._page.removeClass("ui-body-"+t).addClass(this._pageTheme)):(this._wrapper.children().unwrap(),this._page.find("a").unbind("panelopen panelclose"),this._page.removeClass(e.pagePanel),this._open&&(this._page.jqmRemoveData("panel"),this._page.removeClass(e.pagePanelOpen),t&&this._page.removeClass("ui-body-"+t).addClass(this._pageTheme),fe.mobile.resetActivePageHeight())),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),e.panelAnimate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._closeLink.off("click.panel"),this._modal&&this._modal.remove(),this.element.off(this._transitionEndEvents).removeClass([e.panelUnfixed,e.panelClosed,e.panelOpen].join(" "))}}),fe(j).bind("pagecreate create",function(e){fe.mobile.panel.prototype.enhanceWithin(e.target)}),(me=e).widget("mobile.table",me.mobile.widget,{options:{classes:{table:"ui-table"},initSelector:":jqmData(role='table')"},_create:function(){this.refresh(!0)},refresh:function(a){var s=this,r=this.element.find("thead tr");a&&this.element.addClass(this.options.classes.table),s.headers=this.element.find("tr:eq(0)").children(),s.allHeaders=s.headers.add(r.children()),r.each(function(){var o=0;me(this).children().each(function(e){var t=parseInt(me(this).attr("colspan"),10),n=":nth-child("+(o+1)+")";if(me(this).jqmData("colstart",o+1),t)for(var i=0;i<t-1;i++)n+=", :nth-child("+(++o+1)+")";void 0===a&&me(this).jqmData("cells",""),me(this).jqmData("cells",s.element.find("tr").not(r.eq(0)).not(this).children(n)),o++})}),void 0===a&&this.element.trigger("refresh")}}),me.mobile.document.bind("pagecreate create",function(e){me.mobile.table.prototype.enhanceWithin(e.target)}),(ge=e).mobile.table.prototype.options.mode="columntoggle",ge.mobile.table.prototype.options.columnBtnTheme=null,ge.mobile.table.prototype.options.columnPopupTheme=null,ge.mobile.table.prototype.options.columnBtnText="Columns...",ge.mobile.table.prototype.options.classes=ge.extend(ge.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"}),ge.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(e){var t,n,i,o,a=ge(this),s=a.data("mobile-table"),r=e.type,l=s.options,c=ge.mobile.ns,u=(a.attr("id")||l.classes.popup)+"-popup";"columntoggle"===l.mode&&("refresh"!==r&&(s.element.addClass(l.classes.columnToggleTable),t=ge("<a href='#"+u+"' class='"+l.classes.columnBtn+"' data-"+c+"rel='popup' data-"+c+"mini='true'>"+l.columnBtnText+"</a>"),n=ge("<div data-"+c+"role='popup' data-"+c+"role='fieldcontain' class='"+l.classes.popup+"' id='"+u+"'></div>"),i=ge("<fieldset data-"+c+"role='controlgroup'></fieldset>")),s.headers.not("td").each(function(e){var t=ge(this).jqmData("priority"),n=ge(this).add(ge(this).jqmData("cells"));t&&(n.addClass(l.classes.priorityPrefix+t),"refresh"!==r?ge("<label><input type='checkbox' checked />"+ge(this).text()+"</label>").appendTo(i).children(0).jqmData("cells",n).checkboxradio({theme:l.columnPopupTheme}):ge("#"+u+" fieldset div:eq("+e+")").find("input").jqmData("cells",n))}),"refresh"!==r&&i.appendTo(n),o=void 0===i?ge("#"+u+" fieldset"):i,"refresh"!==r&&(o.on("change","input",function(e){this.checked?ge(this).jqmData("cells").removeClass("ui-table-cell-hidden").addClass("ui-table-cell-visible"):ge(this).jqmData("cells").removeClass("ui-table-cell-visible").addClass("ui-table-cell-hidden")}),t.insertBefore(a).buttonMarkup({theme:l.columnBtnTheme}),n.insertBefore(a).popup()),s.update=function(){o.find("input").each(function(){this.checked?(this.checked="table-cell"===ge(this).jqmData("cells").eq(0).css("display"),"refresh"===r&&ge(this).jqmData("cells").addClass("ui-table-cell-visible")):ge(this).jqmData("cells").addClass("ui-table-cell-hidden"),ge(this).checkboxradio("refresh")})},ge.mobile.window.on("throttledresize",s.update),s.update())}),(ve=e).mobile.table.prototype.options.mode="reflow",ve.mobile.table.prototype.options.classes=ve.extend(ve.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"}),ve.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(e){var t=ve(this),n=e.type,i=t.data("mobile-table"),r=i.options;"reflow"===r.mode&&("refresh"!==n&&i.element.addClass(r.classes.reflowTable),ve(i.allHeaders.get().reverse()).each(function(e){var t=ve(this).jqmData("cells"),n=ve(this).jqmData("colstart"),i=t.not(this).filter("thead th").length&&" ui-table-cell-label-top",o=ve(this).text();if(""!==o)if(i){var a=parseInt(ve(this).attr("colspan"),10),s="";a&&(s="td:nth-child("+a+"n + "+n+")"),t.filter(s).prepend("<b class='"+r.classes.cellLabels+i+"'>"+o+"</b>")}else t.prepend("<b class='"+r.classes.cellLabels+"'>"+o+"</b>")}))}),function(e,t){e.mobile.iosorientationfixEnabled=!0;var n=navigator.userAgent;if(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(n)&&-1<n.indexOf("AppleWebKit")){var i,o,a,s,r,l=e.mobile.zoom;e.mobile.document.on("mobileinit",function(){e.mobile.iosorientationfixEnabled&&e.mobile.window.bind("orientationchange.iosorientationfix",l.enable).bind("devicemotion.iosorientationfix",c)})}else e.mobile.iosorientationfixEnabled=!1;function c(e){i=e.originalEvent,r=i.accelerationIncludingGravity,o=Math.abs(r.x),a=Math.abs(r.y),s=Math.abs(r.z),!t.orientation&&(7<o||(6<s&&a<8||s<8&&6<a)&&5<o)?l.enabled&&l.disable():l.enabled||l.enable()}}(e,this),function(o,e,t){var n=o("html"),a=(o("head"),o.mobile.window);function s(){n.removeClass("ui-mobile-rendering")}o(e.document).trigger("mobileinit"),o.mobile.gradeA()&&(o.mobile.ajaxBlacklist&&(o.mobile.ajaxEnabled=!1),n.addClass("ui-mobile ui-mobile-rendering"),setTimeout(s,5e3),o.extend(o.mobile,{initializePage:function(){var e=o.mobile.path,t=o(":jqmData(role='page'), :jqmData(role='dialog')"),n=e.stripHash(e.stripQueryParams(e.parseLocation().hash)),i=j.getElementById(n);t.length||(t=o("body").wrapInner("<div data-"+o.mobile.ns+"role='page'></div>").children(0)),t.each(function(){var e=o(this);e.jqmData("url")||e.attr("data-"+o.mobile.ns+"url",e.attr("id")||location.pathname+location.search)}),o.mobile.firstPage=t.first(),o.mobile.pageContainer=o.mobile.firstPage.parent().addClass("ui-mobile-viewport"),o.mobile.navreadyDeferred.resolve(),a.trigger("pagecontainercreate"),o.mobile.showPageLoadingMsg(),s(),o.mobile.hashListeningEnabled&&o.mobile.path.isHashValid(location.hash)&&(o(i).is(':jqmData(role="page")')||o.mobile.path.isPath(n)||n===o.mobile.dialogHashKey)?o.event.special.navigate.isPushStateEnabled()?(o.mobile.navigate.history.stack=[],o.mobile.navigate(o.mobile.path.isPath(location.hash)?location.hash:location.href)):a.trigger("hashchange",[!0]):(o.mobile.path.isHashValid(location.hash)&&(o.mobile.urlHistory.initialDst=n.replace("#","")),o.event.special.navigate.isPushStateEnabled()&&o.mobile.navigate.navigator.squash(e.parseLocation().href),o.mobile.changePage(o.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),o(function(){e.scrollTo(0,1),o.mobile.defaultHomeScroll=o.support.scrollTop&&1!==o.mobile.window.scrollTop()?1:0,o.mobile.autoInitializePage&&o.mobile.initializePage(),a.load(o.mobile.silentScroll),o.support.cssPointerEvents||o.mobile.document.delegate(".ui-disabled","vclick",function(e){e.preventDefault(),e.stopImmediatePropagation()})}))}(e,this)}),function(t){var o=t.documentElement,a={screens:[320,480,640,768,1024,1280,1440,1680,1920],section:"-section",page:"-page",head:"head"},i=[];if(window.head_conf)for(var e in head_conf)void 0!==head_conf[e]&&(a[e]=head_conf[e]);function s(e){i[i.length]=e}function r(e){var t=new RegExp("\\b"+e+"\\b");o.className=o.className.replace(t,"")}function n(e,t){for(var n=0,i=e.length;n<i;n++)t.call(e,e[n],n)}var l=window[a.head]=function(){l.ready.apply(null,arguments)};l.feature=function(e,t,n){return e?("[object Function]"==Object.prototype.toString.call(t)&&(t=t.call()),s((t?"":"no-")+e),l[e]=!!t,n||(r("no-"+e),r(e),l.feature()),l):(o.className+=" "+i.join(" "),void(i=[]))};var c=navigator.userAgent.toLowerCase();if("msie"==(c=/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||!/compatible/.test(c)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(c)||[])[1]&&(c[1]="ie",c[2]=document.documentMode||c[2]),s(c[1]),l.browser={version:c[2]},l.browser[c[1]]=!0,l.browser.ie){s("ie"+parseFloat(c[2]));for(var u=3;u<11;u++)parseFloat(c[2])<u&&s("lt-ie"+u);n("abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),function(e){t.createElement(e)})}function h(){var t=window.outerWidth||o.clientWidth;o.className=o.className.replace(/ (w|lt)-\d+/g,""),s("w-"+100*Math.round(t/100)),n(a.screens,function(e){t<=e&&s("lt-"+e)}),l.feature()}n(location.pathname.split("/"),function(e,t){if(2<this.length&&void 0!==this[t+1])t&&s(this.slice(1,t+1).join("-")+a.section);else{var n=e||"index",i=n.indexOf(".");0<i&&(n=n.substring(0,i)),o.id=n+a.page,t||s("root"+a.section)}}),h(),window.onresize=h,l.feature("js",!0).feature()}(document),function(){var e=document.createElement("i"),n=e.style,t=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),i="Webkit Moz O ms Khtml".split(" "),o=window.head_conf&&head_conf.head||"head",a=window[o];function s(e){var t=e.charAt(0).toUpperCase()+e.substr(1);return!!function(e){for(var t in e)if(void 0!==n[e[t]])return!0}((e+" "+i.join(t+" ")+t).split(" "))}var r={gradient:function(){var e="background-image:";return n.cssText=(e+t.join("gradient(linear,left top,right bottom,from(#9f9),to(#fff));"+e)+t.join("linear-gradient(left top,#eee,#fff);"+e)).slice(0,-e.length),!!n.backgroundImage},rgba:function(){return n.cssText="background-color:rgba(0,0,0,0.5)",!!n.backgroundColor},opacity:function(){return""===e.style.opacity},textshadow:function(){return""===n.textShadow},multiplebgs:function(){return n.cssText="background:url(//:),url(//:),red url(//:)",new RegExp("(url\\s*\\(.*?){3}").test(n.background)},boxshadow:function(){return s("boxShadow")},borderimage:function(){return s("borderImage")},borderradius:function(){return s("borderRadius")},cssreflections:function(){return s("boxReflect")},csstransforms:function(){return s("transform")},csstransitions:function(){return s("transition")},fontface:function(){var e,t=navigator.userAgent;return(e=t.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/))?"4.0.249.4"<=e[1]||5<1*e[1].split(".")[0]:(e=t.match(/Safari\/(\d+\.\d+)/))&&!/iPhone/.test(t)?"525.13"<=e[1]:/Opera/.test({}.toString.call(window.opera))?"10.00"<=opera.version():!!(e=t.match(/rv:(\d+\.\d+\.\d+)[^b].*Gecko\//))&&"1.9.1"<=e[1]}};for(var l in r)r[l]&&a.feature(l,r[l].call(),!0);a.feature()}(),function(o){var i,a,s=o.documentElement,r=[],l=[],c={},u={},e=!0===o.createElement("script").async||"MozAppearance"in o.documentElement.style||window.opera,t=window.head_conf&&head_conf.head||"head",h=window[t]=window[t]||function(){h.ready.apply(null,arguments)},d=1,p=2,n=3,f=4;function m(e){e._done||(e(),e._done=1)}function g(e){var t,n,i,o,a;if("object"==typeof e)for(var s in e)e[s]&&(t={name:s,url:e[s]});else t={name:(n=e,i=n.split("/"),o=i[i.length-1],a=o.indexOf("?"),-1!=a?o.substring(0,a):o),url:e};var r=u[t.name];return r&&r.url===t.url?r:u[t.name]=t}function v(e,t){if(e){"object"==typeof e&&(e=[].slice.call(e));for(var n=0;n<e.length;n++)t.call(e,e[n],n)}}function b(e){return"[object Function]"==Object.prototype.toString.call(e)}function _(e){var t;for(var n in e=e||u){if(e.hasOwnProperty(n)&&e[n].state!=f)return!1;t=!0}return t}function y(e,t){return e.state==f?t&&t():e.state==n?h.ready(e.name,t):e.state==p?e.onpreload.push(function(){y(e,t)}):(e.state=n,void w(e.url,function(){e.state=f,t&&t(),v(c[e.name],function(e){m(e)}),_()&&a&&v(c.ALL,function(e){m(e)})}))}function w(e,t){var n=o.createElement("script");n.type="text/"+(e.type||"javascript"),n.src=e.src||e,n.async=!1,n.onreadystatechange=n.onload=function(){var e=n.readyState;t.done||e&&!/loaded|complete/.test(e)||(t.done=!0,t())},(o.body||s).appendChild(n)}function C(){a||(a=!0,v(r,function(e){m(e)}))}if(h.js=e?function(){var n=arguments,i=n[n.length-1],o={};return b(i)||(i=null),v(n,function(e,t){e!=i&&(e=g(e),y(o[e.name]=e,i&&t==n.length-2?function(){_(o)&&m(i)}:null))}),h}:function(){var e=arguments,t=[].slice.call(e,1),n=t[0];return i?n?(v(t,function(e){var t;b(e)||void 0===(t=g(e)).state&&(t.state=p,t.onpreload=[],w({src:t.url,type:"cache"},function(){var e;(e=t).state=d,v(e.onpreload,function(e){e.call()})}))}),y(g(e[0]),b(n)?n:function(){h.js.apply(null,t)})):y(g(e[0])):l.push(function(){h.js.apply(null,e)}),h},h.ready=function(e,t){if(e==o)return a?m(t):r.push(t),h;if(b(e)&&(t=e,e="ALL"),"string"!=typeof e||!b(t))return h;var n=u[e];if(n&&n.state==f||"ALL"==e&&_()&&a)return m(t),h;var i=c[e];return i?i.push(t):i=c[e]=[t],h},h.ready(o,function(){_()&&v(c.ALL,function(e){m(e)}),h.feature&&h.feature("domloaded",!0)}),window.addEventListener)o.addEventListener("DOMContentLoaded",C,!1),window.addEventListener("load",C,!1);else if(window.attachEvent){o.attachEvent("onreadystatechange",function(){"complete"===o.readyState&&C()});var D=1;try{D=window.frameElement}catch(e){}!D&&s.doScroll&&function(){try{s.doScroll("left"),C()}catch(e){return setTimeout(arguments.callee,1)}}(),window.attachEvent("onload",C)}!o.readyState&&o.addEventListener&&(o.readyState="loading",o.addEventListener("DOMContentLoaded",handler=function(){o.removeEventListener("DOMContentLoaded",handler,!1),o.readyState="complete"},!1)),setTimeout(function(){i=!0,v(l,function(e){e()})},300)}(document),function(h){var o,a,i,d=0,p={control:h('<div class="colorPicker-picker">&nbsp;</div>'),palette:h('<div id="colorPicker_palette" class="colorPicker-palette" />'),swatch:h('<div class="colorPicker-swatch">&nbsp;</div>'),hexLabel:h('<label for="colorPicker_hex">Hex</label>'),hexField:h('<input type="text" id="colorPicker_hex" disabled/>')},f="transparent";h.fn.colorPicker=function(u){return this.each(function(){var t,e,n=h(this),i=h.extend({},h.fn.colorPicker.defaults,u),o=h.fn.colorPicker.toHex(0<n.val().length?n.val():i.pickerDefault),a=p.control.clone(),s=p.palette.clone().attr("id","colorPicker_palette-"+d),r=p.hexLabel.clone(),l=p.hexField.clone(),c=s[0].id;if(h.each(i.colors,function(e){t=p.swatch.clone(),i.colors[e]===f?(t.addClass(f).text("X"),h.fn.colorPicker.bindPalette(l,t,f)):(t.css("background-color","#"+this),h.fn.colorPicker.bindPalette(l,t)),t.appendTo(s)}),r.attr("for","colorPicker_hex-"+d),l.attr({id:"colorPicker_hex-"+d,value:o}),l.bind("keydown",function(e){if(13===e.keyCode){var t=h.fn.colorPicker.toHex(h(this).val());h.fn.colorPicker.changeColor(t||n.val())}27===e.keyCode&&h.fn.colorPicker.hidePalette()}),l.bind("keyup",function(e){var t=h.fn.colorPicker.toHex(h(e.target).val());h.fn.colorPicker.previewColor(t||n.val())}),h('<div class="colorPicker_hexWrap" />').append(r).appendTo(s),s.find(".colorPicker_hexWrap").append(l),!1===i.showHexField&&(l.hide(),r.hide()),h("body").append(s),s.hide(),a.css("background-color",o),a.bind("click",function(){n.is(":not(:disabled)")&&h.fn.colorPicker.togglePalette(h("#"+c),h(this))}),u&&u.onColorChange?a.data("onColorChange",u.onColorChange):a.data("onColorChange",function(){}),(e=n.data("text"))&&a.html(e),n.after(a),n.bind("change",function(){n.next(".colorPicker-picker").css("background-color",h.fn.colorPicker.toHex(h(this).val()))}),n.val(o),"input"===n[0].tagName.toLowerCase())try{n.attr("type","hidden")}catch(e){n.css("visibility","hidden").css("position","absolute")}else n.hide();d++})},h.extend(!0,h.fn.colorPicker,{toHex:function(e){if(e.match(/[0-9A-F]{6}|[0-9A-F]{3}$/i))return"#"===e.charAt(0)?e:"#"+e;if(!e.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/))return!1;var t=[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10)],n=function(e){if(e.length<2)for(var t=0,n=2-e.length;t<n;t++)e="0"+e;return e};return 3===t.length?"#"+n(t[0].toString(16))+n(t[1].toString(16))+n(t[2].toString(16)):void 0},checkMouse:function(e,t){var n=a,i=h(e.target).parents("#"+n.attr("id")).length;e.target===h(n)[0]||e.target===o[0]||0<i||h.fn.colorPicker.hidePalette()},hidePalette:function(){h(document).unbind("mousedown",h.fn.colorPicker.checkMouse),h(".colorPicker-palette").hide()},showPalette:function(e){var t=o.prev("input").val();e.css({top:o.offset().top+o.outerHeight(),left:o.offset().left}),h("#color_value").val(t),e.show(),h(document).bind("mousedown",h.fn.colorPicker.checkMouse)},togglePalette:function(e,t){t&&(o=t),(a=e).is(":visible")?h.fn.colorPicker.hidePalette():h.fn.colorPicker.showPalette(e)},changeColor:function(e){o.css("background-color",e),o.prev("input").val(e).change(),h.fn.colorPicker.hidePalette(),o.data("onColorChange").call(o,h(o).prev("input").attr("id"),e)},previewColor:function(e){o.css("background-color",e)},bindPalette:function(t,e,n){n=n||h.fn.colorPicker.toHex(e.css("background-color")),e.bind({click:function(e){i=n,h.fn.colorPicker.changeColor(n)},mouseover:function(e){i=t.val(),h(this).css("border-color","#598FEF"),t.val(n),h.fn.colorPicker.previewColor(n)},mouseout:function(e){h(this).css("border-color","#000"),t.val(o.css("background-color")),t.val(i),h.fn.colorPicker.previewColor(i)}})}}),h.fn.colorPicker.defaults={pickerDefault:"FFFFFF",colors:["000000","993300","333300","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","999999","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFFF","99CCFF","FFFFFF"],addColors:[],showHexField:!0}}(jQuery),function(){var s=!1;window.JQClass=function(){},JQClass.classes={},JQClass.extend=function e(t){var o=this.prototype;s=!0;var n=new this;for(var i in s=!1,t)n[i]="function"==typeof t[i]&&"function"==typeof o[i]?function(n,i){return function(){var e=this._super;this._super=function(e){return o[n].apply(this,e||[])};var t=i.apply(this,arguments);return this._super=e,t}}(i,t[i]):t[i];function a(){!s&&this._init&&this._init.apply(this,arguments)}return((a.prototype=n).constructor=a).extend=e,a}}(),function($){function camelCase(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var n=camelCase(this.name);$[n]=this,$.fn[n]=function(e){var t=Array.prototype.slice.call(arguments,1);return $[n]._isNotChained(e,t)?$[n][e].apply($[n],[this[0]].concat(t)):this.each(function(){if("string"==typeof e){if("_"===e[0]||!$[n][e])throw"Unknown method: "+e;$[n][e].apply($[n],[this].concat(t))}else $[n]._attach(this,e)})}},setDefaults:function(e){$.extend(this.defaultOptions,e||{})},_isNotChained:function(e,t){return"option"===e&&(0===t.length||1===t.length&&"string"==typeof t[0])||-1<$.inArray(e,this._getters)},_attach:function(e,t){if(!(e=$(e)).hasClass(this._getMarker())){e.addClass(this._getMarker()),t=$.extend({},this.defaultOptions,this._getMetadata(e),t||{});var n=$.extend({name:this.name,elem:e,options:t},this._instSettings(e,t));e.data(this.name,n),this._postAttach(e,n),this.option(e,t)}},_instSettings:function(e,t){return{}},_postAttach:function(e,t){},_getMetadata:function(d){try{var f=d.data(this.name.toLowerCase())||"";for(var g in f=f.replace(/'/g,'"'),f=f.replace(/([a-zA-Z0-9]+):/g,function(e,t,n){var i=f.substring(0,n).match(/"/g);return i&&i.length%2!=0?t+":":'"'+t+'":'}),f=$.parseJSON("{"+f+"}"),f){var h=f[g];"string"==typeof h&&h.match(/^new Date\((.*)\)$/)&&(f[g]=eval(h))}return f}catch(e){return{}}},_getInst:function(e){return $(e).data(this.name)||{}},option:function(e,t,n){var i=(e=$(e)).data(this.name);if(!t||"string"==typeof t&&null==n)return(o=(i||{}).options)&&t?o[t]:o;if(e.hasClass(this._getMarker())){var o=t||{};"string"==typeof t&&((o={})[t]=n),this._optionsChanged(e,i,o),$.extend(i.options,o)}},_optionsChanged:function(e,t,n){},destroy:function(e){(e=$(e)).hasClass(this._getMarker())&&(this._preDestroy(e,this._getInst(e)),e.removeData(this.name).removeClass(this._getMarker()))},_preDestroy:function(e,t){}}),$.JQPlugin={createPlugin:function(e,t){"object"==typeof e&&(t=e,e="JQPlugin"),e=camelCase(e);var n=camelCase(t.name);JQClass.classes[n]=JQClass.classes[e].extend(t),new JQClass.classes[n]}}}(jQuery),function(P){var e="datepick";P.JQPlugin.createPlugin({name:e,defaultRenderer:{picker:'<div class="datepick"><div class="datepick-nav">{link:prev}{link:today}{link:next}</div>{months}{popup:start}<div class="datepick-ctrl">{link:clear}{link:close}</div>{popup:end}<div class="datepick-clear-fix"></div></div>',monthRow:'<div class="datepick-month-row">{months}</div>',month:'<div class="datepick-month"><div class="datepick-month-header">{monthHeader}</div><table><thead>{weekHeader}</thead><tbody>{weeks}</tbody></table></div>',weekHeader:"<tr>{days}</tr>",dayHeader:"<th>{day}</th>",week:"<tr>{days}</tr>",day:"<td>{day}</td>",monthSelector:".datepick-month",daySelector:"td",rtlClass:"datepick-rtl",multiClass:"datepick-multi",defaultClass:"",selectedClass:"datepick-selected",highlightedClass:"datepick-highlight",todayClass:"datepick-today",otherMonthClass:"datepick-other-month",weekendClass:"datepick-weekend",commandClass:"datepick-cmd",commandButtonClass:"",commandLinkClass:"",disabledClass:"datepick-disabled"},commands:{prev:{text:"prevText",status:"prevStatus",keystroke:{keyCode:33},enabled:function(e){var t=e.curMinDate();return!t||F.add(F.day(F._applyMonthsOffset(F.add(F.newDate(e.drawDate),1-e.options.monthsToStep,"m"),e),1),-1,"d").getTime()>=t.getTime()},date:function(e){return F.day(F._applyMonthsOffset(F.add(F.newDate(e.drawDate),-e.options.monthsToStep,"m"),e),1)},action:function(e){F.changeMonth(this,-e.options.monthsToStep)}},prevJump:{text:"prevJumpText",status:"prevJumpStatus",keystroke:{keyCode:33,ctrlKey:!0},enabled:function(e){var t=e.curMinDate();return!t||F.add(F.day(F._applyMonthsOffset(F.add(F.newDate(e.drawDate),1-e.options.monthsToJump,"m"),e),1),-1,"d").getTime()>=t.getTime()},date:function(e){return F.day(F._applyMonthsOffset(F.add(F.newDate(e.drawDate),-e.options.monthsToJump,"m"),e),1)},action:function(e){F.changeMonth(this,-e.options.monthsToJump)}},next:{text:"nextText",status:"nextStatus",keystroke:{keyCode:34},enabled:function(e){var t=e.get("maxDate");return!t||F.day(F._applyMonthsOffset(F.add(F.newDate(e.drawDate),e.options.monthsToStep,"m"),e),1).getTime()<=t.getTime()},date:function(e){return F.day(F._applyMonthsOffset(F.add(F.newDate(e.drawDate),e.options.monthsToStep,"m"),e),1)},action:function(e){F.changeMonth(this,e.options.monthsToStep)}},nextJump:{text:"nextJumpText",status:"nextJumpStatus",keystroke:{keyCode:34,ctrlKey:!0},enabled:function(e){var t=e.get("maxDate");return!t||F.day(F._applyMonthsOffset(F.add(F.newDate(e.drawDate),e.options.monthsToJump,"m"),e),1).getTime()<=t.getTime()},date:function(e){return F.day(F._applyMonthsOffset(F.add(F.newDate(e.drawDate),e.options.monthsToJump,"m"),e),1)},action:function(e){F.changeMonth(this,e.options.monthsToJump)}},current:{text:"currentText",status:"currentStatus",keystroke:{keyCode:36,ctrlKey:!0},enabled:function(e){var t=e.curMinDate(),n=e.get("maxDate"),i=e.selectedDates[0]||F.today();return(!t||i.getTime()>=t.getTime())&&(!n||i.getTime()<=n.getTime())},date:function(e){return e.selectedDates[0]||F.today()},action:function(e){var t=e.selectedDates[0]||F.today();F.showMonth(this,t.getFullYear(),t.getMonth()+1)}},today:{text:"todayText",status:"todayStatus",keystroke:{keyCode:36,ctrlKey:!0},enabled:function(e){var t=e.curMinDate(),n=e.get("maxDate");return(!t||F.today().getTime()>=t.getTime())&&(!n||F.today().getTime()<=n.getTime())},date:function(e){return F.today()},action:function(e){F.showMonth(this)}},clear:{text:"clearText",status:"clearStatus",keystroke:{keyCode:35,ctrlKey:!0},enabled:function(e){return!0},date:function(e){return null},action:function(e){F.clear(this)}},close:{text:"closeText",status:"closeStatus",keystroke:{keyCode:27},enabled:function(e){return!0},date:function(e){return null},action:function(e){F.hide(this)}},prevWeek:{text:"prevWeekText",status:"prevWeekStatus",keystroke:{keyCode:38,ctrlKey:!0},enabled:function(e){var t=e.curMinDate();return!t||F.add(F.newDate(e.drawDate),-7,"d").getTime()>=t.getTime()},date:function(e){return F.add(F.newDate(e.drawDate),-7,"d")},action:function(e){F.changeDay(this,-7)}},prevDay:{text:"prevDayText",status:"prevDayStatus",keystroke:{keyCode:37,ctrlKey:!0},enabled:function(e){var t=e.curMinDate();return!t||F.add(F.newDate(e.drawDate),-1,"d").getTime()>=t.getTime()},date:function(e){return F.add(F.newDate(e.drawDate),-1,"d")},action:function(e){F.changeDay(this,-1)}},nextDay:{text:"nextDayText",status:"nextDayStatus",keystroke:{keyCode:39,ctrlKey:!0},enabled:function(e){var t=e.get("maxDate");return!t||F.add(F.newDate(e.drawDate),1,"d").getTime()<=t.getTime()},date:function(e){return F.add(F.newDate(e.drawDate),1,"d")},action:function(e){F.changeDay(this,1)}},nextWeek:{text:"nextWeekText",status:"nextWeekStatus",keystroke:{keyCode:40,ctrlKey:!0},enabled:function(e){var t=e.get("maxDate");return!t||F.add(F.newDate(e.drawDate),7,"d").getTime()<=t.getTime()},date:function(e){return F.add(F.newDate(e.drawDate),7,"d")},action:function(e){F.changeDay(this,7)}}},defaultOptions:{pickerClass:"",showOnFocus:!0,showTrigger:null,showAnim:"show",showOptions:{},showSpeed:"normal",popupContainer:null,alignment:"bottom",fixedWeeks:!1,firstDay:0,calculateWeek:null,monthsToShow:1,monthsOffset:0,monthsToStep:1,monthsToJump:12,useMouseWheel:!0,changeMonth:!0,yearRange:"c-10:c+10",shortYearCutoff:"+10",showOtherMonths:!1,selectOtherMonths:!1,defaultDate:null,selectDefaultDate:!1,minDate:null,maxDate:null,dateFormat:"mm/dd/yyyy",autoSize:!1,rangeSelect:!1,rangeSeparator:" - ",multiSelect:0,multiSeparator:",",onDate:null,onShow:null,onChangeMonthYear:null,onSelect:null,onClose:null,altField:null,altFormat:null,constrainInput:!0,commandsAsDateFormat:!1,commands:{}},regionalOptions:{"":{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dateFormat:"mm/dd/yyyy",firstDay:0,renderer:{},prevText:"&lt;Prev",prevStatus:"Show the previous month",prevJumpText:"&lt;&lt;",prevJumpStatus:"Show the previous year",nextText:"Next&gt;",nextStatus:"Show the next month",nextJumpText:"&gt;&gt;",nextJumpStatus:"Show the next year",currentText:"Current",currentStatus:"Show the current month",todayText:"Today",todayStatus:"Show today's month",clearText:"Clear",clearStatus:"Clear all the dates",closeText:"Close",closeStatus:"Close the datepicker",yearStatus:"Change the year",monthStatus:"Change the month",weekText:"Wk",weekStatus:"Week of the year",dayStatus:"Select DD, M d, yyyy",defaultStatus:"Select a date",isRTL:!1}},_getters:["getDate","isDisabled","isSelectable","retrieveDate"],_disabled:[],_popupClass:e+"-popup",_triggerClass:e+"-trigger",_disableClass:e+"-disable",_monthYearClass:e+"-month-year",_curMonthClass:e+"-month-",_anyYearClass:e+"-any-year",_curDoWClass:e+"-dow-",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,_msPerDay:864e5,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,e,t){if("string"!=typeof i&&(t=e,e=i,i=""),!e)return"";i=i||this.defaultOptions.dateFormat;for(var n=(t=t||{}).dayNamesShort||this.defaultOptions.dayNamesShort,o=t.dayNames||this.defaultOptions.dayNames,a=t.monthNamesShort||this.defaultOptions.monthNamesShort,s=t.monthNames||this.defaultOptions.monthNames,r=t.calculateWeek||this.defaultOptions.calculateWeek,l=function(e,t){for(var n=1;p+n<i.length&&i.charAt(p+n)===e;)n++;return p+=n-1,1<Math.floor(n/(t||1))},c=function(e,t,n,i){var o=""+t;if(l(e,i))for(;o.length<n;)o="0"+o;return o},u=function(e,t,n,i){return l(e)?i[t]:n[t]},h="",d=!1,p=0;p<i.length;p++)if(d)"'"!==i.charAt(p)||l("'")?h+=i.charAt(p):d=!1;else switch(i.charAt(p)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),n,o);break;case"o":h+=c("o",this.dayOfYear(e),3);break;case"w":h+=c("w",r(e),2);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),a,s);break;case"y":h+=l("y",2)?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=Math.floor(e.getTime()/1e3);break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=i.charAt(p)}return h},parseDate:function(i,s,e){if(null==s)throw"Invalid arguments";if(""===(s="object"==typeof s?s.toString():s+""))return null;i=i||this.defaultOptions.dateFormat;var t=(e=e||{}).shortYearCutoff||this.defaultOptions.shortYearCutoff;t="string"!=typeof t?t:this.today().getFullYear()%100+parseInt(t,10);for(var n=e.dayNamesShort||this.defaultOptions.dayNamesShort,o=e.dayNames||this.defaultOptions.dayNames,a=e.monthNamesShort||this.defaultOptions.monthNamesShort,r=e.monthNames||this.defaultOptions.monthNames,l=-1,c=-1,u=-1,h=-1,d=!1,p=!1,f=function(e,t){for(var n=1;_+n<i.length&&i.charAt(_+n)===e;)n++;return _+=n-1,1<Math.floor(n/(t||1))},m=function(e,t){var n=[2,3,f(e,t)?4:2,11,20]["oy@!".indexOf(e)+1],i=new RegExp("^-?\\d{1,"+n+"}"),o=s.substring(b).match(i);if(!o)throw"Missing number at position {0}".replace(/\{0\}/,b);return b+=o[0].length,parseInt(o[0],10)},g=function(e,t,n,i){for(var o=f(e,i)?n:t,a=0;a<o.length;a++)if(s.substr(b,o[a].length).toLowerCase()===o[a].toLowerCase())return b+=o[a].length,a+1;throw"Unknown name at position {0}".replace(/\{0\}/,b)},v=function(){if(s.charAt(b)!==i.charAt(_))throw"Unexpected literal at position {0}".replace(/\{0\}/,b);b++},b=0,_=0;_<i.length;_++)if(p)"'"!==i.charAt(_)||f("'")?v():p=!1;else switch(i.charAt(_)){case"d":u=m("d");break;case"D":g("D",n,o);break;case"o":h=m("o");break;case"w":m("w");break;case"m":c=m("m");break;case"M":c=g("M",a,r);break;case"y":var y=_;d=!f("y",2),_=y,l=m("y",2);break;case"@":l=(w=this._normaliseDate(new Date(1e3*m("@")))).getFullYear(),c=w.getMonth()+1,u=w.getDate();break;case"!":var w;l=(w=this._normaliseDate(new Date((m("!")-this._ticksTo1970)/1e4))).getFullYear(),c=w.getMonth()+1,u=w.getDate();break;case"*":b=s.length;break;case"'":f("'")?v():p=!0;break;default:v()}if(b<s.length)throw"Additional text found at end";if(-1===l?l=this.today().getFullYear():l<100&&d&&(l+=-1===t?1900:this.today().getFullYear()-this.today().getFullYear()%100-(l<=t?0:100)),-1<h){c=1,u=h;for(var C=this.daysInMonth(l,c);C<u;C=this.daysInMonth(l,c))c++,u-=C}if((w=this.newDate(l,c,u)).getFullYear()!==l||w.getMonth()+1!==c||w.getDate()!==u)throw"Invalid date";return w},determineDate:function(e,t,o,a,s){o&&"object"!=typeof o&&(s=a,a=o,o=null),"string"!=typeof a&&(s=a,a="");return t=t?F.newDate(t):null,e=null==e?t:"string"==typeof e?function(e){try{return F.parseDate(a,e,s)}catch(e){}for(var t=((e=e.toLowerCase()).match(/^c/)&&o?F.newDate(o):null)||F.today(),n=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,i=null;i=n.exec(e);)t=F.add(t,parseInt(i[1],10),i[2]||"d");return t}(e):"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?t:F.add(F.today(),e,"d"):F.newDate(e)},daysInMonth:function(e,t){return t=e.getFullYear?e.getMonth()+1:t,e=e.getFullYear?e.getFullYear():e,this.newDate(e,t+1,0).getDate()},dayOfYear:function(e,t,n){var i=e.getFullYear?e:F.newDate(e,t,n),o=F.newDate(i.getFullYear(),1,1);return Math.floor((i.getTime()-o.getTime())/F._msPerDay)+1},iso8601Week:function(e,t,n){var i=e.getFullYear?new Date(e.getTime()):F.newDate(e,t,n);i.setDate(i.getDate()+4-(i.getDay()||7));var o=i.getTime();return i.setMonth(0,1),Math.floor(Math.round((o-i)/F._msPerDay)/7)+1},today:function(){return this._normaliseDate(new Date)},newDate:function(e,t,n){return e?e.getFullYear?this._normaliseDate(new Date(e.getTime())):new Date(e,t-1,n,12):null},_normaliseDate:function(e){return e&&e.setHours(12,0,0,0),e},year:function(e,t){return e.setFullYear(t),this._normaliseDate(e)},month:function(e,t){return e.setMonth(t-1),this._normaliseDate(e)},day:function(e,t){return e.setDate(t),this._normaliseDate(e)},add:function(e,t,n){if("d"===n||"w"===n)this._normaliseDate(e),e.setDate(e.getDate()+t*("w"===n?7:1));else{var i=e.getFullYear()+("y"===n?t:0),o=e.getMonth()+("m"===n?t:0);e.setTime(F.newDate(i,o+1,Math.min(e.getDate(),this.daysInMonth(i,o+1))).getTime())}return e},_applyMonthsOffset:function(e,t){var n=t.options.monthsOffset;return P.isFunction(n)&&(n=n.apply(t.elem[0],[e])),F.add(e,-n,"m")},_init:function(){this.defaultOptions.commands=this.commands,this.defaultOptions.calculateWeek=this.iso8601Week,this.regionalOptions[""].renderer=this.defaultRenderer,this._super()},_instSettings:function(e,t){return{selectedDates:[],drawDate:null,pickingRange:!1,inline:-1<P.inArray(e[0].nodeName.toLowerCase(),["div","span"]),get:function(e){return-1<P.inArray(e,["defaultDate","minDate","maxDate"])?F.determineDate(this.options[e],null,this.selectedDates[0],this.options.dateFormat,this.getConfig()):this.options[e]},curMinDate:function(){return this.pickingRange?this.selectedDates[0]:this.get("minDate")},getConfig:function(){return{dayNamesShort:this.options.dayNamesShort,dayNames:this.options.dayNames,monthNamesShort:this.options.monthNamesShort,monthNames:this.options.monthNames,calculateWeek:this.options.calculateWeek,shortYearCutoff:this.options.shortYearCutoff}}}},_postAttach:function(e,t){t.inline?(t.drawDate=F._checkMinMax(F.newDate(t.selectedDates[0]||t.get("defaultDate")||F.today()),t),t.prevDate=F.newDate(t.drawDate),this._update(e[0]),P.fn.mousewheel&&e.mousewheel(this._doMouseWheel)):(this._attachments(e,t),e.on("keydown."+t.name,this._keyDown).on("keypress."+t.name,this._keyPress).on("keyup."+t.name,this._keyUp),e.attr("disabled")&&this.disable(e[0]))},_optionsChanged:function(e,t,n){if(n.calendar&&n.calendar!==t.options.calendar){var i=function(e){return"object"==typeof t.options[e]?null:t.options[e]};n=P.extend({defaultDate:i("defaultDate"),minDate:i("minDate"),maxDate:i("maxDate")},n),t.selectedDates=[],t.drawDate=null}var o=t.selectedDates;P.extend(t.options,n),this.setDate(e[0],o,null,!1,!0),t.pickingRange=!1,t.drawDate=F.newDate(this._checkMinMax((t.options.defaultDate?t.get("defaultDate"):t.drawDate)||t.get("defaultDate")||F.today(),t)),t.inline||this._attachments(e,t),(t.inline||t.div)&&this._update(e[0])},_attachments:function(e,t){e.off("focus."+t.name),t.options.showOnFocus&&e.on("focus."+t.name,this.show),t.trigger&&t.trigger.remove();var n=t.options.showTrigger;t.trigger=n?P(n).clone().removeAttr("id").addClass(this._triggerClass)[t.options.isRTL?"insertBefore":"insertAfter"](e).click(function(){F.isDisabled(e[0])||F[F.curInst===t?"hide":"show"](e[0])}):P([]),this._autoSize(e,t);var i=this._extractDates(t,e.val());i&&this.setDate(e[0],i,null,!0);var o=t.get("defaultDate");t.options.selectDefaultDate&&o&&0===t.selectedDates.length&&this.setDate(e[0],F.newDate(o||F.today()))},_autoSize:function(e,t){if(t.options.autoSize&&!t.inline){var n=F.newDate(2009,10,20),i=t.options.dateFormat;if(i.match(/[DM]/)){var o=function(e){for(var t=0,n=0,i=0;i<e.length;i++)e[i].length>t&&(t=e[i].length,n=i);return n};n.setMonth(o(t.options[i.match(/MM/)?"monthNames":"monthNamesShort"])),n.setDate(o(t.options[i.match(/DD/)?"dayNames":"dayNamesShort"])+20-n.getDay())}t.elem.attr("size",F.formatDate(i,n,t.getConfig()).length)}},_preDestroy:function(e,t){t.trigger&&t.trigger.remove(),e.empty().off("."+t.name),t.inline&&P.fn.mousewheel&&e.unmousewheel(),!t.inline&&t.options.autoSize&&e.removeAttr("size")},multipleEvents:function(e){var n=arguments;return function(e){for(var t=0;t<n.length;t++)n[t].apply(this,arguments)}},enable:function(t){if((t=P(t)).hasClass(this._getMarker())){var e=this._getInst(t);e.inline?t.children("."+this._disableClass).remove().end().find("button,select").prop("disabled",!1).end().find("a").attr("href","javascript:void(0)"):(t.prop("disabled",!1),e.trigger.filter("button."+this._triggerClass).prop("disabled",!1).end().filter("img."+this._triggerClass).css({opacity:"1.0",cursor:""})),this._disabled=P.map(this._disabled,function(e){return e===t[0]?null:e})}},disable:function(t){if((t=P(t)).hasClass(this._getMarker())){var e=this._getInst(t);if(e.inline){var n=t.children(":last"),i=n.offset(),o={left:0,top:0};n.parents().each(function(){if("relative"===P(this).css("position"))return o=P(this).offset(),!1});var a=t.css("zIndex");a=("auto"===a?0:parseInt(a,10))+1,t.prepend('<div class="'+this._disableClass+'" style="width: '+n.outerWidth()+"px; height: "+n.outerHeight()+"px; left: "+(i.left-o.left)+"px; top: "+(i.top-o.top)+"px; z-index: "+a+'"></div>').find("button,select").prop("disabled",!0).end().find("a").removeAttr("href")}else t.prop("disabled",!0),e.trigger.filter("button."+this._triggerClass).prop("disabled",!0).end().filter("img."+this._triggerClass).css({opacity:"0.5",cursor:"default"});this._disabled=P.map(this._disabled,function(e){return e===t[0]?null:e}),this._disabled.push(t[0])}},isDisabled:function(e){return e&&-1<P.inArray(e,this._disabled)},show:function(e){e=P(e.target||e);var t=F._getInst(e);if(F.curInst!==t&&(F.curInst&&F.hide(F.curInst,!0),!P.isEmptyObject(t))){t.lastVal=null,t.selectedDates=F._extractDates(t,e.val()),t.pickingRange=!1,t.drawDate=F._checkMinMax(F.newDate(t.selectedDates[0]||t.get("defaultDate")||F.today()),t),t.prevDate=F.newDate(t.drawDate),F.curInst=t,F._update(e[0],!0);var n=F._checkOffset(t);t.div.css({left:n.left,top:n.top});var i=t.options.showAnim,o=t.options.showSpeed;if(o="normal"===o&&P.ui&&8<=parseInt(P.ui.version.substring(2))?"_default":o,P.effects&&(P.effects[i]||P.effects.effect&&P.effects.effect[i])){var a=t.div.data();for(var s in a)s.match(/^ec\.storage\./)&&(a[s]=t._mainDiv.css(s.replace(/ec\.storage\./,"")));t.div.data(a).show(i,t.options.showOptions,o)}else t.div[i||"show"](i?o:0)}},_extractDates:function(e,t){if(t!==e.lastVal){t=(e.lastVal=t).split(e.options.multiSelect?e.options.multiSeparator:e.options.rangeSelect?e.options.rangeSeparator:"\0");for(var n=[],i=0;i<t.length;i++)try{var o=F.parseDate(e.options.dateFormat,t[i],e.getConfig());if(o){for(var a=!1,s=0;s<n.length;s++)if(n[s].getTime()===o.getTime()){a=!0;break}a||n.push(o)}}catch(e){}return n.splice(e.options.multiSelect||(e.options.rangeSelect?2:1),n.length),e.options.rangeSelect&&1===n.length&&(n[1]=n[0]),n}},_update:function(e,t){e=P(e.target||e);var n=F._getInst(e);P.isEmptyObject(n)||((n.inline||F.curInst===n)&&(!P.isFunction(n.options.onChangeMonthYear)||n.prevDate&&n.prevDate.getFullYear()===n.drawDate.getFullYear()&&n.prevDate.getMonth()===n.drawDate.getMonth()||n.options.onChangeMonthYear.apply(e[0],[n.drawDate.getFullYear(),n.drawDate.getMonth()+1])),n.inline?e.html(this._generateContent(e[0],n)):F.curInst===n&&(n.div||(n.div=P("<div></div>").addClass(this._popupClass).css({display:t?"none":"static",position:"absolute",left:e.offset().left,top:e.offset().top+e.outerHeight()}).appendTo(P(n.options.popupContainer||"body")),P.fn.mousewheel&&n.div.mousewheel(this._doMouseWheel)),n.div.html(this._generateContent(e[0],n)),e.focus()))},_updateInput:function(e,t){var n=this._getInst(e);if(!P.isEmptyObject(n)){for(var i="",o="",a=n.options.multiSelect?n.options.multiSeparator:n.options.rangeSeparator,s=n.options.altFormat||n.options.dateFormat,r=0;r<n.selectedDates.length;r++)i+=t?"":(0<r?a:"")+F.formatDate(n.options.dateFormat,n.selectedDates[r],n.getConfig()),o+=(0<r?a:"")+F.formatDate(s,n.selectedDates[r],n.getConfig());n.inline||t||P(e).val(i),P(n.options.altField).val(o),!P.isFunction(n.options.onSelect)||t||n.inSelect||(n.inSelect=!0,n.options.onSelect.apply(e,[n.selectedDates]),n.inSelect=!1)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:3,thick:5}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e){var t=e.elem.is(":hidden")&&e.trigger?e.trigger:e.elem,n=t.offset(),i=P(window).width(),o=P(window).height();if(0===i)return n;var a=!1;P(e.elem).parents().each(function(){return!(a|="fixed"===P(this).css("position"))});var s=document.documentElement.scrollLeft||document.body.scrollLeft,r=document.documentElement.scrollTop||document.body.scrollTop,l=n.top-(a?r:0)-e.div.outerHeight(),c=n.top-(a?r:0)+t.outerHeight(),u=n.left-(a?s:0),h=n.left-(a?s:0)+t.outerWidth()-e.div.outerWidth(),d=n.left-s+e.div.outerWidth()>i,p=n.top-r+e.elem.outerHeight()+e.div.outerHeight()>o;e.div.css("position",a?"fixed":"absolute");var f=e.options.alignment;return(n="topLeft"===f?{left:u,top:l}:"topRight"===f?{left:h,top:l}:"bottomLeft"===f?{left:u,top:c}:"bottomRight"===f?{left:h,top:c}:"top"===f?{left:e.options.isRTL||d?h:u,top:l}:{left:e.options.isRTL||d?h:u,top:p?l:c}).left=Math.max(a?0:s,n.left),n.top=Math.max(a?0:r,n.top),n},_checkExternalClick:function(e){if(F.curInst){var t=P(e.target);0!==t.closest("."+F._popupClass+",."+F._triggerClass).length||t.hasClass(F._getMarker())||F.hide(F.curInst)}},hide:function(e,t){if(e){var n=this._getInst(e);if(P.isEmptyObject(n)&&(n=e),n&&n===F.curInst){var i=t?"":n.options.showAnim,o=n.options.showSpeed;o="normal"===o&&P.ui&&8<=parseInt(P.ui.version.substring(2))?"_default":o;var a=function(){n.div&&(n.div.remove(),n.div=null,F.curInst=null,P.isFunction(n.options.onClose)&&n.options.onClose.apply(e,[n.selectedDates]))};if(n.div.stop(),P.effects&&(P.effects[i]||P.effects.effect&&P.effects.effect[i]))n.div.hide(i,n.options.showOptions,o,a);else{var s="slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide";n.div[s](i?o:"",a)}i||a()}}},_keyDown:function(e){var t=e.target,n=F._getInst(t),i=!1;if(n.div)if(9===e.keyCode)F.hide(t);else if(13===e.keyCode)F.selectDate(t,P("a."+n.options.renderer.highlightedClass,n.div)[0]),i=!0;else{var o=n.options.commands;for(var a in o){var s;if((s=o[a]).keystroke.keyCode===e.keyCode&&!!s.keystroke.ctrlKey==!(!e.ctrlKey&&!e.metaKey)&&!!s.keystroke.altKey===e.altKey&&!!s.keystroke.shiftKey===e.shiftKey){F.performAction(t,a),i=!0;break}}}else(s=n.options.commands.current).keystroke.keyCode===e.keyCode&&!!s.keystroke.ctrlKey==!(!e.ctrlKey&&!e.metaKey)&&!!s.keystroke.altKey===e.altKey&&!!s.keystroke.shiftKey===e.shiftKey&&(F.show(t),i=!0);return n.ctrlKey=e.keyCode<48&&32!==e.keyCode||e.ctrlKey||e.metaKey,i&&(e.preventDefault(),e.stopPropagation()),!i},_keyPress:function(e){var t=F._getInst(e.target);if(P.isEmptyObject(t)||!t.options.constrainInput)return!0;var n=String.fromCharCode(e.keyCode||e.charCode),i=F._allowedChars(t);return e.metaKey||t.ctrlKey||n<" "||!i||-1<i.indexOf(n)},_allowedChars:function(e){for(var t=e.options.multiSelect?e.options.multiSeparator:e.options.rangeSelect?e.options.rangeSeparator:"",n=!1,i=!1,o=e.options.dateFormat,a=0;a<o.length;a++){var s=o.charAt(a);if(n)"'"===s&&"'"!==o.charAt(a+1)?n=!1:t+=s;else switch(s){case"d":case"m":case"o":case"w":t+=i?"":"0123456789",i=!0;break;case"y":case"@":case"!":t+=(i?"":"0123456789")+"-",i=!0;break;case"J":t+=(i?"":"0123456789")+"-.",i=!0;break;case"D":case"M":case"Y":return null;case"'":"'"===o.charAt(a+1)?t+="'":n=!0;break;default:t+=s}}return t},_keyUp:function(e){var t=e.target,n=F._getInst(t);if(!P.isEmptyObject(n)&&!n.ctrlKey&&n.lastVal!==n.elem.val())try{var i=F._extractDates(n,n.elem.val());0<i.length&&F.setDate(t,i,null,!0)}catch(e){}return!0},_doMouseWheel:function(e,t){var n=F.curInst&&F.curInst.elem[0]||P(e.target).closest("."+F._getMarker())[0];if(!F.isDisabled(n)){var i=F._getInst(n);i.options.useMouseWheel&&(t=t<0?-1:1,F.changeMonth(n,-i.options[e.ctrlKey?"monthsToJump":"monthsToStep"]*t)),e.preventDefault()}},clear:function(e){var t=this._getInst(e);if(!P.isEmptyObject(t)){t.selectedDates=[],this.hide(e);var n=t.get("defaultDate");t.options.selectDefaultDate&&n?this.setDate(e,F.newDate(n||F.today())):this._updateInput(e)}},getDate:function(e){var t=this._getInst(e);return P.isEmptyObject(t)?[]:t.selectedDates},setDate:function(e,t,n,i,o){var a=this._getInst(e);if(!P.isEmptyObject(a)){P.isArray(t)||(t=[t],n&&t.push(n));var s=a.get("minDate"),r=a.get("maxDate"),l=a.selectedDates[0];a.selectedDates=[];for(var c=0;c<t.length;c++){var u=F.determineDate(t[c],null,l,a.options.dateFormat,a.getConfig());if(u&&(!s||u.getTime()>=s.getTime())&&(!r||u.getTime()<=r.getTime())){for(var h=!1,d=0;d<a.selectedDates.length;d++)if(a.selectedDates[d].getTime()===u.getTime()){h=!0;break}h||a.selectedDates.push(u)}}if(a.selectedDates.splice(a.options.multiSelect||(a.options.rangeSelect?2:1),a.selectedDates.length),a.options.rangeSelect){switch(a.selectedDates.length){case 1:a.selectedDates[1]=a.selectedDates[0];break;case 2:a.selectedDates[1]=a.selectedDates[0].getTime()>a.selectedDates[1].getTime()?a.selectedDates[0]:a.selectedDates[1]}a.pickingRange=!1}a.prevDate=a.drawDate?F.newDate(a.drawDate):null,a.drawDate=this._checkMinMax(F.newDate(a.selectedDates[0]||a.get("defaultDate")||F.today()),a),o||(this._update(e),this._updateInput(e,i))}},isSelectable:function(e,t){var n=this._getInst(e);return!P.isEmptyObject(n)&&(t=F.determineDate(t,n.selectedDates[0]||this.today(),null,n.options.dateFormat,n.getConfig()),this._isSelectable(e,t,n.options.onDate,n.get("minDate"),n.get("maxDate")))},_isSelectable:function(e,t,n,i,o){return!1!==("boolean"==typeof n?{selectable:n}:P.isFunction(n)?n.apply(e,[t,!0]):{}).selectable&&(!i||t.getTime()>=i.getTime())&&(!o||t.getTime()<=o.getTime())},performAction:function(e,t){var n=this._getInst(e);if(!P.isEmptyObject(n)&&!this.isDisabled(e)){var i=n.options.commands;i[t]&&i[t].enabled.apply(e,[n])&&i[t].action.apply(e,[n])}},showMonth:function(e,t,n,i){var o=this._getInst(e);if(!P.isEmptyObject(o)&&(null!=i||o.drawDate.getFullYear()!==t||o.drawDate.getMonth()+1!==n)){o.prevDate=F.newDate(o.drawDate);var a=this._checkMinMax(null!=t?F.newDate(t,n,1):F.today(),o);o.drawDate=F.newDate(a.getFullYear(),a.getMonth()+1,null!=i?i:Math.min(o.drawDate.getDate(),F.daysInMonth(a.getFullYear(),a.getMonth()+1))),this._update(e)}},changeMonth:function(e,t){var n=this._getInst(e);if(!P.isEmptyObject(n)){var i=F.add(F.newDate(n.drawDate),t,"m");this.showMonth(e,i.getFullYear(),i.getMonth()+1)}},changeDay:function(e,t){var n=this._getInst(e);if(!P.isEmptyObject(n)){var i=F.add(F.newDate(n.drawDate),t,"d");this.showMonth(e,i.getFullYear(),i.getMonth()+1,i.getDate())}},_checkMinMax:function(e,t){var n=t.get("minDate"),i=t.get("maxDate");return e=n&&e.getTime()<n.getTime()?F.newDate(n):e,e=i&&e.getTime()>i.getTime()?F.newDate(i):e},retrieveDate:function(e,t){var n=this._getInst(e);return P.isEmptyObject(n)?null:this._normaliseDate(new Date(parseInt(t.className.replace(/^.*dp(-?\d+).*$/,"$1"),10)))},selectDate:function(e,t){var n=this._getInst(e);if(!P.isEmptyObject(n)&&!this.isDisabled(e)){var i=this.retrieveDate(e,t);if(n.options.multiSelect){for(var o=!1,a=0;a<n.selectedDates.length;a++)if(i.getTime()===n.selectedDates[a].getTime()){n.selectedDates.splice(a,1),o=!0;break}!o&&n.selectedDates.length<n.options.multiSelect&&n.selectedDates.push(i)}else n.options.rangeSelect?(n.pickingRange?n.selectedDates[1]=i:n.selectedDates=[i,i],n.pickingRange=!n.pickingRange):n.selectedDates=[i];n.prevDate=F.newDate(i),this._updateInput(e),n.inline||n.pickingRange||n.selectedDates.length<(n.options.multiSelect||(n.options.rangeSelect?2:1))?this._update(e):this.hide(e)}},_generateContent:function(r,l){var t=l.options.monthsToShow;t=P.isArray(t)?t:[1,t],l.drawDate=this._checkMinMax(l.drawDate||l.get("defaultDate")||F.today(),l);for(var e=F._applyMonthsOffset(F.newDate(l.drawDate),l),n="",i=0;i<t[0];i++){for(var o="",a=0;a<t[1];a++)o+=this._generateMonth(r,l,e.getFullYear(),e.getMonth()+1,l.options.renderer,0===i&&0===a),F.add(e,1,"m");n+=this._prepare(l.options.renderer.monthRow,l).replace(/\{months\}/,o)}var c=this._prepare(l.options.renderer.picker,l).replace(/\{months\}/,n).replace(/\{weekHeader\}/g,this._generateDayHeaders(l,l.options.renderer)),s=function(e,t,n,i,o){if(-1!==c.indexOf("{"+e+":"+i+"}")){var a=l.options.commands[i],s=l.options.commandsAsDateFormat?a.date.apply(r,[l]):null;c=c.replace(new RegExp("\\{"+e+":"+i+"\\}","g"),"<"+t+(a.status?' title="'+l.options[a.status]+'"':"")+' class="'+l.options.renderer.commandClass+" "+l.options.renderer.commandClass+"-"+i+" "+o+(a.enabled(l)?"":" "+l.options.renderer.disabledClass)+'">'+(s?F.formatDate(l.options[a.text],s,l.getConfig()):l.options[a.text])+"</"+n+">")}};for(var u in l.options.commands)s("button",'button type="button"',"button",u,l.options.renderer.commandButtonClass),s("link",'a href="javascript:void(0)"',"a",u,l.options.renderer.commandLinkClass);if(c=P(c),1<t[1]){var h=0;P(l.options.renderer.monthSelector,c).each(function(){var e=++h%t[1];P(this).addClass(1===e?"first":0===e?"last":"")})}var d=this;c.find(l.options.renderer.daySelector+" a").hover(function(){P(this).addClass(l.options.renderer.highlightedClass)},function(){(l.inline?P(this).closest("."+d._getMarker()):l.div).find(l.options.renderer.daySelector+" a").removeClass(l.options.renderer.highlightedClass)}).click(function(){d.selectDate(r,this)}).end().find("select."+this._monthYearClass+":not(."+this._anyYearClass+")").change(function(){var e=P(this).val().split("/");d.showMonth(r,parseInt(e[1],10),parseInt(e[0],10))}).end().find("select."+this._anyYearClass).click(function(){P(this).css("visibility","hidden").next("input").css({left:this.offsetLeft,top:this.offsetTop,width:this.offsetWidth,height:this.offsetHeight}).show().focus()}).end().find("input."+d._monthYearClass).change(function(){try{var e=parseInt(P(this).val(),10);e=isNaN(e)?l.drawDate.getFullYear():e,d.showMonth(r,e,l.drawDate.getMonth()+1,l.drawDate.getDate())}catch(e){alert(e)}}).keydown(function(e){13===e.keyCode?P(e.elem).change():27===e.keyCode&&(P(e.elem).hide().prev("select").css("visibility","visible"),l.elem.focus())}),c.find("."+l.options.renderer.commandClass).click(function(){if(!P(this).hasClass(l.options.renderer.disabledClass)){var e=this.className.replace(new RegExp("^.*"+l.options.renderer.commandClass+"-([^ ]+).*$"),"$1");F.performAction(r,e)}}),l.options.isRTL&&c.addClass(l.options.renderer.rtlClass),1<t[0]*t[1]&&c.addClass(l.options.renderer.multiClass),l.options.pickerClass&&c.addClass(l.options.pickerClass),P("body").append(c);var p=0;return c.find(l.options.renderer.monthSelector).each(function(){p+=P(this).outerWidth()}),c.width(p/t[0]),P.isFunction(l.options.onShow)&&l.options.onShow.apply(r,[c,l]),c},_generateMonth:function(e,t,n,i,o,a){var s=F.daysInMonth(n,i),r=t.options.monthsToShow;r=P.isArray(r)?r:[1,r];var l=t.options.fixedWeeks||1<r[0]*r[1],c=t.options.firstDay,u=(F.newDate(n,i,1).getDay()-c+7)%7,h=l?6:Math.ceil((u+s)/7),d=t.options.selectOtherMonths&&t.options.showOtherMonths,p=t.pickingRange?t.selectedDates[0]:t.get("minDate"),f=t.get("maxDate"),m=-1<o.week.indexOf("{weekOfYear}"),g=F.today(),v=F.newDate(n,i,1);F.add(v,-u-(l&&v.getDay()===c?7:0),"d");for(var b=v.getTime(),_="",y=0;y<h;y++){for(var w=m?'<span class="dp'+b+'">'+(P.isFunction(t.options.calculateWeek)?t.options.calculateWeek(v):0)+"</span>":"",C="",D=0;D<7;D++){var x=!1;if(t.options.rangeSelect&&0<t.selectedDates.length)x=v.getTime()>=t.selectedDates[0]&&v.getTime()<=t.selectedDates[1];else for(var T=0;T<t.selectedDates.length;T++)if(t.selectedDates[T].getTime()===v.getTime()){x=!0;break}var k=P.isFunction(t.options.onDate)?t.options.onDate.apply(e,[v,v.getMonth()+1===i]):{},S=(d||v.getMonth()+1===i)&&this._isSelectable(e,v,k.selectable,p,f);C+=this._prepare(o.day,t).replace(/\{day\}/g,(S?'<a href="javascript:void(0)"':"<span")+' class="dp'+b+" "+(k.dateClass||"")+(x&&(d||v.getMonth()+1===i)?" "+o.selectedClass:"")+(S?" "+o.defaultClass:"")+((v.getDay()||7)<6?"":" "+o.weekendClass)+(v.getMonth()+1===i?"":" "+o.otherMonthClass)+(v.getTime()===g.getTime()&&v.getMonth()+1===i?" "+o.todayClass:"")+(v.getTime()===t.drawDate.getTime()&&v.getMonth()+1===i?" "+o.highlightedClass:"")+'"'+(k.title||t.options.dayStatus&&S?' title="'+(k.title||F.formatDate(t.options.dayStatus,v,t.getConfig()))+'"':"")+">"+(t.options.showOtherMonths||v.getMonth()+1===i?k.content||v.getDate():"&nbsp;")+(S?"</a>":"</span>")),F.add(v,1,"d"),b=v.getTime()}_+=this._prepare(o.week,t).replace(/\{days\}/g,C).replace(/\{weekOfYear\}/g,w)}var M=this._prepare(o.month,t).match(/\{monthHeader(:[^\}]+)?\}/);M=M[0].length<=13?"MM yyyy":M[0].substring(13,M[0].length-1),M=a?this._generateMonthSelection(t,n,i,p,f,M,o):F.formatDate(M,F.newDate(n,i,1),t.getConfig());var I=this._prepare(o.weekHeader,t).replace(/\{days\}/g,this._generateDayHeaders(t,o));return this._prepare(o.month,t).replace(/\{monthHeader(:[^\}]+)?\}/g,M).replace(/\{weekHeader\}/g,I).replace(/\{weeks\}/g,_)},_generateDayHeaders:function(e,t){for(var n="",i=0;i<7;i++){var o=(i+e.options.firstDay)%7;n+=this._prepare(t.dayHeader,e).replace(/\{day\}/g,'<span class="'+this._curDoWClass+o+'" title="'+e.options.dayNames[o]+'">'+e.options.dayNamesMin[o]+"</span>")}return n},_generateMonthSelection:function(e,t,n,i,o,a){if(!e.options.changeMonth)return F.formatDate(a,F.newDate(t,n,1),e.getConfig());for(var s=e.options["monthNames"+(a.match(/mm/i)?"":"Short")],r=a.replace(/m+/i,"\\x2E").replace(/y+/i,"\\x2F"),l='<select class="'+this._monthYearClass+'" title="'+e.options.monthStatus+'">',c=1;c<=12;c++)(!i||F.newDate(t,c,F.daysInMonth(t,c)).getTime()>=i.getTime())&&(!o||F.newDate(t,c,1).getTime()<=o.getTime())&&(l+='<option value="'+c+"/"+t+'"'+(n===c?' selected="selected"':"")+">"+s[c-1]+"</option>");l+="</select>",r=r.replace(/\\x2E/,l);var u=e.options.yearRange;if("any"===u)l='<select class="'+this._monthYearClass+" "+this._anyYearClass+'" title="'+e.options.yearStatus+'"><option>'+t+'</option></select><input class="'+this._monthYearClass+" "+this._curMonthClass+n+'" value="'+t+'">';else{u=u.split(":");var h=F.today().getFullYear(),d=u[0].match("c[+-].*")?t+parseInt(u[0].substring(1),10):(u[0].match("[+-].*")?h:0)+parseInt(u[0],10),p=u[1].match("c[+-].*")?t+parseInt(u[1].substring(1),10):(u[1].match("[+-].*")?h:0)+parseInt(u[1],10);l='<select class="'+this._monthYearClass+'" title="'+e.options.yearStatus+'">',d=F.add(F.newDate(d+1,1,1),-1,"d"),p=F.newDate(p,1,1);var f=function(e){0!==e&&(l+='<option value="'+n+"/"+e+'"'+(t===e?' selected="selected"':"")+">"+e+"</option>")};if(d.getTime()<p.getTime()){d=(i&&i.getTime()>d.getTime()?i:d).getFullYear(),p=(o&&o.getTime()<p.getTime()?o:p).getFullYear();for(var m=d;m<=p;m++)f(m)}else{d=(o&&o.getTime()<d.getTime()?o:d).getFullYear(),p=(i&&i.getTime()>p.getTime()?i:p).getFullYear();for(m=d;p<=m;m--)f(m)}l+="</select>"}return r=r.replace(/\\x2F/,l)},_prepare:function(o,e){var t=function(e,t){for(;;){var n=o.indexOf("{"+e+":start}");if(-1===n)return;var i=o.substring(n).indexOf("{"+e+":end}");-1<i&&(o=o.substring(0,n)+(t?o.substr(n+e.length+8,i-e.length-8):"")+o.substring(n+i+e.length+6))}};t("inline",e.inline),t("popup",!e.inline);for(var n=/\{l10n:([^\}]+)\}/,i=null;i=n.exec(o);)o=o.replace(i[0],e.options[i[1]]);return o}});var F=P.datepick;P(function(){P(document).on("mousedown."+e,F._checkExternalClick).on("resize."+e,function(){F.hide(F.curInst)})})}(jQuery),function(e){e.datepick.regionalOptions.fr={monthNames:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],monthNamesShort:["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayNamesMin:["Di","Lu","Ma","Me","Je","Ve","Sa"],dateFormat:"dd/mm/yyyy",firstDay:1,renderer:e.datepick.defaultRenderer,prevText:"&#x3c;Prc",prevStatus:"Voir le mois prcdent",prevJumpText:"&#x3c;&#x3c;",prevJumpStatus:"Voir l'anne prcdent",nextText:"Suiv&#x3e;",nextStatus:"Voir le mois suivant",nextJumpText:"&#x3e;&#x3e;",nextJumpStatus:"Voir l'anne suivant",currentText:"Courant",currentStatus:"Voir le mois courant",todayText:"Aujourd'hui",todayStatus:"Voir aujourd'hui",clearText:"Effacer",clearStatus:"Effacer la date slectionne",closeText:"Fermer",closeStatus:"Fermer sans modifier",yearStatus:"Voir une autre anne",monthStatus:"Voir un autre mois",weekText:"Sm",weekStatus:"Semaine de l'anne",dayStatus:"'Choisir' le DD d MM",defaultStatus:"Choisir la date",isRTL:!1},e.datepick.setDefaults(e.datepick.regionalOptions.fr)}(jQuery),function(h){var n="datetimeEntry";h.JQPlugin.createPlugin({name:n,defaultOptions:{appendText:"",initialField:null,tabToExit:!1,useMouseWheel:!0,shortYearCutoff:"+10",defaultDatetime:null,minDatetime:null,maxDatetime:null,minTime:null,maxTime:null,timeSteps:[1,1,1],spinnerImage:"spinnerDefault.png",spinnerSize:[20,20,8],spinnerBigImage:"",spinnerBigSize:[40,40,16],spinnerIncDecOnly:!1,spinnerRepeat:[500,250],beforeShow:null,altField:null,altFormat:null},regionalOptions:{"":{datetimeFormat:"O/D/Y H:Ma",datetimeSeparators:".",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ampmNames:["AM","PM"],spinnerTexts:["Today","Previous field","Next field","Increment","Decrement"],isRTL:!1}},_getters:["getDatetime","getOffset","isDisabled"],_appendClass:n+"-append",_controlClass:n+"-control",_expandClass:n+"-expand",_disabledInputs:[],_instSettings:function(e,t){return{_field:0,_selectedYear:0,_selectedMonth:0,_selectedDay:0,_selectedHour:0,_selectedMinute:0,_selectedSecond:0}},_postAttach:function(e,t){this._decodeDatetimeFormat(t),e.on("focus."+t.name,this._doFocus).on("blur."+t.name,this._doBlur).on("click."+t.name,this._doClick).on("keydown."+t.name,this._doKeyDown).on("keypress."+t.name,this._doKeyPress).on("paste."+t.name,function(e){setTimeout(function(){d._extractDatetime(t)},1)})},_optionsChanged:function(e,t,n){var i=this._parseDatetime(t,e.val());h.extend(t.options,n),t._field=0,this._decodeDatetimeFormat(t),i&&this._setDatetime(t,i),e.next("span."+this._appendClass).remove(),e.parent().find("span."+this._controlClass).remove(),h.fn.mousewheel&&e.unmousewheel();var o=t.options.spinnerImage?h('<span class="'+this._controlClass+'" style="display: inline-block; background: url(\''+t.options.spinnerImage+"') 0 0 no-repeat; width: "+t.options.spinnerSize[0]+"px; height: "+t.options.spinnerSize[1]+'px;"></span>'):null;e.after(t.options.appendText?'<span class="'+this._appendClass+'">'+t.options.appendText+"</span>":"").after(o||""),t.options.useMouseWheel&&h.fn.mousewheel&&e.mousewheel(this._doMouseWheel),o&&o.mousedown(this._handleSpinner).mouseup(this._endSpinner).mouseover(this._expandSpinner).mouseout(this._endSpinner).mousemove(this._describeSpinner)},enable:function(e){this._enableDisable(e,!1)},disable:function(e){this._enableDisable(e,!0)},_enableDisable:function(t,e){var n=this._getInst(t);n&&(t.disabled=e,t.nextSibling&&"span"===t.nextSibling.nodeName.toLowerCase()&&this._changeSpinner(n,t.nextSibling,e?5:-1),this._disabledInputs=h.map(this._disabledInputs,function(e){return e===t?null:e}),e&&this._disabledInputs.push(t))},isDisabled:function(e){return-1<h.inArray(e,this._disabledInputs)},_preDestroy:function(t,e){t=h(t).off("."+n),h.fn.mousewheel&&t.unmousewheel(),this._disabledInputs=h.map(this._disabledInputs,function(e){return e===t[0]?null:e}),t.siblings("."+this._appendClass+",."+this._controlClass).remove()},_decodeDatetimeFormat:function(e){e._fields=[],e._ampmField=-1;for(var t=0;t<e.options.datetimeFormat.length;t++)e.options.datetimeFormat.charAt(t).match(/[yYoOnNdDwWhHmMsSa]/)&&e._fields.push(t),"a"===e.options.datetimeFormat.charAt(t)&&(e._ampmField=e._fields.length-1)},setDatetime:function(e,t){var n=this._getInst(e);n&&(null===t||""===t?h(e).val(""):this._setDatetime(n,t?"object"==typeof t?new Date(t.getTime()):t:null))},getDatetime:function(e){var t=this._getInst(e);return t?this._parseDatetime(t,t.elem.val()):null},getOffset:function(e){var t=this._getInst(e),n=t?this._parseDatetime(t,t.elem.val()):null;return n?1e3*(3600*n.getHours()+60*n.getMinutes()+n.getSeconds()):0},_doFocus:function(e){var t=e.nodeName&&"input"===e.nodeName.toLowerCase()?e:this;if(d._lastInput!==t&&!d.isDisabled(t)){var n=d._getInst(t);n._field=0,d._lastInput=t,d._blurredInput=null,h.extend(n.options,h.isFunction(n.options.beforeShow)?n.options.beforeShow.apply(t,[t]):{}),d._extractDatetime(n,e.nodeName?null:e),setTimeout(function(){d._showField(n)},10)}},_doBlur:function(e){d._blurredInput=d._lastInput,d._lastInput=null},_doClick:function(e){var t=e.target,n=d._getInst(t),i=n._field;n._field=d._getSelection(n,t,e),i!==n._field&&(n._lastChr=""),d._showField(n)},_getSelection:function(e,t,n){var i,o=0,a=e.options.datetimeFormat;if(void 0!==t.selectionStart)for(var s=0,r=0;r<a.length&&(s+=d._fieldLength(e,a.charAt(r)),!(t.selectionStart<s));r++)o+=a.charAt(r).match(/[yondwhmsa]/i)?1:0;else if(t.createTextRange&&null!=n&&h(t).val()){var l=h(n.target||n.srcElement),c=t.createTextRange(),u=(n.clientX||0)+document.documentElement.scrollLeft-(l.offset().left+parseInt({thin:2,medium:4,thick:6}[i=l.css("border-left-width")]||i,10))-c.offsetLeft;for(s=0,r=0;r<a.length&&(s+=d._fieldLength(e,a.charAt(r)),c.collapse(),c.moveEnd("character",s),!(u<c.boundingWidth));r++)o+=a.charAt(r).match(/[yondwhmsa]/i)?1:0}return o},_doKeyDown:function(e){if(48<=e.keyCode)return!0;var t=d._getInst(e.target);switch(e.keyCode){case 9:return!!t.options.tabToExit||(e.shiftKey?d._changeField(t,-1,!0):d._changeField(t,1,!0));case 35:e.ctrlKey?d._setValue(t,""):(t._field=t._fields.length-1,d._adjustField(t,0));break;case 36:e.ctrlKey?d._setDatetime(t):(t._field=0,d._adjustField(t,0));break;case 37:d._changeField(t,-1,!1);break;case 38:d._adjustField(t,1);break;case 39:d._changeField(t,1,!1);break;case 40:d._adjustField(t,-1);break;case 46:d._setValue(t,"");break;default:return!0}return!1},_doKeyPress:function(e){var t=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);if(t<" ")return!0;var n=d._getInst(e.target);return d._handleKeyPress(n,t),!1},_handleKeyPress:function(t,e){e=e.toLowerCase();var n=t.options.datetimeFormat.charAt(t._fields[t._field]),i=t.options.datetimeFormat.charAt(t._fields[t._field]+1);if(i=-1==="yYoOnNdDwWhHmMsSa".indexOf(i)?i:"",-1<(t.options.datetimeSeparators+i).indexOf(e))this._changeField(t,1,!1);else if("0"<=e&&e<="9"){var o=parseInt(e,10),a=parseInt(t._lastChr+e,10),s=n.match(/y/i)?a:t._selectedYear,r=n.match(/o|n/i)?1<=a&&a<=12?a:0<o?o:t._selectedMonth+1:t._selectedMonth+1,l=n.match(/d|w/i)?1<=a&&a<=this._getDaysInMonth(s,r-1)?a:0<o?o:t._selectedDay:t._selectedDay,c=n.match(/h/i)?-1===t._ampmField?a<24?a:o:(1<=a&&a<=12?a:0<o?o:t._selectedHour)%12+(12<=t._selectedHour?12:0):t._selectedHour,u=n.match(/m/i)?a<60?a:o:t._selectedMinute,h=n.match(/s/i)?a<60?a:o:t._selectedSecond,d=this._constrainTime(t,[c,u,h]),p=this._shortYearCutoff(t);this._setDatetime(t,new Date(s+(100<=s||"y"!==n?0:p<s?1900:2e3),r-1,l,d[0],d[1],d[2])),t._lastChr=("Y"!==n?"":t._lastChr.substr(Math.max(0,t._lastChr.length-2)))+e}else if(n.match(/n/i)){t._lastChr+=e;var f=t.options["n"===n?"monthNamesShort":"monthNames"],m=function(){for(var e=0;e<f.length;e++)if(f[e].toLowerCase().substring(0,t._lastChr.length)===t._lastChr)return e;return-1};if(-1===(r=m())&&(t._lastChr=e.toLowerCase(),r=m()),-1===r)t._lastChr="";else{s=t._selectedYear,l=Math.min(t._selectedDay,this._getDaysInMonth(s,r));this._setDatetime(t,this._normaliseDatetime(new Date(s,r,l,t._selectedHour,t._selectedMinute,t._selectedSecond)))}}else if(-1<t._ampmField&&(e===t.options.ampmNames[0].substring(0,1).toLowerCase()&&12<=t._selectedHour||e===t.options.ampmNames[1].substring(0,1).toLowerCase()&&t._selectedHour<12)){var g=t._field;t._field=t._ampmField,this._adjustField(t,1),t._field=g,this._showField(t)}},_doMouseWheel:function(e,t){if(!d.isDisabled(e.target)){var n=d._getInst(e.target);n.elem.focus(),n.elem.val()||d._extractDatetime(n),d._adjustField(n,t),e.preventDefault()}},_expandSpinner:function(e){var t=d._getSpinnerTarget(e),n=d._getInst(d._getInput(t));if(!d.isDisabled(n.elem[0])&&n.options.spinnerBigImage){n._expanded=!0;var i=h(t).offset(),o=null;h(t).parents().each(function(){var e=h(this);return"relative"!==e.css("position")&&"absolute"!==e.css("position")||(o=e.offset()),!o}),h('<div class="'+d._expandClass+'" style="position: absolute; left: '+(i.left-(n.options.spinnerBigSize[0]-n.options.spinnerSize[0])/2-(o?o.left:0))+"px; top: "+(i.top-(n.options.spinnerBigSize[1]-n.options.spinnerSize[1])/2-(o?o.top:0))+"px; width: "+n.options.spinnerBigSize[0]+"px; height: "+n.options.spinnerBigSize[1]+"px; background: transparent url("+n.options.spinnerBigImage+') no-repeat 0px 0px; z-index: 10;"></div>').mousedown(d._handleSpinner).mouseup(d._endSpinner).mouseout(d._endExpand).mousemove(d._describeSpinner).insertAfter(t)}},_getInput:function(e){return h(e).siblings("."+this._getMarker())[0]},_describeSpinner:function(e){var t=d._getSpinnerTarget(e),n=d._getInst(d._getInput(t));t.title=n.options.spinnerTexts[d._getSpinnerRegion(n,e)]},_handleSpinner:function(e){var t=d._getSpinnerTarget(e),n=d._getInput(t);if(!d.isDisabled(n)){n===d._blurredInput&&(d._lastInput=n,d._blurredInput=null);var i=d._getInst(n);d._doFocus(n);var o=d._getSpinnerRegion(i,e);d._changeSpinner(i,t,o),d._actionSpinner(i,o),d._timer=null,d._handlingSpinner=!0,3<=o&&i.options.spinnerRepeat[0]&&(d._timer=setTimeout(function(){d._repeatSpinner(i,o)},i.options.spinnerRepeat[0]),h(t).one("mouseout",d._releaseSpinner).one("mouseup",d._releaseSpinner))}},_actionSpinner:function(e,t){switch(e.elem.val()||d._extractDatetime(e),t){case 0:this._setDatetime(e);break;case 1:this._changeField(e,-1,!1);break;case 2:this._changeField(e,1,!1);break;case 3:this._adjustField(e,1);break;case 4:this._adjustField(e,-1)}},_repeatSpinner:function(e,t){d._timer&&(d._lastInput=d._blurredInput,this._actionSpinner(e,t),this._timer=setTimeout(function(){d._repeatSpinner(e,t)},e.options.spinnerRepeat[1]))},_releaseSpinner:function(e){clearTimeout(d._timer),d._timer=null},_endExpand:function(e){d._timer=null;var t=d._getSpinnerTarget(e),n=d._getInput(t),i=d._getInst(n);h(t).remove(),i._expanded=!1},_endSpinner:function(e){d._timer=null;var t=d._getSpinnerTarget(e),n=d._getInput(t),i=d._getInst(n);d.isDisabled(n)||d._changeSpinner(i,t,-1),d._handlingSpinner&&(d._lastInput=d._blurredInput),d._lastInput&&d._handlingSpinner&&d._showField(i),d._handlingSpinner=!1},_getSpinnerTarget:function(e){return e.target||e.srcElement},_getSpinnerRegion:function(e,t){var n=this._getSpinnerTarget(t),i=h(n).offset(),o=[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop],a=e.options.spinnerIncDecOnly?99:t.clientX+o[0]-i.left,s=t.clientY+o[1]-i.top,r=e.options[e._expanded?"spinnerBigSize":"spinnerSize"],l=e.options.spinnerIncDecOnly?99:r[0]-1-a,c=r[1]-1-s;if(0<r[2]&&Math.abs(a-l)<=r[2]&&Math.abs(s-c)<=r[2])return 0;var u=Math.min(a,s,l,c);return u===a?1:u===l?2:u===s?3:4},_changeSpinner:function(e,t,n){h(t).css("background-position","-"+(n+1)*e.options[e._expanded?"spinnerBigSize":"spinnerSize"][0]+"px 0px")},_extractDatetime:function(e,t){var n=this._parseDatetime(e,e.elem.val())||this._normaliseDatetime(this._determineDatetime(e,e.options.defaultDatetime)||new Date),i=this._constrainTime(e,[n.getHours(),n.getMinutes(),n.getSeconds()]);e._selectedYear=n.getFullYear(),e._selectedMonth=n.getMonth(),e._selectedDay=n.getDate(),e._selectedHour=i[0],e._selectedMinute=i[1],e._selectedSecond=i[2],e._lastChr="";var o=function(){""!==e.elem.val()&&d._showDatetime(e)};"number"==typeof e.options.initialField?(e._field=Math.max(0,e.options.initialField),o()):setTimeout(function(){e._field=d._getSelection(e,e.elem[0],t),o()},0)},_parseDatetime:function(e,t){if(!t)return null;var n,i=0,o=0,a=0,s=0,r=0,l=0,c=[!1,!1,!1],u=0,h=e.options.datetimeFormat,d=function(){for(;u<t.length&&t.charAt(u).match(/^[0-9]/);)u++};for(n=0;n<h.length&&u<t.length;n++){var p=h.charAt(n),f=parseInt(t.substring(u),10);if(p.match(/y|o|d|h|m|s/i)&&isNaN(f))throw"Invalid date/time";switch(f=isNaN(f)?0:f,p){case"y":case"Y":i=f,d(),c[0]=!0;break;case"o":case"O":o=f,d(),c[1]=!0;break;case"n":case"N":for(var m=e.options["N"===p?"monthNames":"monthNamesShort"],g=0;g<m.length;g++)if(t.substring(u).substr(0,m[g].length).toLowerCase()===m[g].toLowerCase()){o=g+1,u+=m[g].length;break}c[1]=!0;break;case"w":case"W":var v=e.options["W"===p?"dayNames":"dayNamesShort"];for(g=0;g<v.length;g++)if(t.substring(u).substr(0,v[g].length).toLowerCase()===v[g].toLowerCase()){u+=v[g].length+1;break}f=parseInt(t.substring(u),10),f=isNaN(f)?0:f;case"d":case"D":a=f,d(),c[2]=!0;break;case"h":case"H":s=f,d();break;case"m":case"M":r=f,d();break;case"s":case"S":l=f,d();break;case"a":s=(12===s?0:s)+(t.substr(u,e.options.ampmNames[1].length).toLowerCase()===e.options.ampmNames[1].toLowerCase()?12:0),u+=e.options.ampmNames[0].length;break;default:u++}}if(n<h.length)throw"Invalid date/time";i=c[0]?i:2e3,o=c[1]?o:1,a=c[2]?a:1,i+=100<=i||-1===h.indexOf("y")?0:i>this._shortYearCutoff(e)?1900:2e3;var b=this._constrainTime(e,[s,r,l]),_=new Date(i,Math.max(0,o-1),a,b[0],b[1],b[2]);if(h.match(/y|o|n|d|w/i)&&(_.getFullYear()!==i||_.getMonth()+1!==o||_.getDate()!==a))throw"Invalid date/time";return _},_showDatetime:function(e){this._setValue(e,this._formatDatetime(e,e.options.datetimeFormat)),this._showField(e)},_formatDatetime:function(e,t){for(var n="",i=-1<t.indexOf("a"),o=0;o<t.length;o++){var a=t.charAt(o);switch(a){case"y":n+=this._formatNumber(e._selectedYear%100);break;case"Y":n+=this._formatNumber(e._selectedYear,4);break;case"o":case"O":n+=this._formatNumber(e._selectedMonth+1,"o"===a?1:2);break;case"n":case"N":n+=e.options["N"===a?"monthNames":"monthNamesShort"][e._selectedMonth];break;case"d":case"D":n+=this._formatNumber(e._selectedDay,"d"===a?1:2);break;case"w":case"W":n+=e.options["W"===a?"dayNames":"dayNamesShort"][new Date(e._selectedYear,e._selectedMonth,e._selectedDay).getDay()]+" "+this._formatNumber(e._selectedDay);break;case"h":case"H":n+=this._formatNumber(i?e._selectedHour%12||12:e._selectedHour,"h"===a?1:2);break;case"m":case"M":n+=this._formatNumber(e._selectedMinute,"m"===a?1:2);break;case"s":case"S":n+=this._formatNumber(e._selectedSecond,"s"===a?1:2);break;case"a":n+=e.options.ampmNames[e._selectedHour<12?0:1];break;default:n+=a}}return n},_showField:function(e){var t=e.elem[0];if(!e.elem.is(":hidden")&&d._lastInput===t){for(var n=0,i=0;i<e._fields[e._field];i++)n+=this._fieldLength(e,e.options.datetimeFormat.charAt(i));var o=n+this._fieldLength(e,e.options.datetimeFormat.charAt(i));if(t.setSelectionRange)t.setSelectionRange(n,o);else if(t.createTextRange){var a=t.createTextRange();a.moveStart("character",n),a.moveEnd("character",o-e.elem.val().length),a.select()}t.disabled||t.focus()}},_fieldLength:function(e,t){switch(t){case"Y":return 4;case"n":case"N":return e.options["N"===t?"monthNames":"monthNamesShort"][e._selectedMonth].length;case"w":case"W":return e.options["W"===t?"dayNames":"dayNamesShort"][new Date(e._selectedYear,e._selectedMonth,e._selectedDay).getDay()].length+3;case"y":case"O":case"D":case"H":case"M":case"S":return 2;case"o":return(""+(e._selectedMonth+1)).length;case"d":return(""+e._selectedDay).length;case"h":return(""+(-1===e._ampmField?e._selectedHour:e._selectedHour%12||12)).length;case"m":return(""+e._selectedMinute).length;case"s":return(""+e._selectedSecond).length;case"a":return e.options.ampmNames[0].length;default:return 1}},_formatNumber:function(e,t){for(e=""+e,t=t||2;e.length<t;)e="0"+e;return e},_setValue:function(e,t){t!==e.elem.val()&&(e.options.altField&&h(e.options.altField).val(t?this._formatDatetime(e,e.options.altFormat||e.options.datetimeFormat):""),e.elem.val(t).trigger("change"))},_changeField:function(e,t,n){var i=""===e.elem.val()||e._field===(-1===t?0:e._fields.length-1);return i||(e._field+=t),this._showField(e),e._lastChr="",i&&n},_adjustField:function(e,t){""===e.elem.val()&&(t=0);var n=e.options.datetimeFormat.charAt(e._fields[e._field]),i=e._selectedYear+(n.match(/y/i)?t:0),o=e._selectedMonth+(n.match(/o|n/i)?t:0),a=n.match(/d|w/i)?e._selectedDay+t:Math.min(e._selectedDay,this._getDaysInMonth(i,o)),s=e.options.timeSteps,r=e._selectedHour+(n.match(/h/i)?t*s[0]:0)+("a"===n&&0!==t?e._selectedHour<12?12:-12:0),l=e._selectedMinute+(n.match(/m/i)?t*s[1]:0),c=e._selectedSecond+(n.match(/s/i)?t*s[2]:0);this._setDatetime(e,new Date(i,o,a,r,l,c))},_getDaysInMonth:function(e,t){return new Date(e,t+1,0,12).getDate()},_setDatetime:function(e,t){t=this._normaliseDatetime(this._determineDatetime(e,t||e.options.defaultDatetime)||new Date);var n=this._constrainTime(e,[t.getHours(),t.getMinutes(),t.getSeconds()]);t.setHours(n[0],n[1],n[2]);var i=this._normaliseDatetime(this._determineDatetime(e,e.options.minDatetime)),o=this._normaliseDatetime(this._determineDatetime(e,e.options.maxDatetime)),a=this._normaliseDatetime(this._determineDatetime(e,e.options.minTime),"d"),s=this._normaliseDatetime(this._determineDatetime(e,e.options.maxTime),"d");t=i&&t<i?i:o&&o<t?o:t,a&&this._normaliseDatetime(new Date(t.getTime()),"d")<a&&this._copyTime(a,t),s&&this._normaliseDatetime(new Date(t.getTime()),"d")>s&&this._copyTime(s,t),e._selectedYear=t.getFullYear(),e._selectedMonth=t.getMonth(),e._selectedDay=t.getDate(),e._selectedHour=t.getHours(),e._selectedMinute=t.getMinutes(),e._selectedSecond=t.getSeconds(),this._showDatetime(e)},_copyDate:function(e,t){t.setFullYear(e.getFullYear()),t.setMonth(e.getMonth()),t.setDate(e.getDate())},_copyTime:function(e,t){t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),t.setSeconds(e.getSeconds())},_determineDatetime:function(u,e){var t,n;return e?"string"==typeof e?function(e){var t;try{if(t=d._parseDatetime(u,e))return t}catch(e){}e=e.toLowerCase();for(var n=(t=new Date).getFullYear(),i=t.getMonth(),o=t.getDate(),a=t.getHours(),s=t.getMinutes(),r=t.getSeconds(),l=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,c=l.exec(e);c;){switch(c[2]||"s"){case"s":r+=parseInt(c[1],10);break;case"m":s+=parseInt(c[1],10);break;case"h":a+=parseInt(c[1],10);break;case"d":o+=parseInt(c[1],10);break;case"w":o+=7*parseInt(c[1],10);break;case"o":i+=parseInt(c[1],10);break;case"y":n+=parseInt(c[1],10)}c=l.exec(e)}return new Date(n,i,o,a,s,r)}(e):"number"==typeof e?(t=e,(n=new Date).setSeconds(n.getSeconds()+t),n):e:null},_normaliseDatetime:function(e,t){return e?("d"===t&&(e.setFullYear(0),e.setMonth(0),e.setDate(0)),"t"===t&&(e.setHours(12),e.setMinutes(0),e.setSeconds(0)),e.setMilliseconds(0),e):null},_shortYearCutoff:function(e){var t=e.options.shortYearCutoff;return"string"==typeof t&&(t=(new Date).getFullYear()+parseInt(t,10)),t%100},_constrainTime:function(e,t){if(!(null!=t)){var n=this._determineTime(e,e.options.defaultTime)||new Date;t=[n.getHours(),n.getMinutes(),n.getSeconds()]}for(var i=!1,o=e.options.timeSteps,a=0;a<o.length;a++)i?t[a]=0:1<o[a]&&(t[a]=Math.round(t[a]/o[a])*o[a],i=!0);return t}});var d=h.datetimeEntry}(jQuery),function(Ae){function Oe(e,t,n){n=(n||0)-1;for(var i=e.length;++n<i;)if(e[n]===t)return n;return-1}function Ne(e,t){var n=typeof t;if(e=e.k,"boolean"==n||t==Je)return e[t];"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:et+t;return e=e[n]||(e[n]={}),"object"==n?e[i]&&-1<Oe(e[i],t)?0:-1:e[i]?0:-1}function a(e){var t=this.k,n=typeof e;if("boolean"==n||e==Je)t[e]=Ze;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?e:et+e,o=t[n]||(t[n]={});"object"==n?(o[i]||(o[i]=[])).push(e)==this.b.length&&(t[n]=Ke):o[i]=Ze}}function He(e){return e.charCodeAt(0)}function ze(e,t){var n=e.m,i=t.m;if((e=e.l)!==(t=t.l)){if(t<e||void 0===e)return 1;if(e<t||void 0===t)return-1}return n<i?-1:1}function Re(e){var t=-1,n=e.length,i=We();i.false=i.null=i.true=i.undefined=Ke;var o=We();for(o.b=e,o.k=i,o.push=a;++t<n;)o.push(e[t]);return!1===i.object?(Ue(o),Je):o}function qe(e){return"\\"+o[e]}function Be(){return t.pop()||[]}function We(){return n.pop()||{b:Je,k:Je,l:Je,false:Ke,m:0,leading:Ke,maxWait:0,null:Ke,number:Je,object:Je,push:Je,string:Je,trailing:Ke,true:Ke,undefined:Ke,n:Je}}function $e(e){e.length=0,t.length<i&&t.push(e)}function Ue(e){var t=e.k;t&&Ue(t),e.b=e.k=e.l=e.object=e.number=e.string=e.n=Je,n.length<i&&n.push(e)}function Ge(e,t,n){t||(t=0),void 0===n&&(n=e?e.length:0);var i=-1;n=n-t||0;for(var o=Array(n<0?0:n);++i<n;)o[i]=e[t+i];return o}function Ye(e){function d(e){if(!e||ge.call(e)!=Ct)return Ke;var t,n,i,o=e.valueOf,a="function"==typeof o&&(a=he(o))&&he(a);return a?e==a||he(e)==a:(t=e)&&ge.call(t)==Ct&&(!_(n=t.constructor)||n instanceof n)?(f(t,function(e,t){i=t}),i===Ve||de.call(t,i)):Ke}function p(e,t,n){if(!e||!kt[typeof e])return e;t=t&&void 0===n?t:m.createCallback(t,n);for(var i=-1,o=kt[typeof e]&&Fe(e),a=o?o.length:0;++i<a&&!1!==t(e[n=o[i]],n,e););return e}function f(e,t,n){var i;if(!e||!kt[typeof e])return e;for(i in t=t&&void 0===n?t:m.createCallback(t,n),e)if(!1===t(e[i],i,e))break;return e}function u(e,t,n){var i,o=e,a=o;if(!o)return a;for(var s=arguments,r=0,l="number"==typeof n?2:s.length;++r<l;)if((o=s[r])&&kt[typeof o])for(var c=-1,u=kt[typeof o]&&Fe(o),h=u?u.length:0;++c<h;)void 0===a[i=u[c]]&&(a[i]=o[i]);return a}function h(e,t,n){var i,o=e,a=o;if(!o)return a;var s=arguments,r=0,l="number"==typeof n?2:s.length;if(3<l&&"function"==typeof s[l-2])var c=m.createCallback(s[--l-1],s[l--],2);else 2<l&&"function"==typeof s[l-1]&&(c=s[--l]);for(;++r<l;)if((o=s[r])&&kt[typeof o])for(var u=-1,h=kt[typeof o]&&Fe(o),d=h?h.length:0;++u<d;)a[i=h[u]]=c?c(a[i],o[i]):o[i];return a}function m(e){return e&&"object"==typeof e&&!Pe(e)&&de.call(e,"__wrapped__")?e:new o(e)}function o(e){this.__wrapped__=e}function n(i,o,a,e){var s=_(i),r=!a,l=o;if(r){var c=e;a=o}else if(!s){if(!e)throw new te;o=i}return function e(){var t=arguments,n=r?this:o;return s||(i=o[l]),a.length&&(t=t.length?(t=Se.call(t),c?t.concat(a):a.concat(t)):a),this instanceof e?(n=y(i.prototype)?be(i.prototype):{},y(t=i.apply(n,t))?t:n):i.apply(n,t)}}function t(e){return je[e]}function g(){var e=(e=m.indexOf)===A?Oe:e;return e}function i(o){return function(e,t,n,i){return"boolean"!=typeof t&&t!=Je&&(n=(i=n)&&i[t]===e?Ve:t,t=Ke),n!=Je&&(n=m.createCallback(n,i)),o(e,t,n,i)}}function a(e){return Le[e]}function v(e,n,i,t,o,a){var s=e;if("boolean"!=typeof n&&n!=Je&&(t=i,i=n,n=Ke),"function"==typeof i){if(i=void 0===t?i:m.createCallback(i,t,1),void 0!==(s=i(s)))return s;s=e}if(t=y(s)){var r=ge.call(s);if(!Tt[r])return s;var l=Pe(s)}if(!t||!n)return t?l?Ge(s):h({},s):s;switch(t=Me[r],r){case bt:case _t:return new t(+s);case wt:case xt:return new t(s);case Dt:return t(s.source,rt.exec(s))}r=!o,o||(o=Be()),a||(a=Be());for(var c=o.length;c--;)if(o[c]==e)return a[c];return s=l?t(s.length):{},l&&(de.call(e,"index")&&(s.index=e.index),de.call(e,"input")&&(s.input=e.input)),o.push(e),a.push(s),(l?k:p)(e,function(e,t){s[t]=v(e,n,i,Ve,o,a)}),r&&($e(o),$e(a)),s}function s(e){var n=[];return f(e,function(e,t){_(e)&&n.push(t)}),n.sort()}function r(e){for(var t=-1,n=Fe(e),i=n.length,o={};++t<i;){var a=n[t];o[e[a]]=a}return o}function b(i,e,o,a,s,r){var t=o===Qe;if("function"==typeof o&&!t&&(o=m.createCallback(o,a,2),void 0!==(h=o(i,e))))return!!h;if(i===e)return 0!==i||1/i==1/e;var n=typeof i,l=typeof e;if(i==i&&(!i||"function"!=n&&"object"!=n)&&(!e||"function"!=l&&"object"!=l))return Ke;if(i==Je||e==Je)return i===e;if(l=ge.call(i),n=ge.call(e),l==gt&&(l=Ct),n==gt&&(n=Ct),l!=n)return Ke;switch(l){case bt:case _t:return+i==+e;case wt:return i!=+i?e!=+e:0==i?1/i==1/e:i==+e;case Dt:case xt:return i==ee(e)}if(!(n=l==vt)){if(de.call(i,"__wrapped__")||de.call(e,"__wrapped__"))return b(i.__wrapped__||i,e.__wrapped__||e,o,a,s,r);if(l!=Ct)return Ke;l=i.constructor;var c=e.constructor;if(!(l==c||_(l)&&l instanceof l&&_(c)&&c instanceof c))return Ke}for(c=!s,s||(s=Be()),r||(r=Be()),l=s.length;l--;)if(s[l]==i)return r[l]==e;var u=0,h=Ze;if(s.push(i),r.push(e),n){if(l=i.length,u=e.length,!(h=u==i.length)&&!t)return h;for(;u--;)if(n=l,c=e[u],t)for(;n--&&!(h=b(i[n],c,o,a,s,r)););else if(!(h=b(i[u],c,o,a,s,r)))break;return h}return f(e,function(e,t,n){return de.call(n,t)?(u++,h=de.call(i,t)&&b(i[t],e,o,a,s,r)):void 0}),h&&!t&&f(i,function(e,t,n){return de.call(n,t)?h=-1<--u:void 0}),c&&($e(s),$e(r)),h}function _(e){return"function"==typeof e}function y(e){return!(!e||!kt[typeof e])}function l(e){return"number"==typeof e||ge.call(e)==wt}function c(e){return"string"==typeof e||ge.call(e)==xt}function w(e){for(var t=-1,n=Fe(e),i=n.length,o=G(i);++t<i;)o[t]=e[n[t]];return o}function C(e,t,n){var i=-1,o=g(),a=e?e.length:0,s=Ke;return n=(n<0?De(0,a+n):n)||0,a&&"number"==typeof a?s=-1<(c(e)?e.indexOf(t,n):o(e,t,n)):p(e,function(e){return++i<n?void 0:!(s=e===t)}),s}function D(e,i,t){var o=Ze;i=m.createCallback(i,t),t=-1;var n=e?e.length:0;if("number"==typeof n)for(;++t<n&&(o=!!i(e[t],t,e)););else p(e,function(e,t,n){return o=!!i(e,t,n)});return o}function x(e,i,t){var o=[];i=m.createCallback(i,t),t=-1;var n=e?e.length:0;if("number"==typeof n)for(;++t<n;){var a=e[t];i(a,t,e)&&o.push(a)}else p(e,function(e,t,n){i(e,t,n)&&o.push(e)});return o}function T(e,i,t){i=m.createCallback(i,t),t=-1;var o,n=e?e.length:0;if("number"!=typeof n)return p(e,function(e,t,n){return i(e,t,n)?(o=e,Ke):void 0}),o;for(;++t<n;){var a=e[t];if(i(a,t,e))return a}}function k(e,t,n){var i=-1,o=e?e.length:0;if(t=t&&void 0===n?t:m.createCallback(t,n),"number"==typeof o)for(;++i<o&&!1!==t(e[i],i,e););else p(e,t);return e}function S(e,i,t){var o=-1,n=e?e.length:0;if(i=m.createCallback(i,t),"number"==typeof n)for(var a=G(n);++o<n;)a[o]=i(e[o],o,e);else a=[],p(e,function(e,t,n){a[++o]=i(e,t,n)});return a}function M(e,i,t){var o=-1/0,a=o;if(!i&&Pe(e)){t=-1;for(var n=e.length;++t<n;){var s=e[t];a<s&&(a=s)}}else i=!i&&c(e)?He:m.createCallback(i,t),k(e,function(e,t,n){t=i(e,t,n),o<t&&(o=t,a=e)});return a}function I(e,t){var n=-1,i=e?e.length:0;if("number"==typeof i)for(var o=G(i);++n<i;)o[n]=e[n][t];return o||S(e,t)}function P(e,i,o,t){if(!e)return o;var a=arguments.length<3;i=m.createCallback(i,t,4);var n=-1,s=e.length;if("number"==typeof s)for(a&&(o=e[++n]);++n<s;)o=i(o,e[n],n,e);else p(e,function(e,t,n){o=a?(a=Ke,e):i(o,e,t,n)});return o}function F(i,o,a,e){var s=i?i.length:0,r=arguments.length<3;if("number"!=typeof s){var l=Fe(i);s=l.length}return o=m.createCallback(o,e,4),k(i,function(e,t,n){t=l?l[--s]:--s,a=r?(r=Ke,i[t]):o(a,i[t],t,n)}),a}function j(e,i,t){var o;i=m.createCallback(i,t),t=-1;var n=e?e.length:0;if("number"==typeof n)for(;++t<n&&!(o=i(e[t],t,e)););else p(e,function(e,t,n){return!(o=i(e,t,n))});return!!o}function L(e){var t=-1,n=g(),i=e?e.length:0,o=le.apply(ne,Se.call(arguments,1)),a=[],s=tt<=i&&n===Oe;if(s){var r=Re(o);r?(n=Ne,o=r):s=Ke}for(;++t<i;)n(o,r=e[t])<0&&a.push(r);return s&&Ue(o),a}function E(e,t,n){if(e){var i=0,o=e.length;if("number"!=typeof t&&t!=Je){var a=-1;for(t=m.createCallback(t,n);++a<o&&t(e[a],a,e);)i++}else if((i=t)==Je||n)return e[0];return Ge(e,0,xe(De(0,i),o))}}function A(e,t,n){if("number"==typeof n){var i=e?e.length:0;n=n<0?De(0,i+n):n||0}else if(n)return e[n=N(e,t)]===t?n:-1;return e?Oe(e,t,n):-1}function O(e,t,n){if("number"!=typeof t&&t!=Je){var i=0,o=-1,a=e?e.length:0;for(t=m.createCallback(t,n);++o<a&&t(e[o],o,e);)i++}else i=t==Je||n?1:De(0,t);return Ge(e,i)}function N(e,t,n,i){var o=0,a=e?e.length:o;for(t=(n=n?m.createCallback(n,i,1):W)(t);o<a;)n(e[i=o+a>>>1])<t?o=i+1:a=i;return o}function H(e){for(var t=-1,n=e?M(I(e,"length")):0,i=G(n<0?0:n);++t<n;)i[t]=I(e,t);return i}function z(e,t){for(var n=-1,i=e?e.length:0,o={};++n<i;){var a=e[n];t?o[a]=t[n]:o[a[0]]=a[1]}return o}function R(e,t){return Ie.fastBind||ve&&2<arguments.length?ve.call.apply(ve,arguments):n(e,t,Se.call(arguments,2))}function q(n,i,e){function t(){re(d),re(p),c=0,d=p=Je}function o(){var e=f&&(!m||1<c);t(),e&&(!1!==h&&(u=new V),r=n.apply(l,s))}function a(){t(),(f||h!==i)&&(u=new V,r=n.apply(l,s))}var s,r,l,c=0,u=0,h=Ke,d=Je,p=Je,f=Ze;if(i=De(0,i||0),e===Ze){var m=Ze;f=Ke}else y(e)&&(m=e.leading,h="maxWait"in e&&De(i,e.maxWait||0),f="trailing"in e?e.trailing:f);return function(){if(s=arguments,l=this,c++,re(p),!1===h)m&&c<2&&(r=n.apply(l,s));else{var e=new V;!d&&!m&&(u=e);var t=h-(e-u);0<t?d||(d=me(a,t)):(re(d),d=Je,u=e,r=n.apply(l,s))}return i!==h&&(p=me(o,i)),r}}function B(e){var t=Se.call(arguments,1);return me(function(){e.apply(Ve,t)},1)}function W(e){return e}function $(t){k(s(t),function(e){var n=m[e]=t[e];m.prototype[e]=function(){var e=this.__wrapped__,t=[e];return pe.apply(t,arguments),t=n.apply(m,t),e&&"object"==typeof e&&e===t?this:new o(t)}})}function U(){return this.__wrapped__}var G=(e=e?Mt.defaults(Ae.Object(),e,Mt.pick(Ae,mt)):Ae).Array,Y=e.Boolean,V=e.Date,Z=e.Function,J=e.Math,K=e.Number,X=e.Object,Q=e.RegExp,ee=e.String,te=e.TypeError,ne=[],ie=X.prototype,oe=e._,ae=Q("^"+ee(ie.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),se=J.ceil,re=e.clearTimeout,le=ne.concat,ce=J.floor,ue=Z.prototype.toString,he=ae.test(he=X.getPrototypeOf)&&he,de=ie.hasOwnProperty,pe=ne.push,fe=e.setImmediate,me=e.setTimeout,ge=ie.toString,ve=ae.test(ve=ge.bind)&&ve,be=ae.test(be=X.create)&&be,_e=ae.test(_e=G.isArray)&&_e,ye=e.isFinite,we=e.isNaN,Ce=ae.test(Ce=X.keys)&&Ce,De=J.max,xe=J.min,Te=e.parseInt,ke=J.random,Se=ne.slice,Me=(J=ae.test(e.attachEvent),J=ve&&!/\n|true/.test(ve+J),{});Me[vt]=G,Me[bt]=Y,Me[_t]=V,Me[yt]=Z,Me[Ct]=X,Me[wt]=K,Me[Dt]=Q,Me[xt]=ee,o.prototype=m.prototype;var Ie=m.support={};Ie.fastBind=ve&&!J,m.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:lt,variable:"",imports:{_:m}};var Pe=_e,Fe=Ce?function(e){return y(e)?Ce(e):[]}:function(e){var t,n=[];if(!e||!kt[typeof e])return n;for(t in e)de.call(e,t)&&n.push(t);return n},je={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Le=r(je),Ee=(Y=i(function e(t,n,i){for(var o=-1,a=t?t.length:0,s=[];++o<a;){var r=t[o];i&&(r=i(r,o,t)),Pe(r)?pe.apply(s,n?r:e(r)):s.push(r)}return s}),i(function(e,t,n){var i=-1,o=g(),a=e?e.length:0,s=[],r=!t&&tt<=a&&o===Oe,l=n||r?Be():s;r&&(l=(c=Re(l))?(o=Ne,c):(r=Ke,n?l:($e(l),s)));for(;++i<a;){var c=e[i],u=n?n(c,i,e):c;(t?!i||l[l.length-1]!==u:o(l,u)<0)&&((n||r)&&l.push(u),s.push(c))}return r?($e(l.b),Ue(l)):n&&$e(l),s}));return J&&St&&"function"==typeof fe&&(B=R(fe,e)),fe=8==Te(ut+"08")?Te:function(e,t){return Te(c(e)?e.replace(ht,""):e,t||0)},m.after=function(e,t){return e<1?t():function(){return--e<1?t.apply(this,arguments):void 0}},m.assign=h,m.at=function(e){for(var t=-1,n=le.apply(ne,Se.call(arguments,1)),i=n.length,o=G(i);++t<i;)o[t]=e[n[t]];return o},m.bind=R,m.bindAll=function(e){for(var t=1<arguments.length?le.apply(ne,Se.call(arguments,1)):s(e),n=-1,i=t.length;++n<i;){var o=t[n];e[o]=R(e[o],e)}return e},m.bindKey=function(e,t){return n(e,t,Se.call(arguments,2),Qe)},m.compact=function(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var o=e[t];o&&i.push(o)}return i},m.compose=function(){var n=arguments;return function(){for(var e=arguments,t=n.length;t--;)e=[n[t].apply(this,e)];return e[0]}},m.countBy=function(e,i,t){var o={};return i=m.createCallback(i,t),k(e,function(e,t,n){t=ee(i(e,t,n)),de.call(o,t)?o[t]++:o[t]=1}),o},m.createCallback=function(o,a,e){if(o==Je)return W;var t=typeof o;if("function"==t)return void 0===a||ct&&!ct.test(ue.call(o))?o:1===e?function(e){return o.call(a,e)}:2===e?function(e,t){return o.call(a,e,t)}:4===e?function(e,t,n,i){return o.call(a,e,t,n,i)}:function(e,t,n){return o.call(a,e,t,n)};if("object"!=t)return function(e){return e[o]};var i=Fe(o);return function(e){for(var t=i.length,n=Ke;t--&&(n=b(e[i[t]],o[i[t]],Qe)););return n}},m.debounce=q,m.defaults=u,m.defer=B,m.delay=function(e,t){var n=Se.call(arguments,2);return me(function(){e.apply(Ve,n)},t)},m.difference=L,m.filter=x,m.flatten=Y,m.forEach=k,m.forIn=f,m.forOwn=p,m.functions=s,m.groupBy=function(e,i,t){var o={};return i=m.createCallback(i,t),k(e,function(e,t,n){t=ee(i(e,t,n)),(de.call(o,t)?o[t]:o[t]=[]).push(e)}),o},m.initial=function(e,t,n){if(!e)return[];var i=0,o=e.length;if("number"!=typeof t&&t!=Je){var a=o;for(t=m.createCallback(t,n);a--&&t(e[a],a,e);)i++}else i=t==Je||n?1:t||i;return Ge(e,0,xe(De(0,o-i),o))},m.intersection=function(e){for(var t=arguments,n=t.length,i=-1,o=Be(),a=-1,s=g(),r=e?e.length:0,l=[],c=Be();++i<n;){var u=t[i];o[i]=s===Oe&&(u?u.length:0)>=tt&&Re(i?t[i]:c)}e:for(;++a<r;){var h=o[0];u=e[a];if((h?Ne(h,u):s(c,u))<0){for(i=n,(h||c).push(u);--i;)if(((h=o[i])?Ne(h,u):s(t[i],u))<0)continue e;l.push(u)}}for(;n--;)(h=o[n])&&Ue(h);return $e(o),$e(c),l},m.invert=r,m.invoke=function(e,t){var n=Se.call(arguments,2),i=-1,o="function"==typeof t,a=e?e.length:0,s=G("number"==typeof a?a:0);return k(e,function(e){s[++i]=(o?t:e[t]).apply(e,n)}),s},m.keys=Fe,m.map=S,m.max=M,m.memoize=function(n,i){function o(){var e=o.cache,t=et+(i?i.apply(this,arguments):arguments[0]);return de.call(e,t)?e[t]:e[t]=n.apply(this,arguments)}return o.cache={},o},m.merge=function r(l,e,t){var n=arguments,i=0,o=2;if(!y(l))return l;if(t===Qe)var c=n[3],u=n[4],h=n[5];else{var a=Ze;u=Be(),h=Be(),"number"!=typeof t&&(o=n.length),3<o&&"function"==typeof n[o-2]?c=m.createCallback(n[--o-1],n[o--],2):2<o&&"function"==typeof n[o-1]&&(c=n[--o])}for(;++i<o;)(Pe(n[i])?k:p)(n[i],function(e,t){var n,i,o=e,a=l[t];if(e&&((i=Pe(e))||d(e))){for(o=u.length;o--;)if(n=u[o]==e){a=h[o];break}var s;n||(c&&(s=void 0!==(o=c(a,e)))&&(a=o),s||(a=i?Pe(a)?a:[]:d(a)?a:{}),u.push(e),h.push(a),s||(a=r(a,e,Qe,c,u,h)))}else c&&void 0===(o=c(a,e))&&(o=e),void 0!==o&&(a=o);l[t]=a});return a&&($e(u),$e(h)),l},m.min=function(e,i,t){var o=1/0,a=o;if(!i&&Pe(e)){t=-1;for(var n=e.length;++t<n;){var s=e[t];s<a&&(a=s)}}else i=!i&&c(e)?He:m.createCallback(i,t),k(e,function(e,t,n){(t=i(e,t,n))<o&&(o=t,a=e)});return a},m.omit=function(e,i,t){var o=g(),a="function"==typeof i,s={};if(a)i=m.createCallback(i,t);else var r=le.apply(ne,Se.call(arguments,1));return f(e,function(e,t,n){(a?!i(e,t,n):o(r,t)<0)&&(s[t]=e)}),s},m.once=function(e){var t,n;return function(){return t||(t=Ze,n=e.apply(this,arguments),e=Je),n}},m.pairs=function(e){for(var t=-1,n=Fe(e),i=n.length,o=G(i);++t<i;){var a=n[t];o[t]=[a,e[a]]}return o},m.partial=function(e){return n(e,Se.call(arguments,1))},m.partialRight=function(e){return n(e,Se.call(arguments,1),Je,Qe)},m.pick=function(e,i,t){var o={};if("function"!=typeof i)for(var n=-1,a=le.apply(ne,Se.call(arguments,1)),s=y(e)?a.length:0;++n<s;){var r=a[n];r in e&&(o[r]=e[r])}else i=m.createCallback(i,t),f(e,function(e,t,n){i(e,t,n)&&(o[t]=e)});return o},m.pluck=I,m.range=function(e,t,n){e=+e||0,t==Je&&(t=e,e=0);var i=-1;t=De(0,se((t-e)/(n=+n||1)));for(var o=G(t);++i<t;)o[i]=e,e+=n;return o},m.reject=function(e,i,t){return i=m.createCallback(i,t),x(e,function(e,t,n){return!i(e,t,n)})},m.rest=O,m.shuffle=function(e){var n=-1,t=e?e.length:0,i=G("number"==typeof t?t:0);return k(e,function(e){var t=ce(ke()*(++n+1));i[n]=i[t],i[t]=e}),i},m.sortBy=function(e,o,t){var a=-1,n=e?e.length:0,s=G("number"==typeof n?n:0);for(o=m.createCallback(o,t),k(e,function(e,t,n){var i=s[++a]=We();i.l=o(e,t,n),i.m=a,i.n=e}),n=s.length,s.sort(ze);n--;)e=s[n],s[n]=e.n,Ue(e);return s},m.tap=function(e,t){return t(e),e},m.throttle=function(e,t,n){var i=Ze,o=Ze;return!1===n?i=Ke:y(n)&&(i="leading"in n?n.leading:i,o="trailing"in n?n.trailing:o),(n=We()).leading=i,n.maxWait=t,n.trailing=o,e=q(e,t,n),Ue(n),e},m.times=function(e,t,n){e=-1<(e=+e)?e:0;var i=-1,o=G(e);for(t=m.createCallback(t,n,1);++i<e;)o[i]=t(i);return o},m.toArray=function(e){return e&&"number"==typeof e.length?Ge(e):w(e)},m.transform=function(e,i,o,t){var n=Pe(e);return i=m.createCallback(i,t,4),o==Je&&(o=n?[]:y((t=e&&e.constructor)&&t.prototype)?be(t&&t.prototype):{}),(n?k:p)(e,function(e,t,n){return i(o,e,t,n)}),o},m.union=function(e){return Pe(e)||(e=e?Se.call(e):ne),Ee(le.apply(ne,arguments))},m.uniq=Ee,m.unzip=H,m.values=w,m.where=x,m.without=function(e){return L(e,Se.call(arguments,1))},m.wrap=function(t,n){return function(){var e=[t];return pe.apply(e,arguments),n.apply(this,e)}},m.zip=function(e){return e?H(arguments):[]},m.zipObject=z,m.collect=S,m.drop=O,m.each=k,m.extend=h,m.methods=s,m.object=z,m.select=x,m.tail=O,m.unique=Ee,$(m),(m.chain=m).prototype.chain=function(){return this},m.clone=v,m.cloneDeep=function(e,t,n){return v(e,Ze,t,n)},m.contains=C,m.escape=function(e){return e==Je?"":ee(e).replace(pt,t)},m.every=D,m.find=T,m.findIndex=function(e,t,n){var i=-1,o=e?e.length:0;for(t=m.createCallback(t,n);++i<o;)if(t(e[i],i,e))return i;return-1},m.findKey=function(e,i,t){var o;return i=m.createCallback(i,t),p(e,function(e,t,n){return i(e,t,n)?(o=t,Ke):void 0}),o},m.has=function(e,t){return e?de.call(e,t):Ke},m.identity=W,m.indexOf=A,m.isArguments=function(e){return ge.call(e)==gt},m.isArray=Pe,m.isBoolean=function(e){return e===Ze||!1===e||ge.call(e)==bt},m.isDate=function(e){return e?"object"==typeof e&&ge.call(e)==_t:Ke},m.isElement=function(e){return e?1===e.nodeType:Ke},m.isEmpty=function(e){var t=Ze;if(!e)return t;var n=ge.call(e),i=e.length;return n==vt||n==xt||n==gt||n==Ct&&"number"==typeof i&&_(e.splice)?!i:(p(e,function(){return t=Ke}),t)},m.isEqual=b,m.isFinite=function(e){return ye(e)&&!we(parseFloat(e))},m.isFunction=_,m.isNaN=function(e){return l(e)&&e!=+e},m.isNull=function(e){return e===Je},m.isNumber=l,m.isObject=y,m.isPlainObject=d,m.isRegExp=function(e){return e?"object"==typeof e&&ge.call(e)==Dt:Ke},m.isString=c,m.isUndefined=function(e){return void 0===e},m.lastIndexOf=function(e,t,n){var i=e?e.length:0;for("number"==typeof n&&(i=(n<0?De(0,i+n):xe(n,i-1))+1);i--;)if(e[i]===t)return i;return-1},m.mixin=$,m.noConflict=function(){return e._=oe,this},m.parseInt=fe,m.random=function(e,t){e==Je&&t==Je&&(t=1),e=+e||0,t==Je?(t=e,e=0):t=+t||0;var n=ke();return e%1||t%1?e+xe(n*(t-e+parseFloat("1e-"+((n+"").length-1))),t):e+ce(n*(t-e+1))},m.reduce=P,m.reduceRight=F,m.result=function(e,t){var n=e?e[t]:Ve;return _(n)?e[t]():n},m.runInContext=Ye,m.size=function(e){var t=e?e.length:0;return"number"==typeof t?t:Fe(e).length},m.some=j,m.sortedIndex=N,m.template=function(s,e,t){s||(s="");var r,n=u({},(t=u({},t,i=m.templateSettings)).imports,i.imports),i=Fe(n),l=(n=w(n),0),o=t.interpolate||dt,c="__p+='";o=Q((t.escape||dt).source+"|"+o.source+"|"+(o===lt?st:dt).source+"|"+(t.evaluate||dt).source+"|$","g");s.replace(o,function(e,t,n,i,o,a){return n||(n=i),c+=s.slice(l,a).replace(ft,qe),t&&(c+="'+__e("+t+")+'"),o&&(r=Ze,c+="';"+o+";__p+='"),n&&(c+="'+((__t=("+n+"))==null?'':__t)+'"),l=a+e.length,e}),c+="';\n",(o=t=t.variable)||(c="with("+(t="obj")+"){"+c+"}"),c=(r?c.replace(nt,""):c).replace(it,"$1").replace(ot,"$1;"),c="function("+t+"){"+(o?"":t+"||("+t+"={});")+"var __t,__p='',__e=_.escape"+(r?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}";try{var a=Z(i,"return "+c).apply(Ve,n)}catch(e){throw e.source=c,e}return e?a(e):(a.source=c,a)},m.unescape=function(e){return e==Je?"":ee(e).replace(at,a)},m.uniqueId=function(e){var t=++Xe;return ee(e==Je?"":e)+t},m.all=D,m.any=j,m.detect=T,m.findWhere=T,m.foldl=P,m.foldr=F,m.include=C,m.inject=P,p(m,function(t,e){m.prototype[e]||(m.prototype[e]=function(){var e=[this.__wrapped__];return pe.apply(e,arguments),t.apply(m,e)})}),m.first=E,m.last=function(e,t,n){if(e){var i=0,o=e.length;if("number"!=typeof t&&t!=Je){var a=o;for(t=m.createCallback(t,n);a--&&t(e[a],a,e);)i++}else if((i=t)==Je||n)return e[o-1];return Ge(e,De(0,o-i))}},m.take=E,m.head=E,p(m,function(i,e){m.prototype[e]||(m.prototype[e]=function(e,t){var n=i(this.__wrapped__,e,t);return e==Je||t&&"function"!=typeof e?n:new o(n)})}),m.VERSION="1.3.1",m.prototype.toString=function(){return ee(this.__wrapped__)},m.prototype.value=U,m.prototype.valueOf=U,k(["join","pop","shift"],function(e){var t=ne[e];m.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}}),k(["push","reverse","sort","unshift"],function(e){var t=ne[e];m.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),k(["concat","slice","splice"],function(e){var t=ne[e];m.prototype[e]=function(){return new o(t.apply(this.__wrapped__,arguments))}}),m}var Ve,Ze=!0,Je=null,Ke=!1,t=[],n=[],Xe=0,Qe={},et=+new Date+"",tt=75,i=40,nt=/\b__p\+='';/g,it=/\b(__p\+=)''\+/g,ot=/(__e\(.*?\)|\b__t\))\+'';/g,at=/&(?:amp|lt|gt|quot|#39);/g,st=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,lt=/<%=([\s\S]+?)%>/g,ct=(ct=/\bthis\b/).test(Ye)&&ct,ut=" \t\v\f\ufeff\n\r\u2028\u2029",ht=RegExp("^["+ut+"]*0+(?=.$)"),dt=/($^)/,pt=/[&<>"']/g,ft=/['\n\r\t\u2028\u2029\\]/g,mt="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),gt="[object Arguments]",vt="[object Array]",bt="[object Boolean]",_t="[object Date]",yt="[object Function]",wt="[object Number]",Ct="[object Object]",Dt="[object RegExp]",xt="[object String]",Tt={};Tt[yt]=Ke,Tt[gt]=Tt[vt]=Tt[bt]=Tt[_t]=Tt[wt]=Tt[Ct]=Tt[Dt]=Tt[xt]=Ze;var kt={boolean:Ke,function:Ze,object:Ze,number:Ke,string:Ke,undefined:Ke},o={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},e=kt[typeof exports]&&exports,St=kt[typeof module]&&module&&module.exports==e&&module,s=kt[typeof global]&&global;!s||s.global!==s&&s.window!==s||(Ae=s);var Mt=Ye();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ae._=Mt,define(function(){return Mt})):e&&!e.nodeType?St?(St.exports=Mt)._=Mt:e._=Mt:Ae._=Mt}(this);"use strict";function ResponsiveDatatablesHelper(e,t){this.tableElement="string"==typeof e?$(e):e,this.columnIndexes=[],this.columnsShownIndexes=[],this.columnsHiddenIndexes=[],this.expandColumn=void 0,this.breakpoints={},this.expandIconTemplate='<span class="responsiveExpander"></span>',this.rowTemplate='<tr class="row-detail"><td><ul>\x3c!--column item--\x3e</ul></td></tr>',this.rowLiTemplate='<li><span class="columnTitle">\x3c!--column title--\x3e</span>: \x3c!--column value--\x3e</li>',this.disabled=!0,this.skipNextWindowsWidthChange=!1,this.init(t)}ResponsiveDatatablesHelper.prototype.init=function(e){var n=[];_.each(e,function(e,t){n.push({name:t,upperLimit:e,columnsToHide:[]})}),n=_.sortBy(n,"upperLimit");var t=void 0;_.each(n,function(e){e.lowerLimit=t,t=e.upperLimit}),n.push({name:"default",lowerLimit:t,upperLimit:void 0,columnsToHide:[]});for(var i=0,o=n.length;i<o;i++)this.breakpoints[n[i].name]=n[i];var a=this.tableElement.fnSettings().aoColumns;for(i=0,o=a.length;i<o;i++)a[i].bVisible&&this.columnIndexes.push(i);var s=$("thead th",this.tableElement);_.each(s,function(e,t){"expand"===$(e).attr("data-class")&&(this.expandColumn=t);var n=$(e).attr("data-hide");if(void 0!==n){var i=n.split(/,\s*/);_.each(i,function(e){void 0!==this.breakpoints[e]&&this.breakpoints[e].columnsToHide.push(this.columnIndexes[t])},this)}},this),this.disable(!1)},ResponsiveDatatablesHelper.prototype.setWindowsResizeHandler=function(e){if(void 0===e&&(e=!0),e){var t=this;$(window).bind("resize",function(){t.respond()})}else $(window).unbind("resize")},ResponsiveDatatablesHelper.prototype.respond=function(){if(!this.disabled){var t=$(window).width(),n=[];_.each(this.breakpoints,function(e){(!e.lowerLimit||t>e.lowerLimit)&&(!e.upperLimit||t<=e.upperLimit)&&(n=e.columnsToHide)},this);var e=!1;if(!this.skipNextWindowsWidthChange)if(this.columnsHiddenIndexes.length!==n.length)e=!0;else e=0<_.difference(this.columnsHiddenIndexes,n).length+_.difference(n,this.columnsHiddenIndexes).length;if(e&&(this.skipNextWindowsWidthChange=!0,this.columnsHiddenIndexes=n,this.columnsShownIndexes=_.difference(this.columnIndexes,this.columnsHiddenIndexes),this.showHideColumns(),this.columnsHiddenIndexes.length,this.skipNextWindowsWidthChange=!1),this.columnsHiddenIndexes.length){this.tableElement.addClass("has-columns-hidden");var i=this;$("tr.detail-show",this.tableElement).each(function(e,t){var n=$(t);0===n.next(".row-detail").length&&ResponsiveDatatablesHelper.prototype.showRowDetail(i,n)})}else this.tableElement.removeClass("has-columns-hidden"),$("tr.row-detail").remove()}},ResponsiveDatatablesHelper.prototype.showHideColumns=function(){for(var e=0,t=this.columnsShownIndexes.length;e<t;e++)this.tableElement.fnSetColumnVis(this.columnsShownIndexes[e],!0,!1);for(e=0,t=this.columnsHiddenIndexes.length;e<t;e++)this.tableElement.fnSetColumnVis(this.columnsHiddenIndexes[e],!1,!1);var n=this;$("tr.row-detail").remove(),this.tableElement.hasClass("has-columns-hidden")&&$("tr.detail-show",this.tableElement).each(function(e,t){ResponsiveDatatablesHelper.prototype.showRowDetail(n,$(t))})},ResponsiveDatatablesHelper.prototype.createExpandIcon=function(e){if(!this.disabled)for(var t=$("td",e),n=this,i=0,o=t.length;i<o;i++){var a=t[i],s=n.tableElement.fnGetPosition(a)[2];if(a=$(a),s===n.expandColumn){0==$("span.responsiveExpander",a).length&&(a.prepend(n.expandIconTemplate),a.on("click","span.responsiveExpander",{responsiveDatatablesHelperInstance:n},n.showRowDetailEventHandler));break}}},ResponsiveDatatablesHelper.prototype.showRowDetailEventHandler=function(e){if(!this.disabled){var t=$(this).closest("tr");t.hasClass("detail-show")?ResponsiveDatatablesHelper.prototype.hideRowDetail(e.data.responsiveDatatablesHelperInstance,t):ResponsiveDatatablesHelper.prototype.showRowDetail(e.data.responsiveDatatablesHelperInstance,t),t.toggleClass("detail-show"),e.stopPropagation()}},ResponsiveDatatablesHelper.prototype.showRowDetail=function(n,i){var o=n.tableElement,a=o.fnSettings().aoColumns,e=$(n.rowTemplate),s=$("ul",e);_.each(n.columnsHiddenIndexes,function(e){var t=$(n.rowLiTemplate);$(".columnTitle",t).html(a[e].sTitle),t.append(o.fnGetData(i[0],e)),s.append(t)});var t=n.columnIndexes.length-n.columnsHiddenIndexes.length;$("td",e).attr("colspan",t),i.after(e)},ResponsiveDatatablesHelper.prototype.hideRowDetail=function(e,t){t.next(".row-detail").remove()},ResponsiveDatatablesHelper.prototype.disable=function(e){this.disabled=void 0===e||e,this.disabled?(this.setWindowsResizeHandler(!1),$("tbody tr.row-detail",this.tableElement).remove(),$("tbody tr",this.tableElement).removeClass("detail-show"),$("tbody tr span.responsiveExpander",this.tableElement).remove(),this.columnsHiddenIndexes=[],this.columnsShownIndexes=this.columnIndexes,this.showHideColumns(),this.tableElement.removeClass("has-columns-hidden"),this.tableElement.off("click","span.responsiveExpander",this.showRowDetailEventHandler)):this.setWindowsResizeHandler()},function(It,Pt,Ft){var e;e=function(R){var M,i,g,t,e,n={},o=/[\r\n]/g,a=/<.*?>/g,s=/^[\d\+\-a-zA-Z]/,r=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),l=/[',$%\u2009\u202F]/g,c=function(e){return!e||"-"===e},u=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},h=function(e,t){return n[t]||(n[t]=new RegExp(_e(t),"g")),"string"==typeof e?e.replace(/\./g,"").replace(n[t],"."):e},d=function(e,t,n){var i="string"==typeof e;return t&&i&&(e=h(e,t)),n&&i&&(e=e.replace(l,"")),!e||"-"===e||!isNaN(parseFloat(e))&&isFinite(e)},p=function(e,t,n){return!!c(e)||((!(i=e)||"string"==typeof i)&&!!d(m(e),t,n)||null);var i},v=function(e,t,n){var i=[],o=0,a=e.length;if(n!==Ft)for(;o<a;o++)e[o]&&e[o][t]&&i.push(e[o][t][n]);else for(;o<a;o++)e[o]&&i.push(e[o][t]);return i},b=function(e,t,n,i){var o=[],a=0,s=t.length;if(i!==Ft)for(;a<s;a++)o.push(e[t[a]][n][i]);else for(;a<s;a++)o.push(e[t[a]][n]);return o},f=function(e,t){var n,i=[];t===Ft?(t=0,n=e):(n=t,t=e);for(var o=t;o<n;o++)i.push(o);return i},m=function(e){return e.replace(a,"")},_=function(e){var t,n,i,o=[],a=e.length,s=0;e:for(n=0;n<a;n++){for(t=e[n],i=0;i<s;i++)if(o[i]===t)continue e;o.push(t),s++}return o};function y(n){var i,o,a={};R.each(n,function(e,t){(i=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(o=e.replace(i[0],i[2].toLowerCase()),a[o]=e,"o"===i[1]&&y(n[e]))}),n._hungarianMap=a}function I(n,i,o){var a;n._hungarianMap||y(n),R.each(i,function(e,t){(a=n._hungarianMap[e])===Ft||!o&&i[a]!==Ft||("o"===a.charAt(0)?(i[a]||(i[a]={}),R.extend(!0,i[a],i[e]),I(n[a],i[a],o)):i[a]=i[e])})}function P(e){var t=M.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&it(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&it(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var i=e.sDecimal;i&&St(i)}var w=function(e,t,n){e[t]!==Ft&&(e[n]=e[t])};function F(e){w(e,"ordering","bSort"),w(e,"orderMulti","bSortMulti"),w(e,"orderClasses","bSortClasses"),w(e,"orderCellsTop","bSortCellsTop"),w(e,"order","aaSorting"),w(e,"orderFixed","aaSortingFixed"),w(e,"paging","bPaginate"),w(e,"pagingType","sPaginationType"),w(e,"pageLength","iDisplayLength"),w(e,"searching","bFilter")}function j(e){w(e,"orderable","bSortable"),w(e,"orderData","aDataSort"),w(e,"orderSequence","asSorting"),w(e,"orderDataType","sortDataType")}function L(e){var t=e.oBrowser,n=R("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(R("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(R('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),i=n.find(".test");t.bScrollOversize=100===i[0].offsetWidth,t.bScrollbarLeft=1!==i.offset().left,n.remove()}function C(e,t,n,i,o,a){var s,r=i,l=!1;for(n!==Ft&&(s=n,l=!0);r!==o;)e.hasOwnProperty(r)&&(s=l?t(s,e[r],r,e):e[r],l=!0,r+=a);return s}function E(e,t){var n=M.defaults.column,i=e.aoColumns.length,o=R.extend({},M.models.oColumn,n,{nTh:t||Pt.createElement("th"),sTitle:n.sTitle?n.sTitle:t?t.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[i],mData:n.mData?n.mData:i,idx:i});e.aoColumns.push(o);var a=e.aoPreSearchCols;a[i]=R.extend({},M.models.oSearch,a[i]),A(e,i,null)}function A(e,t,n){var i=e.aoColumns[t],o=e.oClasses,a=R(i.nTh);if(!i.sWidthOrig){i.sWidthOrig=a.attr("width")||null;var s=(a.attr("style")||"").match(/width:\s*(\d+[pxem%])/);s&&(i.sWidthOrig=s[1])}n!==Ft&&null!==n&&(j(n),I(M.defaults.column,n),n.mDataProp===Ft||n.mData||(n.mData=n.mDataProp),n.sType&&(i._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className),R.extend(i,n),it(i,n,"sWidth","sWidthOrig"),"number"==typeof n.iDataSort&&(i.aDataSort=[n.iDataSort]),it(i,n,"aDataSort"));var r=i.mData,l=G(r),c=i.mRender?G(i.mRender):null,u=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};i._bAttrSrc=R.isPlainObject(r)&&(u(r.sort)||u(r.type)||u(r.filter)),i.fnGetData=function(e,t){var n=l(e,t);return i.mRender&&t&&""!==t?c(n,t,e):n},i.fnSetData=Y(r),e.oFeatures.bSort||(i.bSortable=!1,a.addClass(o.sSortableNone));var h=-1!==R.inArray("asc",i.asSorting),d=-1!==R.inArray("desc",i.asSorting);i.bSortable&&(h||d)?i.sSortingClassJUI=h&&!d?(i.sSortingClass=o.sSortableAsc,o.sSortJUIAscAllowed):!h&&d?(i.sSortingClass=o.sSortableDesc,o.sSortJUIDescAllowed):(i.sSortingClass=o.sSortable,o.sSortJUI):(i.sSortingClass=o.sSortableNone,i.sSortingClassJUI="")}function D(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;He(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}var o=e.oScroll;""===o.sY&&""===o.sX||Ae(e),rt(e,null,"column-sizing",[e])}function q(e,t){var n=k(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function x(e,t){var n=k(e,"bVisible"),i=R.inArray(t,n);return-1!==i?i:null}function T(e){return k(e,"bVisible").length}function k(e,n){var i=[];return R.map(e.aoColumns,function(e,t){e[n]&&i.push(t)}),i}function S(e){var t,n,i,o,a,s,r,l,c,u=e.aoColumns,h=e.aoData,d=M.ext.type.detect;for(t=0,n=u.length;t<n;t++)if(c=[],!(r=u[t]).sType&&r._sManualType)r.sType=r._sManualType;else if(!r.sType){for(i=0,o=d.length;i<o;i++){for(a=0,s=h.length;a<s&&(c[a]===Ft&&(c[a]=z(e,a,t,"type")),(l=d[i](c[a],e))&&"html"!==l);a++);if(l){r.sType=l;break}}r.sType||(r.sType="string")}}function O(e,t,n,i){var o,a,s,r,l,c,u,h=e.aoColumns;if(t)for(o=t.length-1;0<=o;o--){var d=(u=t[o]).targets!==Ft?u.targets:u.aTargets;for(R.isArray(d)||(d=[d]),s=0,r=d.length;s<r;s++)if("number"==typeof d[s]&&0<=d[s]){for(;h.length<=d[s];)E(e);i(d[s],u)}else if("number"==typeof d[s]&&d[s]<0)i(h.length+d[s],u);else if("string"==typeof d[s])for(l=0,c=h.length;l<c;l++)("_all"==d[s]||R(h[l].nTh).hasClass(d[s]))&&i(l,u)}if(n)for(o=0,a=n.length;o<a;o++)i(o,n[o])}function N(e,t,n,i){var o=e.aoData.length,a=R.extend(!0,{},M.models.oRow,{src:n?"dom":"data"});a._aData=t,e.aoData.push(a);for(var s=e.aoColumns,r=0,l=s.length;r<l;r++)n&&B(e,o,r,z(e,o,r)),s[r].sType=null;return e.aiDisplayMaster.push(o),e.oFeatures.bDeferRender||Q(e,o,n,i),o}function H(n,e){var i;return e instanceof R||(e=R(e)),e.map(function(e,t){return i=X(n,t),N(n,i.data,t,i.cells)})}function z(e,t,n,i){var o=e.aoColumns[n],a=e.aoData[t]._aData,s=o.fnGetData(a,i);if(s===Ft)return e.iDrawError!=e.iDraw&&null===o.sDefaultContent&&(nt(e,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+t,4),e.iDrawError=e.iDraw),o.sDefaultContent;if(s!==a&&null!==s||null===o.sDefaultContent){if("function"==typeof s)return s()}else s=o.sDefaultContent;return null===s&&"display"==i?"":s}function B(e,t,n,i){var o=e.aoColumns[n],a=e.aoData[t]._aData;o.fnSetData(a,i)}var W=/\[.*?\]$/,$=/\(\)$/;function U(e){return R.map(e.match(/(\\.|[^\.])+/g),function(e){return e.replace("\\.",".")})}function G(i){if(R.isPlainObject(i)){var o={};return R.each(i,function(e,t){t&&(o[e]=G(t))}),function(e,t,n){var i=o[t]||o._;return i!==Ft?i(e,t,n):e}}if(null===i)return function(e,t){return e};if("function"==typeof i)return function(e,t,n){return i(e,t,n)};if("string"!=typeof i||-1===i.indexOf(".")&&-1===i.indexOf("[")&&-1===i.indexOf("("))return function(e,t){return e[i]};var p=function(e,t,n){var i,o,a,s;if(""!==n)for(var r=U(n),l=0,c=r.length;l<c;l++){if(i=r[l].match(W),o=r[l].match($),i){r[l]=r[l].replace(W,""),""!==r[l]&&(e=e[r[l]]),a=[],r.splice(0,l+1),s=r.join(".");for(var u=0,h=e.length;u<h;u++)a.push(p(e[u],t,s));var d=i[0].substring(1,i[0].length-1);e=""===d?a:a.join(d);break}if(o)r[l]=r[l].replace($,""),e=e[r[l]]();else{if(null===e||e[r[l]]===Ft)return Ft;e=e[r[l]]}}return e};return function(e,t){return p(e,t,i)}}function Y(n){if(R.isPlainObject(n))return Y(n._);if(null===n)return function(e,t){};if("function"==typeof n)return function(e,t){n(e,"set",t)};if("string"!=typeof n||-1===n.indexOf(".")&&-1===n.indexOf("[")&&-1===n.indexOf("("))return function(e,t){e[n]=t};var f=function(e,t,n){for(var i,o,a,s,r,l=U(n),c=l[l.length-1],u=0,h=l.length-1;u<h;u++){if(o=l[u].match(W),a=l[u].match($),o){l[u]=l[u].replace(W,""),e[l[u]]=[],(i=l.slice()).splice(0,u+1),r=i.join(".");for(var d=0,p=t.length;d<p;d++)f(s={},t[d],r),e[l[u]].push(s);return}a&&(l[u]=l[u].replace($,""),e=e[l[u]](t)),null!==e[l[u]]&&e[l[u]]!==Ft||(e[l[u]]={}),e=e[l[u]]}c.match($)?e=e[c.replace($,"")](t):e[c.replace(W,"")]=t};return function(e,t){return f(e,t,n)}}function V(e){return v(e.aoData,"_aData")}function Z(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0}function J(e,t,n){for(var i=-1,o=0,a=e.length;o<a;o++)e[o]==t?i=o:e[o]>t&&e[o]--;-1!=i&&n===Ft&&e.splice(i,1)}function K(e,t,n,i){var o,a,s=e.aoData[t];if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var r=s.anCells;if(r)for(o=0,a=r.length;o<a;o++)r[o].innerHTML=z(e,t,o,"display")}else s._aData=X(e,s).data;s._aSortData=null,s._aFilterData=null;var l=e.aoColumns;if(i!==Ft)l[i].sType=null;else for(o=0,a=l.length;o<a;o++)l[o].sType=null;ee(s)}function X(e,t){var n,i,a,o,s=[],r=[],l=t.firstChild,c=0,u=e.aoColumns,h=function(e,t,n){if("string"==typeof e){var i=e.indexOf("@");if(-1!==i){var o=e.substring(i+1);a["@"+o]=n.getAttribute(o)}}},d=function(e){i=u[c],o=R.trim(e.innerHTML),i&&i._bAttrSrc?(a={display:o},h(i.mData.sort,0,e),h(i.mData.type,0,e),h(i.mData.filter,0,e),s.push(a)):s.push(o),r.push(e),c++};if(l)for(;l;)"TD"!=(n=l.nodeName.toUpperCase())&&"TH"!=n||d(l),l=l.nextSibling;else for(var p=0,f=(r=t.anCells).length;p<f;p++)d(r[p]);return{data:s,cells:r}}function Q(e,t,n,i){var o,a,s,r,l,c=e.aoData[t],u=c._aData,h=[];if(null===c.nTr){for(o=n||Pt.createElement("tr"),c.nTr=o,c.anCells=h,o._DT_RowIndex=t,ee(c),r=0,l=e.aoColumns.length;r<l;r++)s=e.aoColumns[r],a=n?i[r]:Pt.createElement(s.sCellType),h.push(a),n&&!s.mRender&&s.mData===r||(a.innerHTML=z(e,t,r,"display")),s.sClass&&(a.className+=" "+s.sClass),s.bVisible&&!n?o.appendChild(a):!s.bVisible&&n&&a.parentNode.removeChild(a),s.fnCreatedCell&&s.fnCreatedCell.call(e.oInstance,a,z(e,t,r,"display"),u,t,r);rt(e,"aoRowCreatedCallback",null,[o,u,t])}c.nTr.setAttribute("role","row")}function ee(e){var t=e.nTr,n=e._aData;if(t){if(n.DT_RowId&&(t.id=n.DT_RowId),n.DT_RowClass){var i=n.DT_RowClass.split(" ");e.__rowc=e.__rowc?_(e.__rowc.concat(i)):i,R(t).removeClass(e.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowData&&R(t).data(n.DT_RowData)}}function te(e){var t,n,i,o,a,s=e.nTHead,r=e.nTFoot,l=0===R("th, td",s).length,c=e.oClasses,u=e.aoColumns;for(l&&(o=R("<tr/>").appendTo(s)),t=0,n=u.length;t<n;t++)a=u[t],i=R(a.nTh).addClass(a.sClass),l&&i.appendTo(o),e.oFeatures.bSort&&(i.addClass(a.sSortingClass),!1!==a.bSortable&&(i.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Je(e,a.nTh,t))),a.sTitle!=i.html()&&i.html(a.sTitle),ct(e,"header")(e,i,a,c);if(l&&se(e.aoHeader,s),R(s).find(">tr").attr("role","row"),R(s).find(">tr>th, >tr>td").addClass(c.sHeaderTH),R(r).find(">tr>th, >tr>td").addClass(c.sFooterTH),null!==r){var h=e.aoFooter[0];for(t=0,n=h.length;t<n;t++)(a=u[t]).nTf=h[t].cell,a.sClass&&R(a.nTf).addClass(a.sClass)}}function ne(e,t,n){var i,o,a,s,r,l,c,u,h,d=[],p=[],f=e.aoColumns.length;if(t){for(n===Ft&&(n=!1),i=0,o=t.length;i<o;i++){for(d[i]=t[i].slice(),d[i].nTr=t[i].nTr,a=f-1;0<=a;a--)e.aoColumns[a].bVisible||n||d[i].splice(a,1);p.push([])}for(i=0,o=d.length;i<o;i++){if(c=d[i].nTr)for(;l=c.firstChild;)c.removeChild(l);for(a=0,s=d[i].length;a<s;a++)if(h=u=1,p[i][a]===Ft){for(c.appendChild(d[i][a].cell),p[i][a]=1;d[i+u]!==Ft&&d[i][a].cell==d[i+u][a].cell;)p[i+u][a]=1,u++;for(;d[i][a+h]!==Ft&&d[i][a].cell==d[i][a+h].cell;){for(r=0;r<u;r++)p[i+r][a+h]=1;h++}R(d[i][a].cell).attr("rowspan",u).attr("colspan",h)}}}}function ie(e){var t=rt(e,"aoPreDrawCallback","preDraw",[e]);if(-1===R.inArray(!1,t)){var n=[],i=0,o=e.asStripeClasses,a=o.length,s=(e.aoOpenRows.length,e.oLanguage),r=e.iInitDisplayStart,l="ssp"==ut(e),c=e.aiDisplay;e.bDrawing=!0,r!==Ft&&-1!==r&&(e._iDisplayStart=l?r:r>=e.fnRecordsDisplay()?0:r,e.iInitDisplayStart=-1);var u=e._iDisplayStart,h=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,Le(e,!1);else if(l){if(!e.bDestroying&&!ce(e))return}else e.iDraw++;if(0!==c.length)for(var d=l?0:u,p=l?e.aoData.length:h,f=d;f<p;f++){var m=c[f],g=e.aoData[m];null===g.nTr&&Q(e,m);var v=g.nTr;if(0!==a){var b=o[i%a];g._sRowStripe!=b&&(R(v).removeClass(g._sRowStripe).addClass(b),g._sRowStripe=b)}rt(e,"aoRowCallback",null,[v,g._aData,i,f]),n.push(v),i++}else{var _=s.sZeroRecords;1==e.iDraw&&"ajax"==ut(e)?_=s.sLoadingRecords:s.sEmptyTable&&0===e.fnRecordsTotal()&&(_=s.sEmptyTable),n[0]=R("<tr/>",{class:a?o[0]:""}).append(R("<td />",{valign:"top",colSpan:T(e),class:e.oClasses.sRowEmpty}).html(_))[0]}rt(e,"aoHeaderCallback","header",[R(e.nTHead).children("tr")[0],V(e),u,h,c]),rt(e,"aoFooterCallback","footer",[R(e.nTFoot).children("tr")[0],V(e),u,h,c]);var y=R(e.nTBody);y.children().detach(),y.append(R(n)),rt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else Le(e,!1)}function oe(e,t){var n=e.oFeatures,i=n.bSort,o=n.bFilter;i&&Ye(e),o?fe(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),ie(e)}function ae(e){var t=e.oClasses,n=R(e.nTable),i=R("<div/>").insertBefore(n),o=e.oFeatures,a=R("<div/>",{id:e.sTableId+"_wrapper",class:t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=i[0],e.nTableWrapper=a[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,r,l,c,u,h,d=e.sDom.split(""),p=0;p<d.length;p++){if(s=null,"<"==(r=d[p])){if(l=R("<div/>")[0],"'"==(c=d[p+1])||'"'==c){for(u="",h=2;d[p+h]!=c;)u+=d[p+h],h++;if("H"==u?u=t.sJUIHeader:"F"==u&&(u=t.sJUIFooter),-1!=u.indexOf(".")){var f=u.split(".");l.id=f[0].substr(1,f[0].length-1),l.className=f[1]}else"#"==u.charAt(0)?l.id=u.substr(1,u.length-1):l.className=u;p+=h}a.append(l),a=R(l)}else if(">"==r)a=a.parent();else if("l"==r&&o.bPaginate&&o.bLengthChange)s=Ie(e);else if("f"==r&&o.bFilter)s=pe(e);else if("r"==r&&o.bProcessing)s=je(e);else if("t"==r)s=Ee(e);else if("i"==r&&o.bInfo)s=De(e);else if("p"==r&&o.bPaginate)s=Pe(e);else if(0!==M.ext.feature.length)for(var m=M.ext.feature,g=0,v=m.length;g<v;g++)if(r==m[g].cFeature){s=m[g].fnInit(e);break}if(s){var b=e.aanFeatures;b[r]||(b[r]=[]),b[r].push(s),a.append(s)}}i.replaceWith(a)}function se(e,t){var n,i,o,a,s,r,l,c,u,h,d=R(t).children("tr"),p=function(e,t,n){for(var i=e[t];i[n];)n++;return n};for(e.splice(0,e.length),o=0,r=d.length;o<r;o++)e.push([]);for(o=0,r=d.length;o<r;o++)for(0,i=(n=d[o]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase())for(c=(c=1*i.getAttribute("colspan"))&&0!==c&&1!==c?c:1,u=(u=1*i.getAttribute("rowspan"))&&0!==u&&1!==u?u:1,l=p(e,o,0),h=1===c,s=0;s<c;s++)for(a=0;a<u;a++)e[o+a][l+s]={cell:i,unique:h},e[o+a].nTr=n;i=i.nextSibling}}function re(e,t,n){var i=[];n||(n=e.aoHeader,t&&se(n=[],t));for(var o=0,a=n.length;o<a;o++)for(var s=0,r=n[o].length;s<r;s++)!n[o][s].unique||i[s]&&e.bSortCellsTop||(i[s]=n[o][s].cell);return i}function le(o,e,n){if(rt(o,"aoServerParams","serverParams",[e]),e&&R.isArray(e)){var a={},s=/(.*?)\[\]$/;R.each(e,function(e,t){var n=t.name.match(s);if(n){var i=n[0];a[i]||(a[i]=[]),a[i].push(t.value)}else a[t.name]=t.value}),e=a}var t,i=o.ajax,r=o.oInstance;if(R.isPlainObject(i)&&i.data){t=i.data;var l=R.isFunction(t)?t(e):t;e=R.isFunction(t)&&l?l:R.extend(!0,e,l),delete i.data}var c={data:e,success:function(e){var t=e.error||e.sError;t&&o.oApi._fnLog(o,0,t),o.json=e,rt(o,null,"xhr",[o,e]),n(e)},dataType:"json",cache:!1,type:o.sServerMethod,error:function(e,t,n){var i=o.oApi._fnLog;"parsererror"==t?i(o,0,"Invalid JSON response",1):4===e.readyState&&i(o,0,"Ajax error",7),Le(o,!1)}};o.oAjaxData=e,rt(o,null,"preXhr",[o,e]),o.fnServerData?o.fnServerData.call(r,o.sAjaxSource,R.map(e,function(e,t){return{name:t,value:e}}),n,o):o.sAjaxSource||"string"==typeof i?o.jqXHR=R.ajax(R.extend(c,{url:i||o.sAjaxSource})):R.isFunction(i)?o.jqXHR=i.call(r,e,n,o):(o.jqXHR=R.ajax(R.extend(c,i)),i.data=t)}function ce(t){if(t.bAjaxDataGet){t.iDraw++,Le(t,!0);t.aoColumns.length;var e=ue(t);return le(t,e,function(e){he(t,e)}),!1}return!0}function ue(e){var t,n,i,o,a=e.aoColumns,s=a.length,r=e.oFeatures,l=e.oPreviousSearch,c=e.aoPreSearchCols,u=[],h=Ge(e),d=e._iDisplayStart,p=!1!==r.bPaginate?e._iDisplayLength:-1,f=function(e,t){u.push({name:e,value:t})};f("sEcho",e.iDraw),f("iColumns",s),f("sColumns",v(a,"sName").join(",")),f("iDisplayStart",d),f("iDisplayLength",p);var m={draw:e.iDraw,columns:[],order:[],start:d,length:p,search:{value:l.sSearch,regex:l.bRegex}};for(t=0;t<s;t++)i=a[t],o=c[t],n="function"==typeof i.mData?"function":i.mData,m.columns.push({data:n,name:i.sName,searchable:i.bSearchable,orderable:i.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),f("mDataProp_"+t,n),r.bFilter&&(f("sSearch_"+t,o.sSearch),f("bRegex_"+t,o.bRegex),f("bSearchable_"+t,i.bSearchable)),r.bSort&&f("bSortable_"+t,i.bSortable);r.bFilter&&(f("sSearch",l.sSearch),f("bRegex",l.bRegex)),r.bSort&&(R.each(h,function(e,t){m.order.push({column:t.col,dir:t.dir}),f("iSortCol_"+e,t.col),f("sSortDir_"+e,t.dir)}),f("iSortingCols",h.length));var g=M.ext.legacy.ajax;return null===g?e.sAjaxSource?u:m:g?u:m}function he(e,n){var t=function(e,t){return n[e]!==Ft?n[e]:n[t]},i=t("sEcho","draw"),o=t("iTotalRecords","recordsTotal"),a=t("iTotalDisplayRecords","recordsFiltered");if(i){if(1*i<e.iDraw)return;e.iDraw=1*i}Z(e),e._iRecordsTotal=parseInt(o,10),e._iRecordsDisplay=parseInt(a,10);for(var s=de(e,n),r=0,l=s.length;r<l;r++)N(e,s[r]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,ie(e),e._bInitComplete||Se(e,n),e.bAjaxDataGet=!0,Le(e,!1)}function de(e,t){var n=R.isPlainObject(e.ajax)&&e.ajax.dataSrc!==Ft?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===n?t.aaData||t[n]:""!==n?G(n)(t):t}function pe(t){var e=t.oClasses,n=t.sTableId,i=t.oPreviousSearch,o=t.aanFeatures,a='<input type="search" class="'+e.sFilterInput+'"/>',s=t.oLanguage.sSearch;s=s.match(/_INPUT_/)?s.replace("_INPUT_",a):s+a;var r=R("<div/>",{id:o.f?null:n+"_filter",class:e.sFilter}).append(R("<label/>").append(s)),l=function(){o.f;var e=this.value?this.value:"";e!=i.sSearch&&(fe(t,{sSearch:e,bRegex:i.bRegex,bSmart:i.bSmart,bCaseInsensitive:i.bCaseInsensitive}),t._iDisplayStart=0,ie(t))},c=R("input",r).val(i.sSearch.replace('"',"&quot;")).bind("keyup.DT search.DT input.DT paste.DT cut.DT","ssp"===ut(t)?ze(l,400):l).bind("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",n);return R(t.nTable).on("filter.DT",function(){try{c[0]!==Pt.activeElement&&c.val(i.sSearch)}catch(e){}}),r[0]}function fe(e,t,n){var i=e.oPreviousSearch,o=e.aoPreSearchCols,a=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive},s=function(e){return e.bEscapeRegex!==Ft?!e.bEscapeRegex:e.bRegex};if(S(e),"ssp"!=ut(e)){ve(e,t.sSearch,n,s(t),t.bSmart,t.bCaseInsensitive),a(t);for(var r=0;r<o.length;r++)ge(e,o[r].sSearch,r,s(o[r]),o[r].bSmart,o[r].bCaseInsensitive);me(e)}else a(t);e.bFiltered=!0,rt(e,null,"search",[e])}function me(e){for(var t,n,i=M.ext.search,o=e.aiDisplay,a=0,s=i.length;a<s;a++)for(var r=o.length-1;0<=r;r--)n=o[r],t=e.aoData[n],i[a](e,t._aFilterData,n,t._aData)||o.splice(r,1)}function ge(e,t,n,i,o,a){if(""!==t)for(var s,r=e.aiDisplay,l=be(t,i,o,a),c=r.length-1;0<=c;c--)s=e.aoData[r[c]]._aFilterData[n],l.test(s)||r.splice(c,1)}function ve(e,t,n,i,o,a){var s,r,l,c=be(t,i,o,a),u=e.oPreviousSearch.sSearch,h=e.aiDisplayMaster;if(0!==M.ext.search.length&&(n=!0),r=Ce(e),t.length<=0)e.aiDisplay=h.slice();else for((r||n||u.length>t.length||0!==t.indexOf(u)||e.bSorted)&&(e.aiDisplay=h.slice()),l=(s=e.aiDisplay).length-1;0<=l;l--)c.test(e.aoData[s[l]]._sFilterRow)||s.splice(l,1)}function be(e,t,n,i){(e=t?e:_e(e),n)&&(e="^(?=.*?"+R.map(e.match(/"[^"]+"|[^ ]+/g)||"",function(e){return'"'===e.charAt(0)?e.match(/^"(.*)"$/)[1]:e}).join(")(?=.*?")+").*$");return new RegExp(e,i?"i":"")}function _e(e){return e.replace(r,"\\$1")}var ye=R("<div>")[0],we=ye.textContent!==Ft;function Ce(e){var t,n,i,o,a,s,r,l,c=e.aoColumns,u=M.ext.type.search,h=!1;for(n=0,o=e.aoData.length;n<o;n++)if(!(l=e.aoData[n])._aFilterData){for(s=[],i=0,a=c.length;i<a;i++)(r=(t=c[i]).bSearchable?(r=z(e,n,i,"filter"),u[t.sType]?u[t.sType](r):null!==r?r:""):"").indexOf&&-1!==r.indexOf("&")&&(ye.innerHTML=r,r=we?ye.textContent:ye.innerText),r.replace&&(r=r.replace(/[\r\n]/g,"")),s.push(r);l._aFilterData=s,l._sFilterRow=s.join("  "),h=!0}return h}function De(e){var t=e.sTableId,n=e.aanFeatures.i,i=R("<div/>",{class:e.oClasses.sInfo,id:n?null:t+"_info"});return n||(e.aoDrawCallback.push({fn:xe,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),R(e.nTable).attr("aria-describedby",t+"_info")),i[0]}function xe(e){var t=e.aanFeatures.i;if(0!==t.length){var n=e.oLanguage,i=e._iDisplayStart+1,o=e.fnDisplayEnd(),a=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),r=s?n.sInfo:n.sInfoEmpty;s!==a&&(r+=" "+n.sInfoFiltered),r=Te(e,r+=n.sInfoPostFix);var l=n.fnInfoCallback;null!==l&&(r=l.call(e.oInstance,e,i,o,a,s,r)),R(t).html(r)}}function Te(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,o=e._iDisplayLength,a=e.fnRecordsDisplay(),s=-1===o;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,a)).replace(/_PAGE_/g,n.call(e,s?1:Math.ceil(i/o))).replace(/_PAGES_/g,n.call(e,s?1:Math.ceil(a/o)))}function ke(n){var i,e,t,o=n.iInitDisplayStart,a=n.aoColumns,s=n.oFeatures;if(n.bInitialised){for(ae(n),te(n),ne(n,n.aoHeader),ne(n,n.aoFooter),Le(n,!0),s.bAutoWidth&&He(n),i=0,e=a.length;i<e;i++)(t=a[i]).sWidth&&(t.nTh.style.width=$e(t.sWidth));oe(n);var r=ut(n);"ssp"!=r&&("ajax"==r?le(n,[],function(e){var t=de(n,e);for(i=0;i<t.length;i++)N(n,t[i]);n.iInitDisplayStart=o,oe(n),Le(n,!1),Se(n,e)}):(Le(n,!1),Se(n)))}else setTimeout(function(){ke(n)},200)}function Se(e,t){e._bInitComplete=!0,t&&D(e),rt(e,"aoInitComplete","init",[e,t])}function Me(e,t){var n=parseInt(t,10);e._iDisplayLength=n,lt(e),rt(e,null,"length",[e,n])}function Ie(t){for(var e=t.oClasses,n=t.sTableId,i=t.aLengthMenu,o=R.isArray(i[0]),a=o?i[0]:i,s=o?i[1]:i,r=R("<select/>",{name:n+"_length","aria-controls":n,class:e.sLengthSelect}),l=0,c=a.length;l<c;l++)r[0][l]=new Option(s[l],a[l]);var u=R("<div><label/></div>").addClass(e.sLength);t.aanFeatures.l||(u[0].id=n+"_length");var h=t.oLanguage.sLengthMenu.split(/(_MENU_)/);return u.children().append(1<h.length?[h[0],r,h[2]]:h[0]),R("select",u).val(t._iDisplayLength).bind("change.DT",function(e){Me(t,R(this).val()),ie(t)}),R(t.nTable).bind("length.dt.DT",function(e,t,n){R("select",u).val(n)}),u[0]}function Pe(e){var t=e.sPaginationType,u=M.ext.pager[t],h="function"==typeof u,d=function(e){ie(e)},n=R("<div/>").addClass(e.oClasses.sPaging+t)[0],p=e.aanFeatures;return h||u.fnInit(e,n,d),p.p||(n.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(e){if(h){var t,n,i=e._iDisplayStart,o=e._iDisplayLength,a=e.fnRecordsDisplay(),s=-1===o,r=s?0:Math.ceil(i/o),l=s?1:Math.ceil(a/o),c=u(r,l);for(t=0,n=p.p.length;t<n;t++)ct(e,"pageButton")(e,p.p[t],t,c,r,l)}else u.fnUpdate(e,d)},sName:"pagination"})),n}function Fe(e,t,n){var i=e._iDisplayStart,o=e._iDisplayLength,a=e.fnRecordsDisplay();0===a||-1===o?i=0:"number"==typeof t?a<(i=t*o)&&(i=0):"first"==t?i=0:"previous"==t?(i=0<=o?i-o:0)<0&&(i=0):"next"==t?i+o<a&&(i+=o):"last"==t?i=Math.floor((a-1)/o)*o:nt(e,0,"Unknown paging action: "+t,5);var s=e._iDisplayStart!==i;return e._iDisplayStart=i,s&&(rt(e,null,"page",[e]),n&&ie(e)),s}function je(e){return R("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function Le(e,t){e.oFeatures.bProcessing&&R(e.aanFeatures.r).css("display",t?"block":"none"),rt(e,null,"processing",[e,t])}function Ee(e){var t=R(e.nTable);t.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var i=n.sX,o=n.sY,a=e.oClasses,s=t.children("caption"),r=s.length?s[0]._captionSide:null,l=R(t[0].cloneNode(!1)),c=R(t[0].cloneNode(!1)),u=t.children("tfoot"),h="<div/>",d=function(e){return e?$e(e):null};n.sX&&"100%"===t.attr("width")&&t.removeAttr("width"),u.length||(u=null);var p=R(h,{class:a.sScrollWrapper}).append(R(h,{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?d(i):"100%"}).append(R(h,{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append(t.children("thead")))).append("top"===r?s:null)).append(R(h,{class:a.sScrollBody}).css({overflow:"auto",height:d(o),width:d(i)}).append(t));u&&p.append(R(h,{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:i?d(i):"100%"}).append(R(h,{class:a.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append(t.children("tfoot")))).append("bottom"===r?s:null));var f=p.children(),m=f[0],g=f[1],v=u?f[2]:null;return i&&R(g).scroll(function(e){var t=this.scrollLeft;m.scrollLeft=t,u&&(v.scrollLeft=t)}),e.nScrollHead=m,e.nScrollBody=g,e.nScrollFoot=v,e.aoDrawCallback.push({fn:Ae,sName:"scrolling"}),p[0]}function Ae(n){var e,t,i,o,a,s,r,l,c,u=n.oScroll,h=u.sX,d=u.sXInner,p=u.sY,f=u.iBarWidth,m=R(n.nScrollHead),g=m[0].style,v=m.children("div"),b=v[0].style,_=v.children("table"),y=n.nScrollBody,w=R(y),C=y.style,D=R(n.nScrollFoot).children("div"),x=D.children("table"),T=R(n.nTHead),k=R(n.nTable),S=k[0],M=S.style,I=n.nTFoot?R(n.nTFoot):null,P=n.oBrowser,F=P.bScrollOversize,j=[],L=[],E=[],A=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};if(k.children("thead, tfoot").remove(),a=T.clone().prependTo(k),e=T.find("tr"),i=a.find("tr"),a.find("th, td").removeAttr("tabindex"),I&&(s=I.clone().prependTo(k),t=I.find("tr"),o=s.find("tr")),h||(C.width="100%",m[0].style.width="100%"),R.each(re(n,a),function(e,t){r=q(n,e),t.style.width=n.aoColumns[r].sWidth}),I&&Oe(function(e){e.style.width=""},o),u.bCollapse&&""!==p&&(C.height=w[0].offsetHeight+T[0].offsetHeight+"px"),c=k.outerWidth(),""===h?(M.width="100%",F&&(k.find("tbody").height()>y.offsetHeight||"scroll"==w.css("overflow-y"))&&(M.width=$e(k.outerWidth()-f))):""!==d?M.width=$e(d):c==w.width()&&w.height()<k.height()?(M.width=$e(c-f),k.outerWidth()>c-f&&(M.width=$e(c))):M.width=$e(c),c=k.outerWidth(),Oe(A,i),Oe(function(e){E.push(e.innerHTML),j.push($e(R(e).css("width")))},i),Oe(function(e,t){e.style.width=j[t]},e),R(i).height(0),I&&(Oe(A,o),Oe(function(e){L.push($e(R(e).css("width")))},o),Oe(function(e,t){e.style.width=L[t]},t),R(o).height(0)),Oe(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+E[t]+"</div>",e.style.width=j[t]},i),I&&Oe(function(e,t){e.innerHTML="",e.style.width=L[t]},o),k.outerWidth()<c?(l=y.scrollHeight>y.offsetHeight||"scroll"==w.css("overflow-y")?c+f:c,F&&(y.scrollHeight>y.offsetHeight||"scroll"==w.css("overflow-y"))&&(M.width=$e(l-f)),""!==h&&""===d||nt(n,1,"Possible column misalignment",6)):l="100%",C.width=$e(l),g.width=$e(l),I&&(n.nScrollFoot.style.width=$e(l)),p||F&&(C.height=$e(S.offsetHeight+f)),p&&u.bCollapse){C.height=$e(p);var O=h&&S.offsetWidth>y.offsetWidth?f:0;S.offsetHeight<y.offsetHeight&&(C.height=$e(S.offsetHeight+O))}var N=k.outerWidth();_[0].style.width=$e(N),b.width=$e(N);var H=k.height()>y.clientHeight||"scroll"==w.css("overflow-y"),z="padding"+(P.bScrollbarLeft?"Left":"Right");b[z]=H?f+"px":"0px",I&&(x[0].style.width=$e(N),D[0].style.width=$e(N),D[0].style[z]=H?f+"px":"0px"),w.scroll(),(n.bSorted||n.bFiltered)&&(y.scrollTop=0)}function Oe(e,t,n){for(var i,o,a=0,s=0,r=t.length;s<r;){for(i=t[s].firstChild,o=n?n[s].firstChild:null;i;)1===i.nodeType&&(n?e(i,o,a):e(i,a),a++),i=i.nextSibling,o=n?o.nextSibling:null;s++}}var Ne=/<.*?>/g;function He(e){var t,n,i,o,a,s=e.nTable,r=e.aoColumns,l=e.oScroll,c=l.sY,u=l.sX,h=l.sXInner,d=r.length,p=k(e,"bVisible"),f=R("th",e.nTHead),m=s.getAttribute("width"),g=s.parentNode,v=!1;for(t=0;t<p.length;t++)null!==(n=r[p[t]]).sWidth&&(n.sWidth=Re(n.sWidthOrig,g),v=!0);if(v||u||c||d!=T(e)||d!=f.length){var b=R(s.cloneNode(!1)).css("visibility","hidden").removeAttr("id").append(R(e.nTHead).clone(!1)).append(R(e.nTFoot).clone(!1)).append(R("<tbody><tr/></tbody>"));b.find("tfoot th, tfoot td").css("width","");var _=b.find("tbody tr");for(f=re(e,b.find("thead")[0]),t=0;t<p.length;t++)n=r[p[t]],f[t].style.width=null!==n.sWidthOrig&&""!==n.sWidthOrig?$e(n.sWidthOrig):"";if(e.aoData.length)for(t=0;t<p.length;t++)n=r[i=p[t]],R(Be(e,i)).clone(!1).append(n.sContentPadding).appendTo(_);if(b.appendTo(g),u&&h?b.width(h):u?(b.css("width","auto"),b.width()<g.offsetWidth&&b.width(g.offsetWidth)):c?b.width(g.offsetWidth):m&&b.width(m),qe(e,b[0]),u){var y=0;for(t=0;t<p.length;t++)n=r[p[t]],a=R(f[t]).outerWidth(),y+=null===n.sWidthOrig?a:parseInt(n.sWidth,10)+a-R(f[t]).width();b.width($e(y)),s.style.width=$e(y)}for(t=0;t<p.length;t++)n=r[p[t]],(o=R(f[t]).width())&&(n.sWidth=$e(o));s.style.width=$e(b.css("width")),b.remove()}else for(t=0;t<d;t++)r[t].sWidth=$e(f.eq(t).width());m&&(s.style.width=$e(m)),!m&&!u||e._reszEvt||(R(It).bind("resize.DT-"+e.sInstance,ze(function(){D(e)})),e._reszEvt=!0)}function ze(i,e){var o,a,s=e||200;return function(){var e=this,t=+new Date,n=arguments;o&&t<o+s?(clearTimeout(a),a=setTimeout(function(){o=Ft,i.apply(e,n)},s)):o?(o=t,i.apply(e,n)):o=t}}function Re(e,t){if(!e)return 0;var n=R("<div/>").css("width",$e(e)).appendTo(t||Pt.body),i=n[0].offsetWidth;return n.remove(),i}function qe(e,t){var n=e.oScroll;if(n.sX||n.sY){var i=n.sX?0:n.iBarWidth;t.style.width=$e(R(t).outerWidth()-i)}}function Be(e,t){var n=We(e,t);if(n<0)return null;var i=e.aoData[n];return i.nTr?i.anCells[t]:R("<td/>").html(z(e,n,t,"display"))[0]}function We(e,t){for(var n,i=-1,o=-1,a=0,s=e.aoData.length;a<s;a++)(n=(n=z(e,a,t,"display")+"").replace(Ne,"")).length>i&&(i=n.length,o=a);return o}function $e(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Ue(){if(!M.__scrollbarWidth){var e=R("<p/>").css({width:"100%",height:200,padding:0})[0],t=R("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(e).appendTo("body"),n=e.offsetWidth;t.css("overflow","scroll");var i=e.offsetWidth;n===i&&(i=t[0].clientWidth),t.remove(),M.__scrollbarWidth=n-i}return M.__scrollbarWidth}function Ge(e){var t,n,i,o,a,s,r,l=[],c=e.aoColumns,u=e.aaSortingFixed,h=R.isPlainObject(u),d=[],p=function(e){e.length&&!R.isArray(e[0])?d.push(e):d.push.apply(d,e)};for(R.isArray(u)&&p(u),h&&u.pre&&p(u.pre),p(e.aaSorting),h&&u.post&&p(u.post),t=0;t<d.length;t++)for(n=0,i=(o=c[r=d[t][0]].aDataSort).length;n<i;n++)s=c[a=o[n]].sType||"string",l.push({src:r,col:a,dir:d[t][1],index:d[t][2],type:s,formatter:M.ext.type.order[s+"-pre"]});return l}function Ye(e){var t,n,i,o,u,h=[],d=M.ext.type.order,p=e.aoData,a=(e.aoColumns,0),s=e.aiDisplayMaster;for(S(e),t=0,n=(u=Ge(e)).length;t<n;t++)(o=u[t]).formatter&&a++,Xe(e,o.col);if("ssp"!=ut(e)&&0!==u.length){for(t=0,i=s.length;t<i;t++)h[s[t]]=t;a===u.length?s.sort(function(e,t){var n,i,o,a,s,r=u.length,l=p[e]._aSortData,c=p[t]._aSortData;for(o=0;o<r;o++)if(0!==(a=(n=l[(s=u[o]).col])<(i=c[s.col])?-1:i<n?1:0))return"asc"===s.dir?a:-a;return(n=h[e])<(i=h[t])?-1:i<n?1:0}):s.sort(function(e,t){var n,i,o,a,s,r=u.length,l=p[e]._aSortData,c=p[t]._aSortData;for(o=0;o<r;o++)if(n=l[(s=u[o]).col],i=c[s.col],0!==(a=(d[s.type+"-"+s.dir]||d["string-"+s.dir])(n,i)))return a;return(n=h[e])<(i=h[t])?-1:i<n?1:0})}e.bSorted=!0}function Ve(e){for(var t,n=e.aoColumns,i=Ge(e),o=e.oLanguage.oAria,a=0,s=n.length;a<s;a++){var r=n[a],l=r.asSorting,c=r.sTitle.replace(/<.*?>/g,""),u=r.nTh;u.removeAttribute("aria-sort"),t=r.bSortable?c+("asc"===(0<i.length&&i[0].col==a?(u.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),l[i[0].index+1]||l[0]):l[0])?o.sSortAscending:o.sSortDescending):c,u.setAttribute("aria-label",t)}}function Ze(e,t,n,i){var o,a=e.aoColumns[t],s=e.aaSorting,r=a.asSorting,l=function(e){var t=e._idx;return t===Ft&&(t=R.inArray(e[1],r)),t+1>=r.length?0:t+1};if(n&&e.oFeatures.bSortMulti){var c=R.inArray(t,v(s,"0"));-1!==c?(o=l(s[c]),s[c][1]=r[o],s[c]._idx=o):(s.push([t,r[0],0]),s[s.length-1]._idx=0)}else s.length&&s[0][0]==t?(o=l(s[0]),s.length=1,s[0][1]=r[o],s[0]._idx=o):(s.length=0,s.push([t,r[0]]),s[0]._idx=0);oe(e),"function"==typeof i&&i(e)}function Je(t,e,n,i){var o=t.aoColumns[n];at(e,{},function(e){!1!==o.bSortable&&(t.oFeatures.bProcessing?(Le(t,!0),setTimeout(function(){Ze(t,n,e.shiftKey,i),"ssp"!==ut(t)&&Le(t,!1)},0)):Ze(t,n,e.shiftKey,i))})}function Ke(e){var t,n,i,o=e.aLastSort,a=e.oClasses.sSortColumn,s=Ge(e),r=e.oFeatures;if(r.bSort&&r.bSortClasses){for(t=0,n=o.length;t<n;t++)i=o[t].src,R(v(e.aoData,"anCells",i)).removeClass(a+(t<2?t+1:3));for(t=0,n=s.length;t<n;t++)i=s[t].src,R(v(e.aoData,"anCells",i)).addClass(a+(t<2?t+1:3))}e.aLastSort=s}function Xe(e,t){var n,i,o,a=e.aoColumns[t],s=M.ext.order[a.sSortDataType];s&&(n=s.call(e.oInstance,e,t,x(e,t)));for(var r=M.ext.type.order[a.sType+"-pre"],l=0,c=e.aoData.length;l<c;l++)(i=e.aoData[l])._aSortData||(i._aSortData=[]),i._aSortData[t]&&!s||(o=s?n[l]:z(e,l,t,"sort"),i._aSortData[t]=r?r(o):o)}function Qe(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t={iCreate:+new Date,iStart:e._iDisplayStart,iLength:e._iDisplayLength,aaSorting:R.extend(!0,[],e.aaSorting),oSearch:R.extend(!0,{},e.oPreviousSearch),aoSearchCols:R.extend(!0,[],e.aoPreSearchCols),abVisCols:v(e.aoColumns,"bVisible")};rt(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.fnStateSaveCallback.call(e.oInstance,e,t)}}function et(e,t){var n,i,o=e.aoColumns;if(e.oFeatures.bStateSave){var a=e.fnStateLoadCallback.call(e.oInstance,e);if(a){var s=rt(e,"aoStateLoadParams","stateLoadParams",[e,a]);if(-1===R.inArray(!1,s)){var r=e.iStateDuration;if(!(0<r&&a.iCreate<+new Date-1e3*r)&&o.length===a.aoSearchCols.length){e.oLoadedState=R.extend(!0,{},a),e._iDisplayStart=a.iStart,e.iInitDisplayStart=a.iStart,e._iDisplayLength=a.iLength,e.aaSorting=R.map(a.aaSorting,function(e,t){return e[0]>=o.length?[0,e[1]]:e}),R.extend(e.oPreviousSearch,a.oSearch),R.extend(!0,e.aoPreSearchCols,a.aoSearchCols);var l=a.abVisCols;for(n=0,i=l.length;n<i;n++)o[n].bVisible=l[n];rt(e,"aoStateLoaded","stateLoaded",[e,a])}}}}}function tt(e){var t=M.settings,n=R.inArray(e,v(t,"nTable"));return-1!==n?t[n]:null}function nt(e,t,n,i){if(n="DataTables warning: "+(null!==e?"table id="+e.sTableId+" - ":"")+n,i&&(n+=". For more information about this error, please see http://datatables.net/tn/"+i),t)It.console&&console.log&&console.log(n);else{var o=M.ext;if("alert"!=(o.sErrMode||o.errMode))throw new Error(n);alert(n)}}function it(n,i,e,t){R.isArray(e)?R.each(e,function(e,t){R.isArray(t)?it(n,i,t[0],t[1]):it(n,i,t)}):(t===Ft&&(t=e),i[e]!==Ft&&(n[t]=i[e]))}function ot(e,t,n){var i;for(var o in t)t.hasOwnProperty(o)&&(i=t[o],R.isPlainObject(i)?(R.isPlainObject(e[o])||(e[o]={}),R.extend(!0,e[o],i)):n&&"data"!==o&&"aaData"!==o&&R.isArray(i)?e[o]=i.slice():e[o]=i);return e}function at(t,e,n){R(t).bind("click.DT",e,function(e){t.blur(),n(e)}).bind("keypress.DT",e,function(e){13===e.which&&(e.preventDefault(),n(e))}).bind("selectstart.DT",function(){return!1})}function st(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function rt(n,e,t,i){var o=[];return e&&(o=R.map(n[e].slice().reverse(),function(e,t){return e.fn.apply(n.oInstance,i)})),null!==t&&R(n.nTable).trigger(t+".dt",i),o}function lt(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;n===e.fnRecordsDisplay()&&(t=n-i),(-1===i||t<0)&&(t=0),e._iDisplayStart=t}function ct(e,t){var n=e.renderer,i=M.ext.renderer[t];return R.isPlainObject(n)&&n[t]?i[n[t]]||i._:"string"==typeof n&&i[n]||i._}function ut(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}M=function(x){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new g(e?tt(this[i.iApiIndex]):this)},this.fnAddData=function(e,t){var n=this.api(!0),i=R.isArray(e)&&(R.isArray(e[0])||R.isPlainObject(e[0]))?n.rows.add(e):n.row.add(e);return(t===Ft||t)&&n.draw(),i.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],i=n.oScroll;e===Ft||e?t.draw(!1):""===i.sX&&""===i.sY||Ae(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===Ft||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var i=this.api(!0),o=i.rows(e),a=o.settings()[0],s=a.aoData[o[0][0]];return o.remove(),t&&t.call(this,a,s),(n===Ft||n)&&i.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(!e)},this.fnFilter=function(e,t,n,i,o,a){var s=this.api(!0);null===t||t===Ft?s.search(e,n,i,a):s.column(t).search(e,n,i,a),s.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e===Ft)return n.data().toArray();var i=e.nodeName?e.nodeName.toLowerCase():"";return t!==Ft||"td"==i||"th"==i?n.cell(e,t).data():n.row(e).data()||null},this.fnGetNodes=function(e){var t=this.api(!0);return e!==Ft?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"!=n&&"TH"!=n)return null;var i=t.cell(e).index();return[i.row,i.columnVisible,i.column]},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===Ft||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var i=this.api(!0).column(e).visible(t);(n===Ft||n)&&i.columns.adjust().draw()},this.fnSettings=function(){return tt(this[i.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,i,o){var a=this.api(!0);return n===Ft||null===n?a.row(t).data(e):a.cell(t,n).data(e),(o===Ft||o)&&a.columns.adjust(),(i===Ft||i)&&a.draw(),0},this.fnVersionCheck=i.fnVersionCheck;var T=this,k=x===Ft,S=this.length;for(var e in k&&(x={}),this.oApi=this.internal=i.internal,M.ext.internal)e&&(this[e]=Mt(e));return this.each(function(){var e,t=1<S?ot({},x,!0):x,n=0,i=this.getAttribute("id"),o=!1,a=M.defaults;if("table"==this.nodeName.toLowerCase()){F(a),j(a.column),I(a,a,!0),I(a.column,a.column,!0),I(a,t);var s=M.settings;for(n=0,e=s.length;n<e;n++){if(s[n].nTable==this){var r=t.bRetrieve!==Ft?t.bRetrieve:a.bRetrieve,l=t.bDestroy!==Ft?t.bDestroy:a.bDestroy;if(k||r)return s[n].oInstance;if(l){s[n].oInstance.fnDestroy();break}return void nt(s[n],0,"Cannot reinitialise DataTable",3)}if(s[n].sTableId==this.id){s.splice(n,1);break}}null!==i&&""!==i||(i="DataTables_Table_"+M.ext._unique++,this.id=i);var c=R.extend(!0,{},M.models.oSettings,{nTable:this,oApi:T.internal,oInit:t,sDestroyWidth:R(this)[0].style.width,sInstance:i,sTableId:i});s.push(c),c.oInstance=1===T.length?T:R(this).dataTable(),F(t),t.oLanguage&&P(t.oLanguage),t.aLengthMenu&&!t.iDisplayLength&&(t.iDisplayLength=R.isArray(t.aLengthMenu[0])?t.aLengthMenu[0][0]:t.aLengthMenu[0]),t=ot(R.extend(!0,{},a),t),it(c.oFeatures,t,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),it(c,t,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),it(c.oScroll,t,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),it(c.oLanguage,t,"fnInfoCallback"),st(c,"aoDrawCallback",t.fnDrawCallback,"user"),st(c,"aoServerParams",t.fnServerParams,"user"),st(c,"aoStateSaveParams",t.fnStateSaveParams,"user"),st(c,"aoStateLoadParams",t.fnStateLoadParams,"user"),st(c,"aoStateLoaded",t.fnStateLoaded,"user"),st(c,"aoRowCallback",t.fnRowCallback,"user"),st(c,"aoRowCreatedCallback",t.fnCreatedRow,"user"),st(c,"aoHeaderCallback",t.fnHeaderCallback,"user"),st(c,"aoFooterCallback",t.fnFooterCallback,"user"),st(c,"aoInitComplete",t.fnInitComplete,"user"),st(c,"aoPreDrawCallback",t.fnPreDrawCallback,"user");var u=c.oClasses;if(t.bJQueryUI?(R.extend(u,M.ext.oJUIClasses,t.oClasses),t.sDom===a.sDom&&"lfrtip"===a.sDom&&(c.sDom='<"H"lfr>t<"F"ip>'),c.renderer?R.isPlainObject(c.renderer)&&!c.renderer.header&&(c.renderer.header="jqueryui"):c.renderer="jqueryui"):R.extend(u,M.ext.classes,t.oClasses),R(this).addClass(u.sTable),""===c.oScroll.sX&&""===c.oScroll.sY||(c.oScroll.iBarWidth=Ue()),!0===c.oScroll.sX&&(c.oScroll.sX="100%"),c.iInitDisplayStart===Ft&&(c.iInitDisplayStart=t.iDisplayStart,c._iDisplayStart=t.iDisplayStart),null!==t.iDeferLoading){c.bDeferLoading=!0;var h=R.isArray(t.iDeferLoading);c._iRecordsDisplay=h?t.iDeferLoading[0]:t.iDeferLoading,c._iRecordsTotal=h?t.iDeferLoading[1]:t.iDeferLoading}""!==t.oLanguage.sUrl?(c.oLanguage.sUrl=t.oLanguage.sUrl,R.getJSON(c.oLanguage.sUrl,null,function(e){P(e),I(a.oLanguage,e),R.extend(!0,c.oLanguage,t.oLanguage,e),ke(c)}),o=!0):R.extend(!0,c.oLanguage,t.oLanguage),null===t.asStripeClasses&&(c.asStripeClasses=[u.sStripeOdd,u.sStripeEven]);var d=c.asStripeClasses,p=R("tbody tr:eq(0)",this);-1!==R.inArray(!0,R.map(d,function(e,t){return p.hasClass(e)}))&&(R("tbody tr",this).removeClass(d.join(" ")),c.asDestroyStripes=d.slice());var f,m=[],g=this.getElementsByTagName("thead");if(0!==g.length&&(se(c.aoHeader,g[0]),m=re(c)),null===t.aoColumns)for(f=[],n=0,e=m.length;n<e;n++)f.push(null);else f=t.aoColumns;for(n=0,e=f.length;n<e;n++)E(c,m?m[n]:null);if(O(c,t.aoColumnDefs,f,function(e,t){A(c,e,t)}),p.length){var v=function(e,t){return e.getAttribute("data-"+t)?t:null};R.each(X(c,p[0]).cells,function(e,t){var n=c.aoColumns[e];if(n.mData===e){var i=v(t,"sort")||v(t,"order"),o=v(t,"filter")||v(t,"search");null===i&&null===o||(n.mData={_:e+".display",sort:null!==i?e+".@data-"+i:Ft,type:null!==i?e+".@data-"+i:Ft,filter:null!==o?e+".@data-"+o:Ft},A(c,e))}})}var b=c.oFeatures;if(t.bStateSave&&(b.bStateSave=!0,et(c),st(c,"aoDrawCallback",Qe,"state_save")),t.aaSorting===Ft){var _=c.aaSorting;for(n=0,e=_.length;n<e;n++)_[n][1]=c.aoColumns[n].asSorting[0]}Ke(c),b.bSort&&st(c,"aoDrawCallback",function(){if(c.bSorted){var e=Ge(c),n={};R.each(e,function(e,t){n[t.src]=t.dir}),rt(c,null,"order",[c,e,n]),Ve(c)}}),st(c,"aoDrawCallback",function(){(c.bSorted||"ssp"===ut(c)||b.bDeferRender)&&Ke(c)},"sc"),L(c);var y=R(this).children("caption").each(function(){this._captionSide=R(this).css("caption-side")}),w=R(this).children("thead");0===w.length&&(w=R("<thead/>").appendTo(this)),c.nTHead=w[0];var C=R(this).children("tbody");0===C.length&&(C=R("<tbody/>").appendTo(this)),c.nTBody=C[0];var D=R(this).children("tfoot");if(0===D.length&&0<y.length&&(""!==c.oScroll.sX||""!==c.oScroll.sY)&&(D=R("<tfoot/>").appendTo(this)),0===D.length||0===D.children().length?R(this).addClass(u.sNoFooter):0<D.length&&(c.nTFoot=D[0],se(c.aoFooter,c.nTFoot)),t.aaData)for(n=0;n<t.aaData.length;n++)N(c,t.aaData[n]);else(c.bDeferLoading||"dom"==ut(c))&&H(c,R(c.nTBody).children("tr"));c.aiDisplay=c.aiDisplayMaster.slice(),!(c.bInitialised=!0)===o&&ke(c)}else nt(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),T=null,this};var ht=[],dt=Array.prototype;M.Api=g=function(e,t){if(!this instanceof g)throw"DT API must be constructed as a new object";var r=[],n=function(e){var t,n,i,o,a,s=(t=e,o=M.settings,a=R.map(o,function(e,t){return e.nTable}),t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(n=R.inArray(t,a))?[o[n]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?i=R(t):t instanceof R&&(i=t),i?i.map(function(e){return-1!==(n=R.inArray(this,a))?o[n]:null}).toArray():void 0):[]);s&&r.push.apply(r,s)};if(R.isArray(e))for(var i=0,o=e.length;i<o;i++)n(e[i]);else n(e);this.context=_(r),t&&this.push.apply(this,t.toArray?t.toArray():t),this.selector={rows:null,cols:null,opts:null},g.extend(this,this,ht)},g.prototype={concat:dt.concat,context:[],each:function(e){if(dt.forEach)dt.forEach.call(this,e,this);else for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new g(t[e],this[e]):null},filter:function(e){var t=[];if(dt.filter)t=dt.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new g(this.context,t)},flatten:function(){var e=[];return new g(this.context,e.concat.apply(e,this.toArray()))},join:dt.join,indexOf:dt.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n){var i,o,a,s,r,l,c,u,h=[],d=this.context,p=this.selector;for("string"==typeof e&&(n=t,t=e,e=!1),o=0,a=d.length;o<a;o++)if("table"===t)(i=n(d[o],o))!==Ft&&h.push(i);else if("columns"===t||"rows"===t)(i=n(d[o],this[o],o))!==Ft&&h.push(i);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(c=this[o],"column-rows"===t&&(l=vt(d[o],p.opts)),s=0,r=c.length;s<r;s++)u=c[s],(i="cell"===t?n(d[o],u.row,u.column,o,s):n(d[o],u,o,s,l))!==Ft&&h.push(i);if(h.length){var f=new g(d,e?h.concat.apply([],h):h),m=f.selector;return m.rows=p.rows,m.cols=p.cols,m.opts=p.opts,f}return this},lastIndexOf:dt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(dt.map)t=dt.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new g(this.context,t)},pluck:function(t){return this.map(function(e){return e[t]})},pop:dt.pop,push:dt.push,reduce:dt.reduce||function(e,t){return C(this,e,t,0,this.length,1)},reduceRight:dt.reduceRight||function(e,t){return C(this,e,t,this.length-1,-1,-1)},reverse:dt.reverse,selector:null,shift:dt.shift,sort:dt.sort,splice:dt.splice,toArray:function(){return dt.slice.call(this)},to$:function(){return R(this)},toJQuery:function(){return R(this)},unique:function(){return new g(this.context,_(this))},unshift:dt.unshift},g.extend=function(i,e,t){if(e&&(e instanceof g||e.__dt_wrapper)){var n,o,a,s=function(t,n){return function(){var e=t.apply(i,arguments);return g.extend(e,e,n.methodExt),e}};for(n=0,o=t.length;n<o;n++)e[(a=t[n]).name]="function"==typeof a.val?s(a.val,a):R.isPlainObject(a.val)?{}:a.val,e[a.name].__dt_wrapper=!0,g.extend(i,e[a.name],a.propExt)}},g.register=t=function(e,t){if(R.isArray(e))for(var n=0,i=e.length;n<i;n++)g.register(e[n],t);else{var o,a,s,r,l=e.split("."),c=ht,u=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n].name===t)return e[n];return null};for(o=0,a=l.length;o<a;o++){var h=u(c,s=(r=-1!==l[o].indexOf("()"))?l[o].replace("()",""):l[o]);h||(h={name:s,val:{},methodExt:[],propExt:[]},c.push(h)),o===a-1?h.val=t:c=r?h.methodExt:h.propExt}g.ready&&M.api.build()}},g.registerPlural=e=function(e,t,n){g.register(e,n),g.register(t,function(){var e=n.apply(this,arguments);return e===this?this:e instanceof g?e.length?R.isArray(e[0])?new g(e.context,e[0]):e[0]:Ft:e})};t("tables()",function(e){return e?new g(function(e,n){if("number"==typeof e)return[n[e]];var i=R.map(n,function(e,t){return e.nTable});return R(i).filter(e).map(function(e){var t=R.inArray(this,i);return n[t]}).toArray()}(e,this.context)):this}),t("table()",function(e){var t=this.tables(e),n=t.context;return n.length?new g(n[0]):t}),e("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable})}),e("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody})}),e("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead})}),e("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot})}),t("draw()",function(t){return this.iterator("table",function(e){oe(e,!1===t)})}),t("page()",function(t){return t===Ft?this.page.info().page:this.iterator("table",function(e){Fe(e,t)})}),t("page.info()",function(e){if(0===this.context.length)return Ft;var t=this.context[0],n=t._iDisplayStart,i=t._iDisplayLength,o=t.fnRecordsDisplay(),a=-1===i;return{page:a?0:Math.floor(n/i),pages:a?1:Math.ceil(o/i),start:n,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o}}),t("page.len()",function(t){return t===Ft?0!==this.context.length?this.context[0]._iDisplayLength:Ft:this.iterator("table",function(e){Me(e,t)})});var pt=function(o,a,e){if("ssp"==ut(o)?oe(o,a):(Le(o,!0),le(o,[],function(e){Z(o);for(var t=de(o,e),n=0,i=t.length;n<i;n++)N(o,t[n]);oe(o,a),Le(o,!1)})),e){var t=new g(o);t.one("draw",function(){e(t.ajax.json())})}};t("ajax.json()",function(){var e=this.context;if(0<e.length)return e[0].json}),t("ajax.params()",function(){var e=this.context;if(0<e.length)return e[0].oAjaxData}),t("ajax.reload()",function(t,n){return this.iterator("table",function(e){pt(e,!1===n,t)})}),t("ajax.url()",function(t){var e=this.context;return t===Ft?0===e.length?Ft:(e=e[0]).ajax?R.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource:this.iterator("table",function(e){R.isPlainObject(e.ajax)?e.ajax.url=t:e.ajax=t})}),t("ajax.url().load()",function(t,n){return this.iterator("table",function(e){pt(e,!1===n,t)})});var ft=function(e,t){var n,i,o,a,s,r,l=[];for(e&&"string"!=typeof e&&e.length!==Ft||(e=[e]),o=0,a=e.length;o<a;o++)for(s=0,r=(i=e[o]&&e[o].split?e[o].split(","):[e[o]]).length;s<r;s++)(n=t("string"==typeof i[s]?R.trim(i[s]):i[s]))&&n.length&&l.push.apply(l,n);return l},mt=function(e){return e||(e={}),e.filter&&!e.search&&(e.search=e.filter),{search:e.search||"none",order:e.order||"current",page:e.page||"all"}},gt=function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e.length=1,e.context=[e.context[t]],e;return e.length=0,e},vt=function(e,t){var n,i,o,a=[],s=e.aiDisplay,r=e.aiDisplayMaster,l=t.search,c=t.order,u=t.page;if("ssp"==ut(e))return"removed"===l?[]:f(0,r.length);if("current"==u)for(n=e._iDisplayStart,i=e.fnDisplayEnd();n<i;n++)a.push(s[n]);else if("current"==c||"applied"==c)a="none"==l?r.slice():"applied"==l?s.slice():R.map(r,function(e,t){return-1===R.inArray(e,s)?e:null});else if("index"==c||"original"==c)for(n=0,i=e.aoData.length;n<i;n++)"none"==l?a.push(n):(-1===(o=R.inArray(n,s))&&"removed"==l||1===o&&"applied"==l)&&a.push(n);return a};t("rows()",function(t,n){t===Ft?t="":R.isPlainObject(t)&&(n=t,t=""),n=mt(n);var e=this.iterator("table",function(e){return s=e,r=n,ft(t,function(e){var t=u(e);if(null!==t&&!r)return[t];var n=vt(s,r);if(null!==t&&-1!==R.inArray(t,n))return[t];if(!e)return n;for(var i=[],o=0,a=n.length;o<a;o++)i.push(s.aoData[n[o]].nTr);return e.nodeName&&-1!==R.inArray(e,i)?[e._DT_RowIndex]:R(i).filter(e).map(function(){return this._DT_RowIndex}).toArray()});var s,r});return e.selector.rows=t,e.selector.opts=n,e}),t("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||Ft})}),t("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return b(e.aoData,t,"_aData")})}),e("rows().cache()","row().cache()",function(i){return this.iterator("row",function(e,t){var n=e.aoData[t];return"search"===i?n._aFilterData:n._aSortData})}),e("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(e,t){K(e,t,n)})}),e("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t})}),e("rows().remove()","row().remove()",function(){var s=this;return this.iterator("row",function(e,t,n){var i=e.aoData;i.splice(t,1);for(var o=0,a=i.length;o<a;o++)null!==i[o].nTr&&(i[o].nTr._DT_RowIndex=o);R.inArray(t,e.aiDisplay);J(e.aiDisplayMaster,t),J(e.aiDisplay,t),J(s[n],t,!1),lt(e)})}),t("rows.add()",function(a){var e=this.iterator("table",function(e){var t,n,i,o=[];for(n=0,i=a.length;n<i;n++)(t=a[n]).nodeName&&"TR"===t.nodeName.toUpperCase()?o.push(H(e,t)[0]):o.push(N(e,t));return o}),t=this.rows(-1);return t.pop(),t.push.apply(t,e.toArray()),t}),t("row()",function(e,t){return gt(this.rows(e,t))}),t("row().data()",function(e){var t=this.context;return e===Ft?t.length&&this.length?t[0].aoData[this[0]]._aData:Ft:(t[0].aoData[this[0]]._aData=e,K(t[0],this[0],"data"),this)}),t("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),t("row.add()",function(t){t instanceof R&&t.length&&(t=t[0]);var e=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?H(e,t)[0]:N(e,t)});return this.row(e[0])});var bt=function(e){var t=this.context;if(t.length&&this.length){var n=t[0].aoData[this[0]];n._details&&((n._detailsShow=e)?n._details.insertAfter(n.nTr):n._details.remove(),_t(t[0]))}return this},_t=function(n){var e=new g(n),t=".dt.DT_details",i="draw"+t,o="column-visibility"+t;e.off(i+" "+o),0<v(n.aoData,"_details").length&&(e.on(i,function(){e.rows({page:"current"}).eq(0).each(function(e){var t=n.aoData[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),e.on(o,function(e,t,n,i){for(var o,a=T(t),s=0,r=t.aoData.length;s<r;s++)(o=t.aoData[s])._details&&o._details.children("td[colspan]").attr("colspan",a)}))};t("row().child()",function(e,t){var n=this.context;return e===Ft?n.length&&this.length?n[0].aoData[this[0]]._details:Ft:(n.length&&this.length&&function(i,e,t,n){var o=[],a=function(e,t){if(e.nodeName&&"tr"===e.nodeName.toLowerCase())o.push(e);else{var n=R("<tr><td/></tr>");R("td",n).addClass(t).html(e)[0].colSpan=T(i),o.push(n[0])}};if(R.isArray(t)||t instanceof R)for(var s=0,r=t.length;s<r;s++)a(t[s],n);else a(t,n);e._details&&e._details.remove(),e._details=R(o),e._detailsShow&&e._details.insertAfter(e.nTr)}(n[0],n[0].aoData[this[0]],e,t),this)}),t(["row().child.show()","row().child().show()"],function(){return bt.call(this,!0),this}),t(["row().child.hide()","row().child().hide()"],function(){return bt.call(this,!1),this}),t("row().child.isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var yt=/^(.*):(name|visIdx|visible)$/;t("columns()",function(n,e){n===Ft?n="":R.isPlainObject(n)&&(e=n,n=""),e=mt(e);var t=this.iterator("table",function(e){return t=n,s=(a=e).aoColumns,r=v(s,"sName"),l=v(s,"nTh"),ft(t,function(e){var t=u(e);if(""===e)return f(s.length);if(null!==t)return[0<=t?t:s.length+t];var n="string"==typeof e?e.match(yt):"";if(!n)return R(l).filter(e).map(function(){return R.inArray(this,l)}).toArray();switch(n[2]){case"visIdx":case"visible":var i=parseInt(n[1],10);if(i<0){var o=R.map(s,function(e,t){return e.bVisible?t:null});return[o[o.length+i]]}return[q(a,i)];case"name":return R.map(r,function(e,t){return e===n[1]?t:null})}});var a,t,s,r,l});return t.selector.cols=n,t.selector.opts=e,t}),e("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh})}),e("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf})}),e("columns().data()","column().data()",function(){return this.iterator("column-rows",function(e,t,n,i,o){for(var a=[],s=0,r=o.length;s<r;s++)a.push(z(e,o[s],t,""));return a})}),e("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(e,t,n,i,o){return b(e.aoData,o,"search"===a?"_aFilterData":"_aSortData",t)})}),e("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,o){return b(e.aoData,o,"anCells",t)})}),e("columns().visible()","column().visible()",function(n){return this.iterator("column",function(e,t){return n===Ft?e.aoColumns[t].bVisible:function(e,t,n){var i,o,a,s,r=e.aoColumns,l=r[t],c=e.aoData;if(n===Ft)return l.bVisible;if(l.bVisible!==n){if(n){var u=R.inArray(!0,v(r,"bVisible"),t+1);for(o=0,a=c.length;o<a;o++)s=c[o].nTr,i=c[o].anCells,s&&s.insertBefore(i[t],i[u]||null)}else R(v(e.aoData,"anCells",t)).detach(),l.bVisible=!1,ne(e,e.aoHeader),ne(e,e.aoFooter),Qe(e);l.bVisible=n,ne(e,e.aoHeader),ne(e,e.aoFooter),D(e),(e.oScroll.sX||e.oScroll.sY)&&Ae(e),rt(e,null,"column-visibility",[e,t,n]),Qe(e)}}(e,t,n)})}),e("columns().indexes()","column().index()",function(n){return this.iterator("column",function(e,t){return"visible"===n?x(e,t):t})}),t("columns.adjust()",function(){return this.iterator("table",function(e){D(e)})}),t("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return q(n,t);if("fromData"===e||"toVisible"===e)return x(n,t)}}),t("column()",function(e,t){return gt(this.columns(e,t))});var wt,Ct,Dt;t("cells()",function(f,e,m){if(R.isPlainObject(f)&&(f.row?(m=e,e=null):(m=f,f=null)),R.isPlainObject(e)&&(m=e,e=null),null===e||e===Ft)return this.iterator("table",function(e){return t=e,n=f,i=mt(m),c=t.aoData,u=vt(t,i),h=b(c,u,"anCells"),d=R([].concat.apply([],h)),p=t.aoColumns.length,ft(n,function(e){if(e)return R.isPlainObject(e)?[e]:d.filter(e).map(function(e,t){return{row:o=t.parentNode._DT_RowIndex,column:R.inArray(t,c[o].anCells)}}).toArray();for(a=[],s=0,r=u.length;s<r;s++)for(o=u[s],l=0;l<p;l++)a.push({row:o,column:l});return a});var t,n,i,o,a,s,r,l,c,u,h,d,p});var n,i,o,a,s,r=this.columns(e,m),l=this.rows(f,m),t=this.iterator("table",function(e,t){for(n=[],i=0,o=l[t].length;i<o;i++)for(a=0,s=r[t].length;a<s;a++)n.push({row:l[t][i],column:r[t][a]});return n});return R.extend(t.selector,{cols:e,rows:f,opts:m}),t}),e("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){return e.aoData[t].anCells[n]})}),t("cells().data()",function(){return this.iterator("cell",function(e,t,n){return z(e,t,n)})}),e("cells().cache()","cell().cache()",function(i){return i="search"===i?"_aFilterData":"_aSortData",this.iterator("cell",function(e,t,n){return e.aoData[t][i][n]})}),e("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:x(e,n)}})}),t(["cells().invalidate()","cell().invalidate()"],function(e){var t=this.selector;return this.rows(t.rows,t.opts).invalidate(e),this}),t("cell()",function(e,t,n){return gt(this.cells(e,t,n))}),t("cell().data()",function(e){var t=this.context,n=this[0];return e===Ft?t.length&&n.length?z(t[0],n[0].row,n[0].column):Ft:(B(t[0],n[0].row,n[0].column,e),K(t[0],n[0].row,"data",n[0].column),this)}),t("order()",function(t,e){var n=this.context;return t===Ft?0!==n.length?n[0].aaSorting:Ft:("number"==typeof t?t=[[t,e]]:R.isArray(t[0])||(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),t("order.listener()",function(t,n,i){return this.iterator("table",function(e){Je(e,t,n,i)})}),t(["columns().order()","column().order()"],function(i){var o=this;return this.iterator("table",function(e,t){var n=[];R.each(o[t],function(e,t){n.push([t,i])}),e.aaSorting=n})}),t("search()",function(t,n,i,o){var e=this.context;return t===Ft?0!==e.length?e[0].oPreviousSearch.sSearch:Ft:this.iterator("table",function(e){e.oFeatures.bFilter&&fe(e,R.extend({},e.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===o||o}),1)})}),t(["columns().search()","column().search()"],function(i,o,a,s){return this.iterator("column",function(e,t){var n=e.aoPreSearchCols;if(i===Ft)return n[t].sSearch;e.oFeatures.bFilter&&(R.extend(n[t],{sSearch:i+"",bRegex:null!==o&&o,bSmart:null===a||a,bCaseInsensitive:null===s||s}),fe(e,e.oPreviousSearch,1))})}),M.versionCheck=M.fnVersionCheck=function(e){for(var t,n,i=M.version.split("."),o=e.split("."),a=0,s=o.length;a<s;a++)if((t=parseInt(i[a],10)||0)!==(n=parseInt(o[a],10)||0))return n<t;return!0},M.isDataTable=M.fnIsDataTable=function(e){var n=R(e).get(0),i=!1;return R.each(M.settings,function(e,t){t.nTable!==n&&t.nScrollHead!==n&&t.nScrollFoot!==n||(i=!0)}),i},M.tables=M.fnTables=function(t){return jQuery.map(M.settings,function(e){if(!t||t&&R(e.nTable).is(":visible"))return e.nTable})},M.camelToHungarian=I,t("$()",function(e,t){var n=this.rows(t).nodes(),i=R(n);return R([].concat(i.filter(e).toArray(),i.find(e).toArray()))}),R.each(["on","one","off"],function(e,n){t(n+"()",function(){var e=Array.prototype.slice.call(arguments);-1===e[0].indexOf(".dt")&&(e[0]+=".dt");var t=R(this.tables().nodes());return t[n].apply(t,e),this})}),t("clear()",function(){return this.iterator("table",function(e){Z(e)})}),t("settings()",function(){return new g(this.context,this.context)}),t("data()",function(){return this.iterator("table",function(e){return v(e.aoData,"_aData")}).flatten()}),t("destroy()",function(p){return p=p||!1,this.iterator("table",function(t){var n,e=t.nTableWrapper.parentNode,i=t.oClasses,o=t.nTable,a=t.nTBody,s=t.nTHead,r=t.nTFoot,l=R(o),c=R(a),u=R(t.nTableWrapper),h=R.map(t.aoData,function(e){return e.nTr});t.bDestroying=!0,rt(t,"aoDestroyCallback","destroy",[t]),p||new g(t).columns().visible(!0),u.unbind(".DT").find(":not(tbody *)").unbind(".DT"),R(It).unbind(".DT-"+t.sInstance),o!=s.parentNode&&(l.children("thead").detach(),l.append(s)),r&&o!=r.parentNode&&(l.children("tfoot").detach(),l.append(r)),l.detach(),u.detach(),t.aaSorting=[],t.aaSortingFixed=[],Ke(t),R(h).removeClass(t.asStripeClasses.join(" ")),R("th, td",s).removeClass(i.sSortable+" "+i.sSortableAsc+" "+i.sSortableDesc+" "+i.sSortableNone),t.bJUI&&(R("th span."+i.sSortIcon+", td span."+i.sSortIcon,s).detach(),R("th, td",s).each(function(){var e=R("div."+i.sSortJUIWrapper,this);R(this).append(e.contents()),e.detach()})),!p&&e&&e.insertBefore(o,t.nTableReinsertBefore),c.children().detach(),c.append(h),l.css("width",t.sDestroyWidth).removeClass(i.sTable),(n=t.asDestroyStripes.length)&&c.children().each(function(e){R(this).addClass(t.asDestroyStripes[e%n])});var d=R.inArray(t,M.settings);-1!==d&&M.settings.splice(d,1)})}),M.version="1.10.0",M.settings=[],M.models={},M.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},M.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},M.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},M.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:R.extend({},M.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},y(M.defaults),M.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},y(M.defaults.column),M.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:Ft,oAjaxData:Ft,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ut(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ut(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,o=this.oFeatures,a=o.bPaginate;return o.bServerSide?!1===a||-1===e?t+i:Math.min(t+e,this._iRecordsDisplay):!a||i<n||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},M.ext=i={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:M.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:M.version},R.extend(i,{afnFiltering:i.search,aTypes:i.type.detect,ofnSearch:i.type.search,oSort:i.type.order,afnSortData:i.order,aoFeatures:i.feature,oApi:i.internal,oStdClasses:i.classes,oPagination:i.pager}),R.extend(M.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),wt="ui-state-default",Ct="css_right ui-icon ui-icon-",Dt="fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix",R.extend(M.ext.oJUIClasses,M.ext.classes,{sPageButton:"fg-button ui-button "+wt,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:wt+" sorting_asc",sSortDesc:wt+" sorting_desc",sSortable:wt+" sorting",sSortableAsc:wt+" sorting_asc_disabled",sSortableDesc:wt+" sorting_desc_disabled",sSortableNone:wt+" sorting_disabled",sSortJUIAsc:Ct+"triangle-1-n",sSortJUIDesc:Ct+"triangle-1-s",sSortJUI:Ct+"carat-2-n-s",sSortJUIAscAllowed:Ct+"carat-1-n",sSortJUIDescAllowed:Ct+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+wt,sScrollFoot:"dataTables_scrollFoot "+wt,sHeaderTH:wt,sFooterTH:wt,sJUIHeader:Dt+" ui-corner-tl ui-corner-tr",sJUIFooter:Dt+" ui-corner-bl ui-corner-br"});var xt=M.ext.pager;function Tt(e,t){var n=[],i=xt.numbers_length,o=Math.floor(i/2);return t<=i?n=f(0,t):e<=o?((n=f(0,i-2)).push("ellipsis"),n.push(t-1)):(t-1-o<=e?(n=f(t-(i-2),t)).splice(0,0,"ellipsis"):((n=f(e-1,e+2)).push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis")),n.splice(0,0,0)),n.DT_el="span",n}R.extend(xt,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},simple_numbers:function(e,t){return["previous",Tt(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Tt(e,t),"next","last"]},_numbers:Tt,numbers_length:7}),R.extend(!0,M.ext.renderer,{pageButton:{_:function(r,e,l,t,c,u){var h,d,p=r.oClasses,f=r.oLanguage.oPaginate,m=0,g=function(e,t){var n,i,o,a=function(e){Fe(r,e.data.action,!0)};for(n=0,i=t.length;n<i;n++)if(o=t[n],R.isArray(o)){var s=R("<"+(o.DT_el||"div")+"/>").appendTo(e);g(s,o)}else{switch(d=h="",o){case"ellipsis":e.append("<span>&hellip;</span>");break;case"first":h=f.sFirst,d=o+(0<c?"":" "+p.sPageButtonDisabled);break;case"previous":h=f.sPrevious,d=o+(0<c?"":" "+p.sPageButtonDisabled);break;case"next":h=f.sNext,d=o+(c<u-1?"":" "+p.sPageButtonDisabled);break;case"last":h=f.sLast,d=o+(c<u-1?"":" "+p.sPageButtonDisabled);break;default:h=o+1,d=c===o?p.sPageButtonActive:""}h&&(at(R("<a>",{class:p.sPageButton+" "+d,"aria-controls":r.sTableId,"data-dt-idx":m,tabindex:r.iTabIndex,id:0===l&&"string"==typeof o?r.sTableId+"_"+o:null}).html(h).appendTo(e),{action:o},a),m++)}},n=R(Pt.activeElement).data("dt-idx");g(R(e).empty(),t),null!==n&&R(e).find("[data-dt-idx="+n+"]").focus()}}});var kt=function(e,t,n,i){return e&&"-"!==e?(t&&(e=h(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-1/0};function St(n){R.each({num:function(e){return kt(e,n)},"num-fmt":function(e){return kt(e,n,l)},"html-num":function(e){return kt(e,n,a)},"html-num-fmt":function(e){return kt(e,n,a,l)}},function(e,t){i.type.order[e+n+"-pre"]=t})}function Mt(t){return function(){var e=[tt(this[M.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return M.ext.internal[t].apply(this,e)}}return R.extend(i.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return e?e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+"":""},"string-pre":function(e){return"string"==typeof e?e.toLowerCase():e&&e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:t<e?1:0},"string-desc":function(e,t){return e<t?1:t<e?-1:0}}),St(""),R.extend(M.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return d(e,n)?"num"+n:null},function(e,t){if(e&&!s.test(e))return null;var n=Date.parse(e);return null!==n&&!isNaN(n)||c(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return d(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return p(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return p(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return c(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),R.extend(M.ext.type.search,{html:function(e){return c(e)?"":"string"==typeof e?e.replace(o," ").replace(a,""):""},string:function(e){return c(e)?"":"string"==typeof e?e.replace(o," "):e}}),R.extend(!0,M.ext.renderer,{header:{_:function(e,a,s,r){R(e.nTable).on("order.dt.DT",function(e,t,n,i){var o=s.idx;a.removeClass(s.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==i[o]?r.sSortAsc:"desc"==i[o]?r.sSortDesc:s.sSortingClass)})},jqueryui:function(e,o,a,s){var r=a.idx;R("<div/>").addClass(s.sSortJUIWrapper).append(o.contents()).append(R("<span/>").addClass(s.sSortIcon+" "+a.sSortingClassJUI)).appendTo(o),R(e.nTable).on("order.dt.DT",function(e,t,n,i){o.removeClass(s.sSortAsc+" "+s.sSortDesc).addClass("asc"==i[r]?s.sSortAsc:"desc"==i[r]?s.sSortDesc:a.sSortingClass),o.find("span."+s.sSortIcon).removeClass(s.sSortJUIAsc+" "+s.sSortJUIDesc+" "+s.sSortJUI+" "+s.sSortJUIAscAllowed+" "+s.sSortJUIDescAllowed).addClass("asc"==i[r]?s.sSortJUIAsc:"desc"==i[r]?s.sSortJUIDesc:a.sSortingClassJUI)})}}}),M.render={number:function(i,o,a,s){return{display:function(e){e=parseFloat(e);var t=parseInt(e,10),n=a?(o+(e-t).toFixed(a)).substring(2):"";return(s||"")+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,i)+n}}}},R.extend(M.ext.internal,{_fnExternApiFunc:Mt,_fnBuildAjax:le,_fnAjaxUpdate:ce,_fnAjaxParameters:ue,_fnAjaxUpdateDraw:he,_fnAjaxDataSrc:de,_fnAddColumn:E,_fnColumnOptions:A,_fnAdjustColumnSizing:D,_fnVisibleToColumnIndex:q,_fnColumnIndexToVisible:x,_fnVisbleColumns:T,_fnGetColumns:k,_fnColumnTypes:S,_fnApplyColumnDefs:O,_fnHungarianMap:y,_fnCamelToHungarian:I,_fnLanguageCompat:P,_fnBrowserDetect:L,_fnAddData:N,_fnAddTr:H,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==Ft?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,t,n){return R.inArray(n,e.aoData[t].anCells)},_fnGetCellData:z,_fnSetCellData:B,_fnSplitObjNotation:U,_fnGetObjectDataFn:G,_fnSetObjectDataFn:Y,_fnGetDataMaster:V,_fnClearTable:Z,_fnDeleteIndex:J,_fnInvalidateRow:K,_fnGetRowElements:X,_fnCreateTr:Q,_fnBuildHead:te,_fnDrawHead:ne,_fnDraw:ie,_fnReDraw:oe,_fnAddOptionsHtml:ae,_fnDetectHeader:se,_fnGetUniqueThs:re,_fnFeatureHtmlFilter:pe,_fnFilterComplete:fe,_fnFilterCustom:me,_fnFilterColumn:ge,_fnFilter:ve,_fnFilterCreateSearch:be,_fnEscapeRegex:_e,_fnFilterData:Ce,_fnFeatureHtmlInfo:De,_fnUpdateInfo:xe,_fnInfoMacros:Te,_fnInitialise:ke,_fnInitComplete:Se,_fnLengthChange:Me,_fnFeatureHtmlLength:Ie,_fnFeatureHtmlPaginate:Pe,_fnPageChange:Fe,_fnFeatureHtmlProcessing:je,_fnProcessingDisplay:Le,_fnFeatureHtmlTable:Ee,_fnScrollDraw:Ae,_fnApplyToChildren:Oe,_fnCalculateColumnWidths:He,_fnThrottle:ze,_fnConvertToWidth:Re,_fnScrollingWidthAdjust:qe,_fnGetWidestNode:Be,_fnGetMaxLenString:We,_fnStringToCss:$e,_fnScrollBarWidth:Ue,_fnSortFlatten:Ge,_fnSort:Ye,_fnSortAria:Ve,_fnSortListener:Ze,_fnSortAttachListener:Je,_fnSortingClasses:Ke,_fnSortData:Xe,_fnSaveState:Qe,_fnLoadState:et,_fnSettingsFromNode:tt,_fnLog:nt,_fnMap:it,_fnBindAction:at,_fnCallbackReg:st,_fnCallbackFire:rt,_fnLengthOverflow:lt,_fnRenderer:ct,_fnDataSource:ut,_fnRowAttributes:ee,_fnCalculateEnd:function(){}}),R.fn.dataTable=M,R.fn.dataTableSettings=M.settings,R.fn.dataTableExt=M.ext,R.fn.DataTable=function(e){return R(this).dataTable(e).api()},R.each(M,function(e,t){R.fn.DataTable[e]=t}),R.fn.dataTable},"function"==typeof define&&define.amd?define("datatables",["jquery"],e):"object"==typeof exports?e(require("jquery")):jQuery&&!jQuery.fn.dataTable&&e(jQuery)}(window,document);var ZeroClipboard={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){this.className=this.className.replace(RegExp("\\s*"+e+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},e.hasClass=function(e){return!!this.className.match(RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,n){(e=this.clients[e])&&e.receiveEvent(t,n)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e){var t={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};for(""!=e.style.width&&(t.width=e.style.width.replace("px","")),""!=e.style.height&&(t.height=e.style.height.replace("px",""));e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t},Client:function(e){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),e&&this.glue(e)}},TableTools;function dump(e,t){var n="";t||(t=0);for(var i="",o=0;o<t+1;o++)i+="    ";if("object"==typeof e)for(var a in e){var s=e[a];"object"==typeof s?(n+=i+"'"+a+"' ...\n",n+=dump(s,t+1)):n+=i+"'"+a+"' => \""+s+'"\n'}else n="===>"+e+"<===("+typeof e+")";return n}function print_r(e,t){var n,l=function(e,t,n,i){0<t&&t++;var o=c(n*t,i),a=c(n*(t+1),i),s="";if(e instanceof Array||e instanceof Object){for(var r in s+="Array\n"+o+"(\n",e)e[r]instanceof Array?s+=a+"["+r+"] => "+l(e[r],t+1,n,i):s+=a+"["+r+"] => "+e[r]+"\n";s+=o+")\n"}else s=null==e||null==e?"":e.toString();return s},c=function(e,t){for(var n="",i=0;i<e;i++)n+=t;return n};return n=l(e,0,4," "),!0!==t?(document.write("<pre>"+n+"</pre>"),!0):n}function getFrDate(e){var t=new Date(e),n=t.getDate()+"";n=n.padStart(2,"0");var i=t.getMonth()+"";i=i.padStart(2,"0");var o=t.getHours()+"";o=o.padStart(2,"0");var a=t.getMinutes()+"";a=a.padStart(2,"0");var s=t.getSeconds()+"";return s=s.padStart(2,"0"),n+"-"+i+"-"+t.getFullYear()+""+o+":"+a+":"+s}function parseDatetime(e){var t=e.split(" "),n=t[0].split("-"),i=t[1].split(":"),o=n[2],a=parseInt(n[1],10)-1,s=parseInt(n[0],10),r=parseInt(i[0],10),l=parseInt(i[1],10);return new Date(o,a,s,r,l,0)}function setCalendar(e,t,n){var i=$("#"+e+" option:selected").val();d=new Date,""==i?($("#"+t).val(""),$("#"+n).val("")):1==i?($("#"+t).val($.PHPDate("d-m-Y",new Date)),$("#"+n).val($.PHPDate("d-m-Y",new Date))):2==i?(s=parseInt(d.getTime())-864e5,$("#"+t).val($.PHPDate("d-m-Y",new Date(s))),$("#"+n).val($.PHPDate("d-m-Y",new Date(s)))):3==i?(s=parseInt(d.getTime())-1728e5,$("#"+t).val($.PHPDate("d-m-Y",new Date(s))),$("#"+n).val($.PHPDate("d-m-Y",new Date(s)))):4==i?(s=parseInt(d.getTime())-864e5,$("#"+t).val($.PHPDate("d-m-Y",new Date(s))),$("#"+n).val($.PHPDate("d-m-Y",new Date))):5==i?(s=parseInt(d.getTime())-1728e5,$("#"+t).val($.PHPDate("d-m-Y",new Date(s))),$("#"+n).val($.PHPDate("d-m-Y",new Date))):6==i?(s=parseInt(d.getTime())-6048e5,$("#"+t).val($.PHPDate("d-m-Y",new Date(s))),$("#"+n).val($.PHPDate("d-m-Y",new Date))):7==i?($("#"+t).val($.PHPDate("d-m-Y")),$("#"+n).val($.PHPDate("d-m-Y"))):8==i&&(s=parseInt(d.getTime())-6048e5,$("#"+t).val($.PHPDate("d-m-Y",new Date(s))),$("#"+n).val($.PHPDate("d-m-Y",new Date)))}function loadVehiclesList(e,n){$.ajax({type:"POST",url:"include/dynamicSelect.php",data:{loadVehiclesList:"yes",idfleet:$("#"+e+" option:selected").val(),csrf_token:at_token},success:function(e){var t=$("#"+n);$("option",t).remove(),t.append(e)}})}function setChecked(e,t){return $("#"+e+" option").attr("selected",t),!1}function isDateTime(e){return/^((((((0[1-9])|(1\d)|(2[0-8]))-((0[1-9])|(1[0-2])))|((31-((0[13578])|(1[02])))|((29|30)-((0[1,3-9])|(1[0-2])))))-((20[0-9][0-9]))|(29-02-20(([02468][048])|([13579][26])))))$|^((((((0[1-9])|(1\d)|(2[0-8]))-((0[1-9])|(1[0-2])))|((31-((0[13578])|(1[02])))|((29|30)-((0[1,3-9])|(1[0-2])))))-((20[0-9][0-9]))|(29-02-20(([02468][048])|([13579][26]))))\s(([1-9]{1})|([0-1][0-9])|([1-2][0-3])):([0-5][0-9]))$/.test(e)}function createdateinputs(o,a,s,r){$("#"+o+", #"+s).each(function(){$(this).val($.PHPDate("d-m-Y",new Date))});var l=$("#"+o+", #"+s).datepicker({defaultDate:0,changeMonth:!0,numberOfMonths:1,dateFormat:"dd-mm-yy",showOn:"button",buttonImage:"images/calendar.gif",buttonImageOnly:!0,showAnim:"slideDown",beforeShow:function(e,t){l.not(t).datepicker("option","maxDate",new Date)},onSelect:function(e){var t=this.id==o?"minDate":"maxDate",n=$(this).data("datepicker"),i=$.datepicker.parseDate(n.settings.dateFormat||$.datepicker._defaults.dateFormat,e,n.settings);l.not(this).datepicker("option",t,i),this.id==o?$("#"+a).val("00:00"):this.id==s&&$("#"+r).val("23:59")}});$("#"+a+", #"+r).timepicker({addSliderAccess:!0,sliderAccessArgs:{touchonly:!1}})}function validatedateinputs(e,t,n,i){if(null==$("#"+n).val()){if(0==$("#"+e).val().length)return alert("N'oubliez pas d'entrer les dates!"),$(this).focus(),!1;var o=0!=$("#"+t).val().length?$("#"+t).val().trim():"00:00";return!!isDateTime(l=(s=$("#"+e)).val().trim()+" "+o)||(alert("Format de date ou heure invalide (date: dd-mm-aaaa|heure: hh:mm)"),s.focus(),!1)}$("#"+e+", #"+n).each(function(){if(0==$(this).val().length)return alert("N'oubliez pas d'entrer les dates!"),$(this).focus(),!1});o=0!=$("#"+t).val().length?$("#"+t).val().trim():"00:00";var a=0!=$("#"+i).val().length?$("#"+i).val().trim():"23:59",s=$("#"+e),r=$("#"+n),l=s.val().trim()+" "+o,c=r.val().trim()+" "+a;return isDateTime(l)&&isDateTime(c)?1==Date.parse(l,"d-M-yyyy HH:mm").compareTo(Date.parse(c,"d-M-yyyy HH:mm"))?(alert("Intervalle dates/heures invalide"),s.focus(),!1):-1!=Date.today().set({hour:23,minute:59,second:59}).compareTo(Date.parse(c,"d-M-yyyy HH:mm"))||(alert("La priode ne peut pas dpasser la date d'aujourd'hui!"),r.val($.PHPDate("d-m-Y",new Date)),r.focus(),!1):(alert("Format de date ou heure invalide (date: dd-mm-aaaa|heure: hh:mm)"),s.focus(),!1)}function serialize(e){var t,n=function(e){var t,n,i=typeof e;if("object"===i&&!e)return"null";if("object"===i){if(!e.constructor)return"object";var o=e.constructor.toString();(t=o.match(/(\w+)\(/))&&(o=t[1].toLowerCase());var a=["boolean","number","string","array"];for(n in a)if(o==a[n]){i=a[n];break}}return i},i=n(e);switch(i){case"function":t="";break;case"boolean":t="b:"+(e?"1":"0");break;case"number":t=(Math.round(e)==e?"i":"d")+":"+e;break;case"string":t="s:"+function(e){var t=0,n=0,i=e.length,o="";for(n=0;n<i;n++)t+=(o=e.charCodeAt(n))<128?1:o<2048?2:3;return t}(e)+':"'+e+'"';break;case"array":case"object":t="a";var o,a,s=0,r="";for(a in e)if(e.hasOwnProperty(a)){if("function"===n(e[a]))continue;o=a.match(/^[0-9]+$/)?parseInt(a,10):a,r+=this.serialize(o)+this.serialize(e[a]),s++}t+=":"+s+":{"+r+"}";break;case"undefined":default:t="N"}return"object"!==i&&"array"!==i&&(t+=";"),t}function unserialize(e){var _=this,y=function(e,t,n,i){throw new _.window[e](t,n,i)},w=function(e,t,n){for(var i=[],o=e.slice(t,t+1),a=2;o!=n;)a+t>e.length&&y("Error","Invalid"),i.push(o),o=e.slice(t+(a-1),t+a),a+=1;return[i.length,i.join("")]},C=function(e,t){var n,i,o,a,s,r,l=0;t||(t=0);var c=e.slice(t,t+1).toLowerCase(),u=t+2,h=function(e){return e};switch(c){case"i":h=function(e){return parseInt(e,10)},l=(i=w(e,u,";"))[0],n=i[1],u+=l+1;break;case"b":h=function(e){return 0!==parseInt(e,10)},l=(i=w(e,u,";"))[0],n=i[1],u+=l+1;break;case"d":h=function(e){return parseFloat(e)},l=(i=w(e,u,";"))[0],n=i[1],u+=l+1;break;case"n":n=null;break;case"s":l=(o=w(e,u,":"))[0],a=o[1],l=(i=function(e,t,n){var i,o;i=[];for(var a=0;a<n;a++){var s=e.slice(t+(a-1),t+a);i.push(s),n-=(o=s.charCodeAt(0))<128?0:o<2048?1:2}return[i.length,i.join("")]}(e,(u+=l+2)+1,parseInt(a,10)))[0],n=i[1],u+=l+2,l!=parseInt(a,10)&&l!=n.length&&y("SyntaxError","String length mismatch"),n=_.utf8_decode(n);break;case"a":n={},l=(s=w(e,u,":"))[0],r=s[1],u+=l+2;for(var d=0;d<parseInt(r,10);d++){var p=C(e,u),f=p[1],m=p[2],g=C(e,u+=f),v=g[1],b=g[2];u+=v,n[m]=b}u+=1;break;default:y("SyntaxError","Unknown / Unhandled data type(s): "+c)}return[c,u-t,h(n)]};return C(e+"",0)[2]}function formatDegre(e,t){var n=Math.floor(e),i=Math.floor(60*(e-n)),o="";return"NS"==t?0<e?o="N":e<0&&(o="S"):"EW"==t&&(0<e?o="E":e<0&&(o="W")),n+""+i+"'"+Math.floor(60*(60*(e-n)-i))+'"'+o}function setupDataTables(e,t){var n=void 0,i={tablet:1024,phone:480},o=$("#"+e),a=o.dataTable(jQuery.extend({bStateSave:!1,sPaginationType:"full_numbers",oLanguage:{sUrl:site_url+"library/js/datatables/v1.9.1/translations/fr.txt"},aLengthMenu:[20,40,60,80,100],iDisplayLength:20,sDom:'T<"clear"><"H"lfr>t<"F"ip>',oTableTools:{aButtons:["copy","print",{sExtends:"collection",sButtonText:"Sauvegarder",aButtons:[{sExtends:"csv",sFileName:"tab_html.csv"},{sExtends:"xls",sFileName:"tab_html.xls"},{sExtends:"pdf",sFileName:"tab_html.pdf"}]}]},cSearchable:!1,bAutoWidth:!1,fnPreDrawCallback:function(){n||(n=new ResponsiveDatatablesHelper(o,i))},fnRowCallback:function(e){n.createExpandIcon(e)},fnDrawCallback:function(e){n.respond()}},t));if(void 0!==t&&"object"==typeof t.searchOnColumn&&"number"==typeof t.searchOnColumn.colIndex&&"string"==typeof t.searchOnColumn.inputLabel){var s=t.searchOnColumn.colIndex,r=t.searchOnColumn.inputLabel,l=void 0===t.searchOnColumn.valueStartWith||t.searchOnColumn.valueStartWith,c=e+"Search"+s;o.on("init.dt",function(){$('<div id="Box'+c+'" data-enhance="false">                    <div class="dataTables_length">&nbsp;</div>                    <div class="dataTables_filter" id="vhl_code_filter">                        <label>'+r+' :<input class="Input'+c+'" aria-controls="fleetinfoglance-op" type="text"></label>                    </div>                    </div>').insertBefore(o),$("#Box"+c+" .Input"+c).on("keyup click",function(){!0===l?a.api().column(s).search("^"+$(this).val(),!0).draw():a.api().column(s).search($(this).val()).draw()})})}}function toast(e){$("<div class='ui-loader ui-overlay-shadow ui-body-a ui-corner-all'><h2 style='font-size:16px;'>"+e+"</h2></div>").css({display:"block",opacity:.8,position:"fixed",padding:"2px","text-align":"center",width:"270px",left:($(window).width()-284)/2,top:$(window).height()/2}).appendTo($.mobile.pageContainer).delay(1500).fadeOut(400,function(){$(this).remove()})}function setPageTitle(e,t){var n="";(t="boolean"==typeof t&&t)&&(n=""!==(n=$("#idvhl option:selected").attr("make_model_lib")).trim()?" ("+n.trim()+")":""),$("#pageTitle").html(e+n)}function checkActiveTab(e){currentPage.script==e?($("div[data-role='navbar'] ul li a[data-tab-class='"+currentPage.activeTab+"']").click(),$("div[data-role='navbar'] ul li a[data-tab-class='"+currentPage.activeTab+"']").click()):currentPage.activeTab=$("div[data-role='navbar'] ul li a.ui-btn-active").attr("data-tab-class"),currentPage.script=e}function jsonToObject(t,n){n=void 0===n?$("#footer"):n;var e=null;try{e=$.parseJSON(t)}catch(e){return'<script type="text/javascript">window.location.href="login.php";<\/script><noscript><meta http-equiv="refresh" content="0;url=login.php" /></noscript>'==t&&n.html(t),!1}return e}function at_loading(e){return"<table height='100%' align='center'><tr><td valign='middle' align='center' style='font-size:14px; font-style:italic'>"+e+"<br /><img src='"+loadImg.src+"' width='25' valign='middle'/></td></tr></table>"}function atPopup(e,t,n){n=void 0===n?null:n,null!==e&&$("div#atPopup").html(e).trigger("create"),null!==t&&(t="auto"==t?t:t+"px",$("div#atPopup").css("width",t)),null===n&&(n={positionTo:"window",transition:$.mobile.defaultPopupTransition}),$("#atPopup").popup("option",n),$("#atPopup").popup("open",n)}function show_zones_name(e,t,n){if(n="function"==typeof n?n:function(){},void 0!==t.zonesInfoWin)if(t.getGeoZonesInfoWinDisplayed()){for(var i in t.zonesInfoWin)t.zonesInfoWin[i].close();t.setGeoZonesInfoWinDisplayed(!1)}else if(t.getGeoZonesDisplayed()){for(var i in t.zonesInfoWin)t.zonesInfoWin[i].setPosition(e.zones_centers[i]),t.zonesInfoWin[i].open(t.getGMap());t.setGeoZonesInfoWinDisplayed(!0)}n()}function show_zones_on_map(carte,level,callback){function show_zones(zObject,carte,level,callback){var polyOpt={map:carte.getGMap(),draggable:!1,editable:!1,clickable:!0,fillColor:"#666",fillOpacity:.5,strokeWeight:1};if(carte.getGeoZonesDisplayed())0<carte.zonesJson.length&&(carte.setGeoZonesInfoWinDisplayed(!0),show_zones_name(zObject,carte,function(){for(var e in carte.zonesJson)void 0!==carte.zonesJson[e]&&carte.zonesJson[e].setMap(null)})),carte.setGeoZonesDisplayed(!1);else{for(var i in zObject.zones_bounds)("all"==level.level1||"all"!=level.level1&&"all"==level.level2&&zObject.idlevel1[i]==level.level1||"all"!=level.level1&&"all"!=level.level2&&zObject.idlevel2[i]==level.level2)&&(polyOpt.name=zObject.zones_names[i],polyOpt.fillColor=zObject.zones_colors[i],carte.zonesJson[i]=new GeoJSON(eval("("+zObject.zones_bounds[i]+")"),polyOpt),carte.zonesInfoWin[i]=new google.maps.InfoWindow({content:"<div style=' padding:0px; font-size:10px; margin:0px;'>"+zObject.zones_names[i]+"</div>",position:zObject.zones_centers[i],disableAutoPan:!0}),google.maps.event.addListener(carte.zonesJson[i],"click",function(e){var t=carte.zonesJson.indexOf(this);carte.zonesInfoWin[t].setPosition(e.latLng),carte.zonesInfoWin[t].open(carte.getGMap(),carte.zonesJson[t])}),google.maps.event.addListener(carte.zonesJson[i],"rightclick",function(e){var i=carte.zonesJson.indexOf(this);$(".contextMenu").remove();var t=new contextMenu({map:this.map});t.addItem('<span class="ft-bold">Modifier cette zone</span>',function(){window.activeMapInstance=carte;var e=zObject.zones_idtargets[i],t=$(this).closest(".ui-page").find(".targetpopup");$.mobile.loading("show");var n={idtarget:e};$.get("include/editGeotargetZones.php",n,function(e){t.html(e).trigger("create"),t.popup("open",{transition:"pop",positionTo:"window"}),$.mobile.loading("hide")})}),t.addSep(),add_map_menu_items(t,carte,{});var n=new google.maps.OverlayView;n.setMap(this.map),e.pixel=n.getProjection().fromLatLngToContainerPixel(e.latLng),t.showOnOverlay(e)}));carte.setGeoZonesDisplayed(!0)}callback()}void 0===level&&(level={level1:"all",level2:"all"}),void 0===callback&&(callback=function(){}),"function"==typeof level&&(callback=level,level={level1:"all",level2:"all"}),null===geoZones?($.mobile.loading("show"),$.ajax({type:"POST",url:site_url+"mapGeoZones.php",data:{csrf_token:at_token}}).done(function(e){geoZones=jsonToObject(e),show_zones(geoZones,carte,level,callback),$.mobile.loading("hide")}).fail(function(e,t){alert("Impossible d'afficher les zones")})):show_zones(geoZones,carte,level,callback)}function show_markers_name(e,t,n){if(n="function"==typeof n?n:function(){},void 0!==t.geoMarkersInfoWin)if(t.getGeoMarkersInfoWinDisplayed()){for(var i in t.geoMarkersInfoWin)t.geoMarkersInfoWin[i].close();t.setGeoMarkersInfoWinDisplayed(!1)}else if(t.getGeoMarkersDisplayed()){for(var i in t.geoMarkersInfoWin)t.geoMarkersInfoWin[i].open(t.getGMap(),t.markersJson[i]);t.setGeoMarkersInfoWinDisplayed(!0)}n()}function show_markers_on_map(t,n){"function"!=typeof n&&(n=function(){}),$.mobile.loading("show"),$.ajax({type:"POST",url:site_url+"mapGeoMarkers.php",data:{csrf_token:at_token}}).done(function(e){geoMarkers=jsonToObject(e),function(o,a,e){if(a.getGeoMarkersDisplayed())0<a.markersJson.length&&(a.setGeoMarkersInfoWinDisplayed(!0),show_markers_name(o,a,function(){for(var e in a.markersJson)void 0!==a.markersJson[e]&&a.markersJson[e].setMap(null)})),a.setGeoMarkersDisplayed(!1);else{for(var t in o.Markers_centers){var n=o.Markers_centers[t],i=o.Markers_colors[t],s="https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|"+i.substring(1,i.length),r=new google.maps.MarkerImage(s,null,null,new google.maps.Point(5,17),new google.maps.Size(11,17));a.markersJson[t]=new google.maps.Marker({map:a.getGMap(),position:n,icon:r}),a.markersJson[t].setMap(a.getGMap()),a.markersJson[t].setVisible(!0),a.geoMarkersInfoWin[t]=new google.maps.InfoWindow({content:"<div style=' padding:0px; font-size:10px; margin:0px;'>"+o.Markers_names[t]+"</div>",size:new google.maps.Size(20,20),position:n,disableAutoPan:!0}),google.maps.event.addListener(a.markersJson[t],"click",function(e){var t=a.markersJson.indexOf(this);a.geoMarkersInfoWin[t].setPosition(e.latLng),a.geoMarkersInfoWin[t].open(a.getGMap(),a.markersJson[t])}),google.maps.event.addListener(a.markersJson[t],"rightclick",function(e){var i=a.markersJson.indexOf(this);$(".contextMenu").remove();var t=new contextMenu({map:this.map});t.addItem("Modifier",function(){window.activeMapInstance=a;var e=o.Markers_idtarget[i],t=$(this).closest(".ui-page").find(".targetpopup");$.mobile.loading("show");var n={idtarget:e};$.get("include/editGeotargetMarkers.php",n,function(e){t.html(e).trigger("create"),t.popup("open",{transition:"pop",positionTo:"window"}),$.mobile.loading("hide")})}),t.addItem("Supprimer",function(){deletePopupOpen({deleteScript:"deleteRecord.php",deleteType:"geotarget",divToReload:"none",title:"Supprimer un marqueur",display:null,width:400},o.Markers_idtarget[i]),$.mobile.activePage.find(".deletePopup").on("popupafterclose",function(e,t){a.setGeoMarkersDisplayed(!0),show_markers_on_map(a),show_markers_on_map(a)})});var n=new google.maps.OverlayView;n.setMap(this.map),e.pixel=n.getProjection().fromLatLngToContainerPixel(e.latLng),t.showOnOverlay(e)})}a.setGeoMarkersDisplayed(!0)}e()}(geoMarkers,t,n),$.mobile.loading("hide")}).fail(function(e,t){alert("Impossible d'afficher les zones")})}function showpopup(e,t){$.mobile.loading("show"),$.ajax({type:"POST",url:t,data:{idvhl:e,csrf_token:at_token}}).done(function(e){atPopup(e,null,null),$.mobile.loading("hide")}).fail(function(e,t){alert("Erreur !\n"+t+" -- "+e),console.log(t+" -- "+e),$.mobile.loading("hide")})}function markerContextMenuAddItems(e,n,t){var i=!0,o=!0,a=!0;void 0!==t&&(i=void 0!==t.dashboard?t.dashboard:i,o=void 0!==t.history?t.history:o,a=void 0!==t.maintenance?t.maintenance:a),i&&(e.addItem("Tableau de bord",function(){showpopup(n,"uipopupTrackerDashboard.php")}),e.addSep()),o&&(e.addItem("Historique du jour",function(){showpopup(n,"uipopupTrackerhistory.php")}),e.addSep()),a&&(e.addItem("Maintenance",function(e,t){showpopup(n,"uipopupTrackerMaintenance.php")}),e.addSep()),e.addItem("Centrer",function(e,t){e.panTo(t)}),e.addItem("Zoomer",function(e,t){e.setZoom(e.getZoom()+18),e.panTo(t)}),e.addItem("Copier ce point",function(e,t){var n=t.lat(),i=t.lng();formatDegre(n,"NS"),formatDegre(i,"EW");$.mobile.loading("show"),$.ajax({type:"POST",url:"popupPoint.php",data:{lat:n,lng:i,csrf_token:at_token}}).done(function(e){atPopup(e,null,null),$.mobile.loading("hide")}).fail(function(e,t){alert("Erreur !\n"+t+" -- "+e),console.log(t+" -- "+e),$.mobile.loading("hide")})})}function show_all_zones_markers_on_map(e){e.getGeoAllZonesMarkersDisplayed()?(e.setGeoZonesDisplayed(!0),e.setGeoMarkersDisplayed(!0),show_zones_on_map(e,function(){show_zones_name(geoZones,e),e.setGeoAllZonesMarkersDisplayed(!1)}),show_markers_on_map(e,function(){show_markers_name(geoMarkers,e),e.setGeoAllZonesMarkersDisplayed(!1)})):(e.getGeoZonesDisplayed()?show_zones_on_map(e,function(){show_zones_on_map(e,function(){show_zones_name(geoZones,e),e.setGeoAllZonesMarkersDisplayed(!0)})}):show_zones_on_map(e,function(){show_zones_name(geoZones,e),e.setGeoAllZonesMarkersDisplayed(!0)}),e.getGeoMarkersDisplayed()?show_markers_on_map(e,function(){show_markers_on_map(e,function(){show_markers_name(geoMarkers,e),e.setGeoAllZonesMarkersDisplayed(!0)})}):show_markers_on_map(e,function(){show_markers_name(geoMarkers,e),e.setGeoAllZonesMarkersDisplayed(!0)}))}function getGeoTargetParamsFromOverlay(e,t){var n={},i=0;switch(t=void 0!==t?t:e.type){case"polyline":for(paths=e.getPath().getArray(),bounds=new google.maps.LatLngBounds,i=0;i<paths.length;i++)bounds.extend(paths[i]);for(c=bounds.getCenter(),n.target_center=c.lng()+" "+c.lat(),polyarr=$.map(paths,function(e,t){return e.lng()+" "+e.lat()}),n.target_bounds=polyarr[0]+", ",i=1;i>polyarr;i++)n.target_bounds+=polyarr[i];n.target_form=4;break;case"polygon":for(paths=e.getPath().getArray(),bounds=new google.maps.LatLngBounds,i=1;i<paths.length;i++)bounds.extend(paths[i]);for(c=bounds.getCenter(),n.target_center=c.lng()+" "+c.lat(),polyarr=$.map(paths,function(e,t){return e.lng()+" "+e.lat()}),target_bounds="",i=0;i<polyarr.length;i++)target_bounds+=polyarr[i]+", ";target_bounds+=polyarr[0],n.target_bounds=target_bounds,n.target_form=3;break;case"circle":n.target_radius=e.getRadius(),c=e.getCenter(),n.target_center=c.lng()+" "+c.lat(),n.target_form=1;break;case"rectangle":bounds=e.getBounds(),c=bounds.getCenter(),n.target_center=c.lng()+" "+c.lat();var o=bounds.getSouthWest(),a=new google.maps.LatLng(bounds.getNorthEast().lat(),bounds.getSouthWest().lng()),s=bounds.getNorthEast(),r=new google.maps.LatLng(bounds.getSouthWest().lat(),bounds.getNorthEast().lng());target_bounds=o.lng()+" "+o.lat()+", ",target_bounds+=a.lng()+" "+a.lat()+", ",target_bounds+=s.lng()+" "+s.lat()+", ",target_bounds+=r.lng()+" "+r.lat()+", ",target_bounds+=o.lng()+" "+o.lat(),n.target_bounds=target_bounds,n.target_form=2}return n}function getATSessId(){var e=document.cookie.match(/ATSESSID=[^;]+/);return null==e?"":void 0===e?"":e.length<=0?"":e=e instanceof Array?e[0].substring(9):e.substring(9)}function add_map_menu_items(e,o,t){o.geoZonesDisplayMenuLink&&(e.addItem("Afficher/cacher mes zones de contrle",function(e,t){show_zones_on_map(o)}),e.addItem("Afficher/cacher les noms des zones de contrle",function(e,t){show_zones_name(geoZones,o)}),e.addSep(),e.addItem("Afficher/cacher les marqueurs",function(e,t){show_markers_on_map(o)}),e.addItem("Afficher/cacher les noms des marqueurs",function(e,t){show_markers_name(geoZones,o)}),e.addItem("Ajouter un marqueur",function(e,t){window.activeMapInstance=o;var n=$.mobile.activePage.find(".targetpopup");$.mobile.loading("show");var i={lat:t.lat(),lng:t.lng()};$.get("include/addGeotargetMarkers.php",i,function(e){n.html(e).trigger("create"),n.popup("open",{transition:"pop",positionTo:"window"}),$.mobile.loading("hide")})}),e.addSep(),e.addItem("Afficher/cacher toutes",function(e,t){show_all_zones_markers_on_map(o)}),e.addSep()),e.addItem("Agrandir ici",function(e,t){e.setZoom(e.getZoom()+1),e.panTo(t)}),e.addItem("Rduire ici",function(e,t){e.setZoom(e.getZoom()-1),e.panTo(t)}),e.addItem("Centrer ici",function(e,t){e.panTo(t)}),e.addSep(),e.addItem("Copier ce point",function(e,t){var n=t.lat(),i=t.lng(),o=formatDegre(n,"NS")+" "+formatDegre(i,"EW");prompt("(Faites clic droit et selectionnez l'option 'copier' pour copier)",o)}),e.addItem("Copier ce point (dcimal)",function(e,t){var n=t.lat(),i=t.lng();prompt("(Faites clic-droit et selectionnez l'option 'copier' pour copier)",n+", "+i)})}function trim(e){for(var t=(e=e.replace(/^\s+/,"")).length-1;0<=t;t--)if(/\S/.test(e.charAt(t))){e=e.substring(0,t+1);break}return e}function dateHeight(e){if(""!=trim(e)&&9<e.length)var t=trim(e).split(" "),n=t[1].split(":"),i=t[0].split("-"),o=60*i[0]*24+60*i[1]*24*31+60*i[2]*24*366+60*n[0]+n[1];else o=1e17;return o}ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,glue:function(e,t){this.domElement=ZeroClipboard.$(e);var n=99;this.domElement.style.zIndex&&(n=parseInt(this.domElement.style.zIndex)+1);var i=ZeroClipboard.getDOMObjectPosition(this.domElement);this.div=document.createElement("div");var o=this.div.style;o.position="absolute",o.left=this.domElement.offsetLeft+"px",o.top=this.domElement.offsetTop+"px",o.width=i.width+"px",o.height=i.height+"px",o.zIndex=n,void 0!==t&&""!=t&&(this.div.title=t),0!=i.width&&0!=i.height&&(this.sized=!0),this.domElement.parentNode.appendChild(this.div),this.div.innerHTML=this.getHTML(i.width,i.height)},positionElement:function(){var e=ZeroClipboard.getDOMObjectPosition(this.domElement),t=this.div.style;t.position="absolute",t.left=this.domElement.offsetLeft+"px",t.top=this.domElement.offsetTop+"px",t.width=e.width+"px",t.height=e.height+"px",0!=e.width&&0!=e.height&&(this.sized=!0,(t=this.div.childNodes[0]).width=e.width,t.height=e.height)},getHTML:function(e,t){var n="",i="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/))n=n+'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+(location.href.match(/^https/i)?"https://":"http://")+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+i+'"/><param name="wmode" value="transparent"/></object>';else n+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+i+'" wmode="transparent" />';return n},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=document.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(e){}this.div=this.domElement=null}},reposition:function(e){if(e&&((this.domElement=ZeroClipboard.$(e))||this.hide()),this.domElement&&this.div){e=ZeroClipboard.getDOMObjectPosition(this.domElement);var t=this.div.style;t.left=e.left+"px",t.top=e.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(e){this.clipText+=e,this.ready&&this.movie.appendText(e)},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},setCharSet:function(e){this.charSet=e,this.ready&&this.movie.setCharSet(e)},setBomInc:function(e){this.incBom=e,this.ready&&this.movie.setBomInc(e)},setFileName:function(e){this.fileName=e,this.ready&&this.movie.setFileName(e)},setAction:function(e){this.action=e,this.ready&&this.movie.setAction(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var n=this;return void setTimeout(function(){n.receiveEvent("load",null)},1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return n=this,setTimeout(function(){n.receiveEvent("load",null)},100),void(this.ready=!0);this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setCharSet(this.charSet),this.movie.setBomInc(this.incBom),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active"))&&(this.domElement.removeClass("active"),this.recoverActive=!0);break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var i=0,o=this.handlers[e].length;i<o;i++){var a=this.handlers[e][i];"function"==typeof a?a(this,t):"object"==typeof a&&2==a.length?a[0][a[1]](this,t):"string"==typeof a&&window[a](this,t)}}},function(d,h,p){(TableTools=function(e,t){return(!this.CLASS||"TableTools"!=this.CLASS)&&alert("Warning: TableTools must be initialised with the keyword 'new'"),this.s={that:this,dt:null,print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:!1,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:!1},this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}},this.fnSettings=function(){return this.s},void 0===t&&(t={}),this.s.dt=e.fnSettings(),this._fnConstruct(t),this}).prototype={fnGetSelected:function(){return this._fnGetMasterSettings().select.selected},fnGetSelectedData:function(){for(var e=this._fnGetMasterSettings().select.selected,t=[],n=0,i=e.length;n<i;n++)t.push(this.s.dt.oInstance.fnGetData(e[n]));return t},fnIsSelected:function(e){for(var t=this.fnGetSelected(),n=0,i=t.length;n<i;n++)if(e==t[n])return!0;return!1},fnSelectAll:function(){this._fnGetMasterSettings().that._fnRowSelectAll()},fnSelectNone:function(){this._fnGetMasterSettings().that._fnRowDeselectAll()},fnSelect:function(e){this.fnIsSelected(e)||("single"==this.s.select.type?this._fnRowSelectSingle(e):"multi"==this.s.select.type&&this._fnRowSelectMulti(e))},fnDeselect:function(e){this.fnIsSelected(e)&&("single"==this.s.select.type?this._fnRowSelectSingle(e):"multi"==this.s.select.type&&this._fnRowSelectMulti(e))},fnGetTitle:function(e){var t="";return void 0!==e.sTitle&&""!==e.sTitle?t=e.sTitle:0<(e=p.getElementsByTagName("title")).length&&(t=e[0].innerHTML),"".toString().length<4?t.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""):t.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")},fnCalcColRatios:function(e){var t,n,i=this.s.dt.aoColumns,o=[],a=0,s=0;for(t=0,n=(e=this._fnColumnTargets(e.mColumns)).length;t<n;t++)e[t]&&(s+=a=i[t].nTh.offsetWidth,o.push(a));for(t=0,n=o.length;t<n;t++)o[t]/=s;return o.join("\t")},fnGetTableData:function(e){if(this.s.dt)return this._fnGetDataTablesData(e)},fnSetText:function(e,t){this._fnFlashSetText(e,t)},fnResizeButtons:function(){for(var e in ZeroClipboard.clients)if(e){var t=ZeroClipboard.clients[e];void 0!==t.domElement&&t.domElement.parentNode==this.dom.container&&t.positionElement()}},fnResizeRequired:function(){for(var e in ZeroClipboard.clients)if(e){var t=ZeroClipboard.clients[e];if(void 0!==t.domElement&&t.domElement.parentNode==this.dom.container&&!1===t.sized)return!0}return!1},_fnConstruct:function(e){var t=this;this._fnCustomiseSettings(e),this.dom.container=p.createElement("div"),this.dom.container.className=this.s.dt.bJUI?"DTTT_container ui-buttonset ui-buttonset-multi":"DTTT_container","none"!=this.s.select.type&&this._fnRowSelectConfig(),this._fnButtonDefinations(this.s.buttonSet,this.dom.container),this.s.dt.aoDestroyCallback.push({sName:"TableTools",fn:function(){t.dom.container.innerHTML=""}})},_fnCustomiseSettings:function(e){void 0===this.s.dt._TableToolsInit&&(this.s.master=!0,this.s.dt._TableToolsInit=!0),this.dom.table=this.s.dt.nTable,this.s.custom=d.extend({},TableTools.DEFAULTS,e),this.s.swfPath=this.s.custom.sSwfPath,void 0!==ZeroClipboard&&(ZeroClipboard.moviePath=this.s.swfPath),this.s.select.type=this.s.custom.sRowSelect,this.s.select.preRowSelect=this.s.custom.fnPreRowSelect,this.s.select.postSelected=this.s.custom.fnRowSelected,this.s.select.postDeselected=this.s.custom.fnRowDeselected,this.s.select.selectedClass=this.s.custom.sSelectedClass,this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(e,t){for(var n,i=0,o=e.length;i<o;i++){if("string"==typeof e[i]){if(void 0===TableTools.BUTTONS[e[i]]){alert("TableTools: Warning - unknown button type: "+e[i]);continue}n=d.extend({},TableTools.BUTTONS[e[i]],!0)}else{if(void 0===TableTools.BUTTONS[e[i].sExtends]){alert("TableTools: Warning - unknown button type: "+e[i].sExtends);continue}n=d.extend({},TableTools.BUTTONS[e[i].sExtends],!0),n=d.extend(n,e[i],!0)}this.s.dt.bJUI&&(n.sButtonClass+=" ui-button ui-state-default",n.sButtonClassHover+=" ui-state-hover"),t.appendChild(this._fnCreateButton(n))}},_fnCreateButton:function(e){var t="div"==e.sAction?this._fnDivBase(e):this._fnButtonBase(e);return"print"==e.sAction?this._fnPrintConfig(t,e):e.sAction.match(/flash/)?this._fnFlashConfig(t,e):"text"==e.sAction?this._fnTextConfig(t,e):"div"==e.sAction?this._fnTextConfig(t,e):"collection"==e.sAction&&(this._fnTextConfig(t,e),this._fnCollectionConfig(t,e)),t},_fnButtonBase:function(e){var t=p.createElement("button"),n=p.createElement("span"),i=this._fnGetMasterSettings();return t.className="DTTT_button "+e.sButtonClass,t.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+i.buttonCounter),t.appendChild(n),n.innerHTML=e.sButtonText,i.buttonCounter++,t},_fnDivBase:function(e){var t=p.createElement("div"),n=this._fnGetMasterSettings();return t.className=e.sButtonClass,t.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+n.buttonCounter),t.innerHTML=e.sButtonText,null!==e.nContent&&t.appendChild(e.nContent),n.buttonCounter++,t},_fnGetMasterSettings:function(){if(this.s.master)return this.s;for(var e=TableTools._aInstances,t=0,n=e.length;t<n;t++)if(this.dom.table==e[t].s.dt.nTable)return e[t].s},_fnCollectionConfig:function(e,t){var n=p.createElement("div");n.style.display="none",n.className=this.s.dt.bJUI?"DTTT_collection ui-buttonset ui-buttonset-multi":"DTTT_collection",t._collection=n,this._fnButtonDefinations(t.aButtons,n)},_fnCollectionShow:function(e,t){var n=this,i=d(e).offset(),o=t._collection,a=i.left,s=(i=i.top+d(e).outerHeight(),d(h).height()),r=d(p).height(),l=d(h).width(),c=d(p).width();o.style.position="absolute",o.style.left=a+"px",o.style.top=i+"px",o.style.display="block",d(o).css("opacity",0);var u=p.createElement("div");u.style.position="absolute",u.style.left="0px",u.style.top="0px",u.style.height=(r<s?s:r)+"px",u.style.width=(c<l?l:c)+"px",u.className="DTTT_collection_background",d(u).css("opacity",0),p.body.appendChild(u),p.body.appendChild(o),s=d(o).outerWidth(),l=d(o).outerHeight(),c<a+s&&(o.style.left=c-s+"px"),r<i+l&&(o.style.top=i-l-d(e).outerHeight()+"px"),this.dom.collection.collection=o,this.dom.collection.background=u,setTimeout(function(){d(o).animate({opacity:1},500),d(u).animate({opacity:.25},500)},10),d(u).click(function(){n._fnCollectionHide.call(n,null,null)})},_fnCollectionHide:function(e,t){null!==t&&"collection"==t.sExtends||null===this.dom.collection.collection||(d(this.dom.collection.collection).animate({opacity:0},500,function(){this.style.display="none"}),d(this.dom.collection.background).animate({opacity:0},500,function(){this.parentNode.removeChild(this)}),this.dom.collection.collection=null,this.dom.collection.background=null)},_fnRowSelectConfig:function(){if(this.s.master){var n=this;d(n.s.dt.nTable).addClass("DTTT_selectable"),d("tr",n.s.dt.nTBody).live("click",function(e){if(this.parentNode==n.s.dt.nTBody){var t=n.s.dt.oInstance.fnGetNodes();-1===d.inArray(this,t)||null!==n.s.select.preRowSelect&&!n.s.select.preRowSelect.call(n,e)||("single"==n.s.select.type?n._fnRowSelectSingle.call(n,this):n._fnRowSelectMulti.call(n,this))}}),n.s.dt.aoDrawCallback.push({fn:function(){n.s.select.all&&n.s.dt.oFeatures.bServerSide&&n.fnSelectAll()},sName:"TableTools_select"})}},_fnRowSelectSingle:function(e){this.s.master&&!d("td",e).hasClass(this.s.dt.oClasses.sRowEmpty)&&(d(e).hasClass(this.s.select.selectedClass)?this._fnRowDeselect(e):(0!==this.s.select.selected.length&&this._fnRowDeselectAll(),this.s.select.selected.push(e),d(e).addClass(this.s.select.selectedClass),null!==this.s.select.postSelected&&this.s.select.postSelected.call(this,e)),TableTools._fnEventDispatch(this,"select",e))},_fnRowSelectMulti:function(e){this.s.master&&!d("td",e).hasClass(this.s.dt.oClasses.sRowEmpty)&&(d(e).hasClass(this.s.select.selectedClass)?this._fnRowDeselect(e):(this.s.select.selected.push(e),d(e).addClass(this.s.select.selectedClass),null!==this.s.select.postSelected&&this.s.select.postSelected.call(this,e)),TableTools._fnEventDispatch(this,"select",e))},_fnRowSelectAll:function(){if(this.s.master){for(var e,t=0,n=this.s.dt.aiDisplayMaster.length;t<n;t++)e=this.s.dt.aoData[this.s.dt.aiDisplayMaster[t]].nTr,d(e).hasClass(this.s.select.selectedClass)||(this.s.select.selected.push(e),d(e).addClass(this.s.select.selectedClass));null!==this.s.select.postSelected&&this.s.select.postSelected.call(this,null),this.s.select.all=!0,TableTools._fnEventDispatch(this,"select",null)}},_fnRowDeselectAll:function(){if(this.s.master){for(var e=this.s.select.selected.length-1;0<=e;e--)this._fnRowDeselect(e,!1);null!==this.s.select.postDeselected&&this.s.select.postDeselected.call(this,null),this.s.select.all=!1,TableTools._fnEventDispatch(this,"select",null)}},_fnRowDeselect:function(e,t){void 0!==e.nodeName&&(e=d.inArray(e,this.s.select.selected));var n=this.s.select.selected[e];d(n).removeClass(this.s.select.selectedClass),this.s.select.selected.splice(e,1),(void 0===t||t)&&null!==this.s.select.postDeselected&&this.s.select.postDeselected.call(this,n),this.s.select.all=!1},_fnTextConfig:function(t,n){var i=this;null!==n.fnInit&&n.fnInit.call(this,t,n),""!==n.sToolTip&&(t.title=n.sToolTip),d(t).hover(function(){d(t).addClass(n.sButtonClassHover),null!==n.fnMouseover&&n.fnMouseover.call(this,t,n,null)},function(){d(t).removeClass(n.sButtonClassHover),null!==n.fnMouseout&&n.fnMouseout.call(this,t,n,null)}),null!==n.fnSelect&&TableTools._fnEventListen(this,"select",function(e){n.fnSelect.call(i,t,n,e)}),d(t).click(function(e){e.preventDefault(),null!==n.fnClick&&n.fnClick.call(i,t,n,null),null!==n.fnComplete&&n.fnComplete.call(i,t,n,null,null),i._fnCollectionHide(t,n)})},_fnFlashConfig:function(n,i){var o=this,a=new ZeroClipboard.Client;null!==i.fnInit&&i.fnInit.call(this,n,i),a.setHandCursor(!0),"flash_save"==i.sAction?(a.setAction("save"),a.setCharSet("utf16le"==i.sCharSet?"UTF16LE":"UTF8"),a.setBomInc(i.bBomInc),a.setFileName(i.sFileName.replace("*",this.fnGetTitle(i)))):"flash_pdf"==i.sAction?(a.setAction("pdf"),a.setFileName(i.sFileName.replace("*",this.fnGetTitle(i)))):a.setAction("copy"),a.addEventListener("mouseOver",function(){d(n).addClass(i.sButtonClassHover),null!==i.fnMouseover&&i.fnMouseover.call(o,n,i,a)}),a.addEventListener("mouseOut",function(){d(n).removeClass(i.sButtonClassHover),null!==i.fnMouseout&&i.fnMouseout.call(o,n,i,a)}),a.addEventListener("mouseDown",function(){null!==i.fnClick&&i.fnClick.call(o,n,i,a)}),a.addEventListener("complete",function(e,t){null!==i.fnComplete&&i.fnComplete.call(o,n,i,a,t),o._fnCollectionHide(n,i)}),this._fnFlashGlue(a,n,i.sToolTip)},_fnFlashGlue:function(e,t,n){var i=this,o=t.getAttribute("id");p.getElementById(o)?(e.glue(t,n),e.domElement.parentNode!=e.div.parentNode&&void 0===i.__bZCWarning&&(i.s.dt.oApi._fnLog(this.s.dt,0,"It looks like you are using the version of ZeroClipboard which came with TableTools 1. Please update to use the version that came with TableTools 2."),i.__bZCWarning=!0)):setTimeout(function(){i._fnFlashGlue(e,t,n)},100)},_fnFlashSetText:function(e,t){var n=this._fnChunkData(t,8192);e.clearText();for(var i=0,o=n.length;i<o;i++)e.appendText(n[i])},_fnColumnTargets:function(e){var t=[],n=this.s.dt;if("object"==typeof e){for(i=0,iLen=n.aoColumns.length;i<iLen;i++)t.push(!1);for(i=0,iLen=e.length;i<iLen;i++)t[e[i]]=!0}else if("visible"==e)for(i=0,iLen=n.aoColumns.length;i<iLen;i++)t.push(!!n.aoColumns[i].bVisible);else if("hidden"==e)for(i=0,iLen=n.aoColumns.length;i<iLen;i++)t.push(!n.aoColumns[i].bVisible);else if("sortable"==e)for(i=0,iLen=n.aoColumns.length;i<iLen;i++)t.push(!!n.aoColumns[i].bSortable);else for(i=0,iLen=n.aoColumns.length;i<iLen;i++)t.push(!0);return t},_fnNewline:function(e){return"auto"==e.sNewLine?navigator.userAgent.match(/Windows/)?"\r\n":"\n":e.sNewLine},_fnGetDataTablesData:function(e){var t,n,i,o,a="",s="",r=this.s.dt,l=RegExp(e.sFieldBoundary,"g"),c=this._fnColumnTargets(e.mColumns),u=this._fnNewline(e),h=void 0!==e.bSelectedOnly&&e.bSelectedOnly;if(e.bHeader){for(t=0,n=r.aoColumns.length;t<n;t++)c[t]&&(s=r.aoColumns[t].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),s=this._fnHtmlDecode(s),a+=this._fnBoundData(s,e.sFieldBoundary,l)+e.sFieldSeperator);a=a.slice(0,-1*e.sFieldSeperator.length),a+=u}for(i=0,o=r.aiDisplay.length;i<o;i++)if("none"==this.s.select.type||h&&d(r.aoData[r.aiDisplay[i]].nTr).hasClass(this.s.select.selectedClass)||h&&0==this.s.select.selected.length){for(t=0,n=r.aoColumns.length;t<n;t++)c[t]&&(s=r.oApi._fnGetCellData(r,r.aiDisplay[i],t,"display"),e.fnCellRender?s=e.fnCellRender(s,t)+"":"string"==typeof s?s=(s=(s=s.replace(/\n/g," ")).replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3")).replace(/<.*?>/g,""):s+="",s=s.replace(/^\s+/,"").replace(/\s+$/,""),s=this._fnHtmlDecode(s),a+=this._fnBoundData(s,e.sFieldBoundary,l)+e.sFieldSeperator);a=a.slice(0,-1*e.sFieldSeperator.length),a+=u}if(a.slice(0,-1),e.bFooter){for(t=0,n=r.aoColumns.length;t<n;t++)c[t]&&null!==r.aoColumns[t].nTf&&(s=r.aoColumns[t].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,""),s=this._fnHtmlDecode(s),a+=this._fnBoundData(s,e.sFieldBoundary,l)+e.sFieldSeperator);a=a.slice(0,-1*e.sFieldSeperator.length)}return _sLastData=a},_fnBoundData:function(e,t,n){return""===t?e:t+e.replace(n,t+t)+t},_fnChunkData:function(e,t){for(var n=[],i=e.length,o=0;o<i;o+=t)o+t<i?n.push(e.substring(o,o+t)):n.push(e.substring(o,i));return n},_fnHtmlDecode:function(e){if(-1==e.indexOf("&"))return e;e=this._fnChunkData(e,2048);var t,n,i,o=p.createElement("div"),a="";for(t=0,n=e.length;t<n;t++)-1!=(i=e[t].lastIndexOf("&"))&&8<=e[t].length&&i>e[t].length-8&&(e[t].substr(i),e[t]=e[t].substr(0,i)),o.innerHTML=e[t],a+=o.childNodes[0].nodeValue;return a},_fnPrintConfig:function(t,n){var i=this;null!==n.fnInit&&n.fnInit.call(this,t,n),""!==n.sToolTip&&(t.title=n.sToolTip),d(t).hover(function(){d(t).addClass(n.sButtonClassHover)},function(){d(t).removeClass(n.sButtonClassHover)}),null!==n.fnSelect&&TableTools._fnEventListen(this,"select",function(e){n.fnSelect.call(i,t,n,e)}),d(t).click(function(e){e.preventDefault(),i._fnPrintStart.call(i,e,n),null!==n.fnClick&&n.fnClick.call(i,t,n,null),null!==n.fnComplete&&n.fnComplete.call(i,t,n,null,null),i._fnCollectionHide(t,n)})},_fnPrintStart:function(e,t){var n=this,i=this.s.dt;this._fnPrintHideNodes(i.nTable),this.s.print.saveStart=i._iDisplayStart,this.s.print.saveLength=i._iDisplayLength,t.bShowAll&&(i._iDisplayStart=0,i._iDisplayLength=-1,i.oApi._fnCalculateEnd(i),i.oApi._fnDraw(i)),(""!==i.oScroll.sX||""!==i.oScroll.sY)&&this._fnPrintScrollStart(i);var o;i=i.aanFeatures;for(o in i)if("i"!=o&&"t"!=o&&1==o.length)for(var a=0,s=i[o].length;a<s;a++)this.dom.print.hidden.push({node:i[o][a],display:"block"}),i[o][a].style.display="none";if(d(p.body).addClass("DTTT_Print"),""!==t.sInfo){var r=p.createElement("div");r.className="DTTT_print_info",r.innerHTML=t.sInfo,p.body.appendChild(r),setTimeout(function(){d(r).fadeOut("normal",function(){p.body.removeChild(r)})},2e3)}""!==t.sMessage&&(this.dom.print.message=p.createElement("div"),this.dom.print.message.className="DTTT_PrintMessage",this.dom.print.message.innerHTML=t.sMessage,p.body.insertBefore(this.dom.print.message,p.body.childNodes[0])),this.s.print.saveScroll=d(h).scrollTop(),h.scrollTo(0,0),this.s.print.funcEnd=function(e){n._fnPrintEnd.call(n,e)},d(p).bind("keydown",null,this.s.print.funcEnd)},_fnPrintEnd:function(e){if(27==e.keyCode){e.preventDefault();e=this.s.dt;var t=this.s.print,n=this.dom.print;this._fnPrintShowNodes(),(""!==e.oScroll.sX||""!==e.oScroll.sY)&&this._fnPrintScrollEnd(),h.scrollTo(0,t.saveScroll),null!==n.message&&(p.body.removeChild(n.message),n.message=null),d(p.body).removeClass("DTTT_Print"),e._iDisplayStart=t.saveStart,e._iDisplayLength=t.saveLength,e.oApi._fnCalculateEnd(e),e.oApi._fnDraw(e),d(p).unbind("keydown",this.s.print.funcEnd),this.s.print.funcEnd=null}},_fnPrintScrollStart:function(){var e=this.s.dt;e.nScrollHead.getElementsByTagName("div")[0].getElementsByTagName("table");var t=e.nTable.parentNode,n=e.nTable.getElementsByTagName("thead");0<n.length&&e.nTable.removeChild(n[0]),null!==e.nTFoot&&(0<(n=e.nTable.getElementsByTagName("tfoot")).length&&e.nTable.removeChild(n[0])),n=e.nTHead.cloneNode(!0),e.nTable.insertBefore(n,e.nTable.childNodes[0]),null!==e.nTFoot&&(n=e.nTFoot.cloneNode(!0),e.nTable.insertBefore(n,e.nTable.childNodes[1])),""!==e.oScroll.sX&&(e.nTable.style.width=d(e.nTable).outerWidth()+"px",t.style.width=d(e.nTable).outerWidth()+"px",t.style.overflow="visible"),""!==e.oScroll.sY&&(t.style.height=d(e.nTable).outerHeight()+"px",t.style.overflow="visible")},_fnPrintScrollEnd:function(){var e=this.s.dt,t=e.nTable.parentNode;""!==e.oScroll.sX&&(t.style.width=e.oApi._fnStringToCss(e.oScroll.sX),t.style.overflow="auto"),""!==e.oScroll.sY&&(t.style.height=e.oApi._fnStringToCss(e.oScroll.sY),t.style.overflow="auto")},_fnPrintShowNodes:function(){for(var e=this.dom.print.hidden,t=0,n=e.length;t<n;t++)e[t].node.style.display=e[t].display;e.splice(0,e.length)},_fnPrintHideNodes:function(e){for(var t=this.dom.print.hidden,n=e.parentNode,i=n.childNodes,o=0,a=i.length;o<a;o++)if(i[o]!=e&&1==i[o].nodeType){var s=d(i[o]).css("display");"none"!=s&&(t.push({node:i[o],display:s}),i[o].style.display="none")}"BODY"!=n.nodeName&&this._fnPrintHideNodes(n)}},TableTools._aInstances=[],TableTools._aListeners=[],TableTools.fnGetMasters=function(){for(var e=[],t=0,n=TableTools._aInstances.length;t<n;t++)TableTools._aInstances[t].s.master&&e.push(TableTools._aInstances[t]);return e},TableTools.fnGetInstance=function(e){"object"!=typeof e&&(e=p.getElementById(e));for(var t=0,n=TableTools._aInstances.length;t<n;t++)if(TableTools._aInstances[t].s.master&&TableTools._aInstances[t].dom.table==e)return TableTools._aInstances[t];return null},TableTools._fnEventListen=function(e,t,n){TableTools._aListeners.push({that:e,type:t,fn:n})},TableTools._fnEventDispatch=function(e,t,n){for(var i=TableTools._aListeners,o=0,a=i.length;o<a;o++)e.dom.table==i[o].that.dom.table&&i[o].type==t&&i[o].fn(n)},TableTools.BUTTONS={csv:{sAction:"flash_save",sCharSet:"utf8",bBomInc:!1,sFileName:"*.csv",sFieldBoundary:'"',sFieldSeperator:",",sNewLine:"auto",sTitle:"",sToolTip:"",sButtonClass:"DTTT_button_csv",sButtonClassHover:"DTTT_button_csv_hover",sButtonText:"CSV",mColumns:"all",bHeader:!0,bFooter:!0,bSelectedOnly:!1,fnMouseover:null,fnMouseout:null,fnClick:function(e,t,n){this.fnSetText(n,this.fnGetTableData(t))},fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},xls:{sAction:"flash_save",sCharSet:"utf16le",bBomInc:!0,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"auto",sTitle:"",sToolTip:"",sButtonClass:"DTTT_button_xls",sButtonClassHover:"DTTT_button_xls_hover",sButtonText:"Excel",mColumns:"all",bHeader:!0,bFooter:!0,bSelectedOnly:!1,fnMouseover:null,fnMouseout:null,fnClick:function(e,t,n){this.fnSetText(n,this.fnGetTableData(t))},fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},copy:{sAction:"flash_copy",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"auto",sToolTip:"",sButtonClass:"DTTT_button_copy",sButtonClassHover:"DTTT_button_copy_hover",sButtonText:"Copier",mColumns:"all",bHeader:!0,bFooter:!0,bSelectedOnly:!1,fnMouseover:null,fnMouseout:null,fnClick:function(e,t,n){this.fnSetText(n,this.fnGetTableData(t))},fnSelect:null,fnComplete:function(e,t,n,i){e=i.split("\n").length,e=null===this.s.dt.nTFoot?e-1:e-2,alert(e+" ligne"+(1==e?"":"s")+" copie"+(1==e?"":"s")+" dans le presse-papier")},fnInit:null,fnCellRender:null},pdf:{sAction:"flash_pdf",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"\n",sFileName:"*.pdf",sToolTip:"",sTitle:"",sButtonClass:"DTTT_button_pdf",sButtonClassHover:"DTTT_button_pdf_hover",sButtonText:"PDF",mColumns:"all",bHeader:!0,bFooter:!1,bSelectedOnly:!1,fnMouseover:null,fnMouseout:null,sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(e,t,n){this.fnSetText(n,"title:"+this.fnGetTitle(t)+"\nmessage:"+t.sPdfMessage+"\ncolWidth:"+this.fnCalcColRatios(t)+"\norientation:"+t.sPdfOrientation+"\nsize:"+t.sPdfSize+"\n--/TableToolsOpts--\n"+this.fnGetTableData(t))},fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},print:{sAction:"print",sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.",sMessage:"",bShowAll:!0,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonClassHover:"DTTT_button_print_hover",sButtonText:"Imprimer",fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},text:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Text button",mColumns:"all",bHeader:!0,bFooter:!0,bSelectedOnly:!1,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},select:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Select button",mColumns:"all",bHeader:!0,bFooter:!0,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:function(e){0!==this.fnGetSelected().length?d(e).removeClass("DTTT_disabled"):d(e).addClass("DTTT_disabled")},fnComplete:null,fnInit:function(e){d(e).addClass("DTTT_disabled")},fnCellRender:null},select_single:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Select button",mColumns:"all",bHeader:!0,bFooter:!0,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:function(e){1==this.fnGetSelected().length?d(e).removeClass("DTTT_disabled"):d(e).addClass("DTTT_disabled")},fnComplete:null,fnInit:function(e){d(e).addClass("DTTT_disabled")},fnCellRender:null},select_all:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Select all",mColumns:"all",bHeader:!0,bFooter:!0,fnMouseover:null,fnMouseout:null,fnClick:function(){this.fnSelectAll()},fnSelect:function(e){this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()?d(e).addClass("DTTT_disabled"):d(e).removeClass("DTTT_disabled")},fnComplete:null,fnInit:null,fnCellRender:null},select_none:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Deselect all",mColumns:"all",bHeader:!0,bFooter:!0,fnMouseover:null,fnMouseout:null,fnClick:function(){this.fnSelectNone()},fnSelect:function(e){0!==this.fnGetSelected().length?d(e).removeClass("DTTT_disabled"):d(e).addClass("DTTT_disabled")},fnComplete:null,fnInit:function(e){d(e).addClass("DTTT_disabled")},fnCellRender:null},ajax:{sAction:"text",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"\n",sAjaxUrl:"/xhr.php",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Ajax button",mColumns:"all",bHeader:!0,bFooter:!0,bSelectedOnly:!1,fnMouseover:null,fnMouseout:null,fnClick:function(e,t){var n=this.fnGetTableData(t);d.ajax({url:t.sAjaxUrl,data:[{name:"tableData",value:n}],success:t.fnAjaxComplete,dataType:"json",type:"POST",cache:!1,error:function(){alert("Error detected when sending table data to server")}})},fnSelect:null,fnComplete:null,fnInit:null,fnAjaxComplete:function(){alert("Ajax complete")},fnCellRender:null},div:{sAction:"div",sToolTip:"",sButtonClass:"DTTT_nonbutton",sButtonClassHover:"",sButtonText:"Text button",fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,nContent:null,fnCellRender:null},collection:{sAction:"collection",sToolTip:"",sButtonClass:"DTTT_button_collection",sButtonClassHover:"DTTT_button_collection_hover",sButtonText:"Collection",fnMouseover:null,fnMouseout:null,fnClick:function(e,t){this._fnCollectionShow(e,t)},fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null}},TableTools.DEFAULTS={sSwfPath:"library/js/datatables/v1.9.1/extras/TableTools/swf/copy_cvs_xls_pdf.swf",sRowSelect:"none",sSelectedClass:"DTTT_selected",fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"]},TableTools.prototype.CLASS="TableTools",TableTools.VERSION="2.0.2",TableTools.prototype.VERSION=TableTools.VERSION,"function"==typeof d.fn.dataTable&&"function"==typeof d.fn.dataTableExt.fnVersionCheck&&d.fn.dataTableExt.fnVersionCheck("1.8.2")?d.fn.dataTableExt.aoFeatures.push({fnInit:function(e){return e=new TableTools(e.oInstance,void 0!==e.oInit.oTableTools?e.oInit.oTableTools:{}),TableTools._aInstances.push(e),e.dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools 2 requires DataTables 1.8.2 or newer - www.datatables.net/download")}(jQuery,window,document),function(_e,ye,we){var e;e=function(S){function p(e,t,n,i){this.id=n,this.target=e,this.tooltip=D,this.elements={target:e},this._id=x+"-"+n,this.timers={img:{}},this.options=t,this.plugins={},this.cache={event:{},target:S(),disabled:I,attr:i,onTooltip:I,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=I}function n(e){return e===D||"object"!==S.type(e)}function i(e){return!(S.isFunction(e)||e&&e.attr||e.length||"object"===S.type(e)&&(e.jquery||e.then))}function f(e){var t,o,a,s;return n(e)?I:(n(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&(n(t=e.content)||t.jquery||t.done?(o=i(t)?I:t,t=e.content={text:o}):o=t.text,"ajax"in t&&(a=t.ajax,s=a&&a.once!==I,delete t.ajax,t.text=function(e,i){var t=o||S(this).attr(i.options.content.attr)||"Loading...",n=S.ajax(S.extend({},a,{context:i})).then(a.success,D,a.error).then(function(e){return e&&s&&i.set("content.text",e),e},function(e,t,n){i.destroyed||0===e.status||i.set("content.text",t+": "+n)});return s?t:(i.set("content.text",t),n)}),"title"in t&&(S.isPlainObject(t.title)&&(t.button=t.title.button,t.title=t.title.text),i(t.title||I)&&(t.title=I))),"position"in e&&n(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&n(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===M?{ready:M}:{event:e.show}),"hide"in e&&n(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&n(e.style)&&(e.style={classes:e.style}),S.each(H,function(){this.sanitize&&this.sanitize(e)}),e)}function l(e,t){for(var n,i=0,o=e,a=t.split(".");o=o[a[i++]];)i<a.length&&(n=o);return[n||e,a.pop()]}function c(e,t){var n,i,o;for(n in this.checks)if(this.checks.hasOwnProperty(n))for(i in this.checks[n])this.checks[n].hasOwnProperty(i)&&(o=new RegExp(i,"i").exec(e))&&(t.push(o),("builtin"===n||this.plugins[n])&&this.checks[n][i].apply(this.plugins[n]||this,t))}function o(e){return z.concat("").join(e?"-"+e+" ":" ")}function r(e,t){return 0<t?setTimeout(S.proxy(e,this),t):void e.call(this)}function d(e){this.tooltip.hasClass(G)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=r.call(this,function(){this.toggle(M,e)},this.options.show.delay))}function m(e){if(!this.tooltip.hasClass(G)&&!this.destroyed){var t=S(e.relatedTarget),n=t.closest(R)[0]===this.tooltip[0],i=t[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==t[0]&&"mouse"===this.options.position.target&&n||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(n||i))try{e.preventDefault(),e.stopImmediatePropagation()}catch(e){}else this.timers.hide=r.call(this,function(){this.toggle(I,e)},this.options.hide.delay,this)}}function g(e){!this.tooltip.hasClass(G)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=r.call(this,function(){this.hide(e)},this.options.hide.inactive))}function v(e){this.rendered&&0<this.tooltip[0].offsetWidth&&this.reposition(e)}function e(e,t,n){S(ye.body).delegate(e,(t.split?t:t.join("."+x+" "))+"."+x,function(){var e=b.api[S.attr(this,k)];e&&!e.disabled&&n.apply(e,arguments)})}function u(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(e,t){return Math.ceil(parseFloat(function(e,t){var n,i,o=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+fe.join(o+" ")+o).split(" "),s=0;if(pe[t])return e.css(pe[t]);for(;n=a[s++];)if((i=e.css(n))!==we)return pe[t]=n,i}(e,t)))}function t(e,t){this._ns="tip",this.options=t,this.offset=t.offset,this.size=[t.width,t.height],this.qtip=e,this.init(e)}function s(e,t){this.options=t,this._ns="-modal",this.qtip=e,this.init(e)}function h(e){this._ns="ie6",this.qtip=e,this.init(e)}var b,_,y,w,C,M=!0,I=!1,D=null,P="width",F="height",j="top",L="left",E="bottom",A="right",O="center",N="shift",H={},x="qtip",T="data-hasqtip",k="data-qtip-id",z=["ui-widget","ui-tooltip"],R="."+x,q="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),B=x+"-fixed",W=x+"-default",$=x+"-focus",U=x+"-hover",G=x+"-disabled",Y="_replacedByqTip",V="oldtitle",Z={ie:function(){var e,t;for(e=4,t=ye.createElement("div");(t.innerHTML="\x3c!--[if gt IE "+e+"]><i></i><![endif]--\x3e")&&t.getElementsByTagName("i")[0];e+=1);return 4<e?e:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||I};(_=p.prototype)._when=function(e){return S.when.apply(S,e)},_.render=function(e){if(this.rendered||this.destroyed)return this;var n=this,t=this.options,i=this.cache,o=this.elements,a=t.content.text,s=t.content.title,r=t.content.button,l=t.position,c=[];return S.attr(this.target[0],"aria-describedby",this._id),i.posClass=this._createPosClass((this.position={my:l.my,at:l.at}).my),this.tooltip=o.tooltip=S("<div/>",{id:this._id,class:[x,W,t.style.classes,i.posClass].join(" "),width:t.style.width||"",height:t.style.height||"",tracking:"mouse"===l.target&&l.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":I,"aria-describedby":this._id+"-content","aria-hidden":M}).toggleClass(G,this.disabled).attr(k,this.id).data(x,this).appendTo(l.container).append(o.content=S("<div />",{class:x+"-content",id:this._id+"-content","aria-atomic":M})),this.rendered=-1,this.positioning=M,s&&(this._createTitle(),S.isFunction(s)||c.push(this._updateTitle(s,I))),r&&this._createButton(),S.isFunction(a)||c.push(this._updateContent(a,I)),this.rendered=M,this._setWidget(),S.each(H,function(e){var t;"render"===this.initialize&&(t=this(n))&&(n.plugins[e]=t)}),this._unassignEvents(),this._assignEvents(),this._when(c).then(function(){n._trigger("render"),n.positioning=I,n.hiddenDuringWait||!t.show.ready&&!e||n.toggle(M,i.event,I),n.hiddenDuringWait=I}),b.api[this.id]=this},_.destroy=function(e){function t(){if(!this.destroyed){this.destroyed=M;var e,t=this.target,n=t.attr(V);for(e in this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),S.each(this.plugins,function(){this.destroy&&this.destroy()}),this.timers)this.timers.hasOwnProperty(e)&&clearTimeout(this.timers[e]);t.removeData(x).removeAttr(k).removeAttr(T).removeAttr("aria-describedby"),this.options.suppress&&n&&t.attr("title",n).removeAttr(V),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=D,delete b.api[this.id]}}return this.destroyed||(e===M&&"hide"!==this.triggering||!this.rendered?t.call(this):(this.tooltip.one("tooltiphidden",S.proxy(t,this)),!this.triggering&&this.hide())),this.target},w=_.checks={builtin:{"^id$":function(e,t,n,i){var o=n===M?b.nextid:n,a=x+"-"+o;o!==I&&0<o.length&&!S("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):e[t]=i},"^prerender":function(e,t,n){n&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(e,t,n){this._updateContent(n)},"^content.attr$":function(e,t,n,i){this.options.content.text===this.target.attr(i)&&this._updateContent(this.target.attr(n))},"^content.title$":function(e,t,n){return n?(n&&!this.elements.title&&this._createTitle(),void this._updateTitle(n)):this._removeTitle()},"^content.button$":function(e,t,n){this._updateButton(n)},"^content.title.(text|button)$":function(e,t,n){this.set("content."+t,n)},"^position.(my|at)$":function(e,t,n){"string"==typeof n&&(this.position[t]=e[t]=new y(n,"at"===t))},"^position.container$":function(e,t,n){this.rendered&&this.tooltip.appendTo(n)},"^show.ready$":function(e,t,n){n&&(!this.rendered&&this.render(M)||this.toggle(M))},"^style.classes$":function(e,t,n,i){this.rendered&&this.tooltip.removeClass(i).addClass(n)},"^style.(width|height)":function(e,t,n){this.rendered&&this.tooltip.css(t,n)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(e,t,n){this.rendered&&this.tooltip.toggleClass(W,!!n)},"^events.(render|show|move|hide|focus|blur)$":function(e,t,n){this.rendered&&this.tooltip[(S.isFunction(n)?"":"un")+"bind"]("tooltip"+t,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var e=this.options.position;this.tooltip.attr("tracking","mouse"===e.target&&e.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},_.get=function(e){if(this.destroyed)return this;var t=l(this.options,e.toLowerCase()),n=t[0][t[1]];return n.precedance?n.string():n};var J=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,K=/^prerender|show\.ready/i;_.set=function(o,e){if(this.destroyed)return this;var t,a=this.rendered,s=I,r=this.options;return"string"==typeof o?(t=o,(o={})[t]=e):o=S.extend({},o),S.each(o,function(e,t){if(a&&K.test(e))delete o[e];else{var n,i=l(r,e.toLowerCase());n=i[0][i[1]],i[0][i[1]]=t&&t.nodeType?S(t):t,s=J.test(e)||s,o[e]=[i[0],i[1],t,n]}}),f(r),this.positioning=M,S.each(o,S.proxy(c,this)),this.positioning=I,this.rendered&&0<this.tooltip[0].offsetWidth&&s&&this.reposition("mouse"===r.position.target?D:this.cache.event),this},_._update=function(e,t){var n=this,i=this.cache;return this.rendered&&e?(S.isFunction(e)&&(e=e.call(this.elements.target,i.event,this)||""),S.isFunction(e.then)?(i.waiting=M,e.then(function(e){return i.waiting=I,n._update(e,t)},D,function(e){return n._update(e,t)})):e===I||!e&&""!==e?I:(e.jquery&&0<e.length?t.empty().append(e.css({display:"block",visibility:"visible"})):t.html(e),this._waitForContent(t).then(function(e){n.rendered&&0<n.tooltip[0].offsetWidth&&n.reposition(i.event,!e.length)}))):I},_._waitForContent=function(e){var t=this.cache;return t.waiting=M,(S.fn.imagesLoaded?e.imagesLoaded():(new S.Deferred).resolve([])).done(function(){t.waiting=I}).promise()},_._updateContent=function(e,t){this._update(e,this.elements.content,t)},_._updateTitle=function(e,t){this._update(e,this.elements.title,t)===I&&this._removeTitle(I)},_._createTitle=function(){var e=this.elements,t=this._id+"-title";e.titlebar&&this._removeTitle(),e.titlebar=S("<div />",{class:x+"-titlebar "+(this.options.style.widget?o("header"):"")}).append(e.title=S("<div />",{id:t,class:x+"-title","aria-atomic":M})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){S(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(e){S(this).toggleClass("ui-state-hover","mouseover"===e.type)}),this.options.content.button&&this._createButton()},_._removeTitle=function(e){var t=this.elements;t.title&&(t.titlebar.remove(),t.titlebar=t.title=t.button=D,e!==I&&this.reposition())},_._createPosClass=function(e){return x+"-pos-"+(e||this.options.position.my).abbrev()},_.reposition=function(e,t){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=M;var n,i,o,a,s=this.cache,r=this.tooltip,l=this.options.position,c=l.target,u=l.my,h=l.at,d=l.viewport,p=l.container,f=l.adjust,m=f.method.split(" "),g=r.outerWidth(I),v=r.outerHeight(I),b=0,_=0,y=r.css("position"),w={left:0,top:0},C=0<r[0].offsetWidth,D=e&&"scroll"===e.type,x=S(_e),T=p[0].ownerDocument,k=this.mouse;if(S.isArray(c)&&2===c.length)h={x:L,y:j},w={left:c[0],top:c[1]};else if("mouse"===c)h={x:L,y:j},(!f.mouse||this.options.hide.distance)&&s.origin&&s.origin.pageX?e=s.origin:!e||e&&("resize"===e.type||"scroll"===e.type)?e=s.event:k&&k.pageX&&(e=k),"static"!==y&&(w=p.offset()),T.body.offsetWidth!==(_e.innerWidth||T.documentElement.clientWidth)&&(i=S(ye.body).offset()),w={left:e.pageX-w.left+(i&&i.left||0),top:e.pageY-w.top+(i&&i.top||0)},f.mouse&&D&&k&&(w.left-=(k.scrollX||0)-x.scrollLeft(),w.top-=(k.scrollY||0)-x.scrollTop());else{if("event"===c?e&&e.target&&"scroll"!==e.type&&"resize"!==e.type?s.target=S(e.target):e.target||(s.target=this.elements.target):"event"!==c&&(s.target=S(c.jquery?c:this.elements.target)),c=s.target,0===(c=S(c).eq(0)).length)return this;c[0]===ye||c[0]===_e?(b=Z.iOS?_e.innerWidth:c.width(),_=Z.iOS?_e.innerHeight:c.height(),c[0]===_e&&(w={top:(d||c).scrollTop(),left:(d||c).scrollLeft()})):H.imagemap&&c.is("area")?n=H.imagemap(this,c,h,H.viewport?m:I):H.svg&&c&&c[0].ownerSVGElement?n=H.svg(this,c,h,H.viewport?m:I):(b=c.outerWidth(I),_=c.outerHeight(I),w=c.offset()),n&&(b=n.width,_=n.height,i=n.offset,w=n.position),w=this.reposition.offset(c,w,p),(3.1<Z.iOS&&Z.iOS<4.1||4.3<=Z.iOS&&Z.iOS<4.33||!Z.iOS&&"fixed"===y)&&(w.left-=x.scrollLeft(),w.top-=x.scrollTop()),(!n||n&&n.adjustable!==I)&&(w.left+=h.x===A?b:h.x===O?b/2:0,w.top+=h.y===E?_:h.y===O?_/2:0)}return w.left+=f.x+(u.x===A?-g:u.x===O?-g/2:0),w.top+=f.y+(u.y===E?-v:u.y===O?-v/2:0),H.viewport?(o=w.adjusted=H.viewport(this,w,l,b,_,g,v),i&&o.left&&(w.left+=i.left),i&&o.top&&(w.top+=i.top),o.my&&(this.position.my=o.my)):w.adjusted={left:0,top:0},s.posClass!==(a=this._createPosClass(this.position.my))&&(s.posClass=a,r.removeClass(s.posClass).addClass(a)),this._trigger("move",[w,d.elem||d],e)&&(delete w.adjusted,t===I||!C||isNaN(w.left)||isNaN(w.top)||"mouse"===c||!S.isFunction(l.effect)?r.css(w):S.isFunction(l.effect)&&(l.effect.call(r,this,S.extend({},w)),r.queue(function(e){S(this).css({opacity:"",height:""}),Z.ie&&this.style.removeAttribute("filter"),e()})),this.positioning=I),this},_.reposition.offset=function(e,n,t){function i(e,t){n.left+=t*e.scrollLeft(),n.top+=t*e.scrollTop()}if(!t[0])return n;for(var o,a,s,r,l=S(e[0].ownerDocument),c=!!Z.ie&&"CSS1Compat"!==ye.compatMode,u=t[0];"static"!==(a=S.css(u,"position"))&&("fixed"===a?(s=u.getBoundingClientRect(),i(l,-1)):((s=S(u).position()).left+=parseFloat(S.css(u,"borderLeftWidth"))||0,s.top+=parseFloat(S.css(u,"borderTopWidth"))||0),n.left-=s.left+(parseFloat(S.css(u,"marginLeft"))||0),n.top-=s.top+(parseFloat(S.css(u,"marginTop"))||0),o||"hidden"===(r=S.css(u,"overflow"))||"visible"===r||(o=S(u))),u=u.offsetParent;);return o&&(o[0]!==l[0]||c)&&i(o,1),n};var X=(y=_.reposition.Corner=function(e,t){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,O).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!t;var n=e.charAt(0);this.precedance="t"===n||"b"===n?"y":"x"}).prototype;X.invert=function(e,t){this[e]=this[e]===L?A:this[e]===A?L:t||this[e]},X.string=function(e){var t=this.x,n=this.y,i=t!==n?"center"===t||"center"!==n&&("y"===this.precedance||this.forceY)?[n,t]:[t,n]:[t];return!1!==e?i.join(" "):i},X.abbrev=function(){var e=this.string(!1);return e[0].charAt(0)+(e[1]&&e[1].charAt(0)||"")},X.clone=function(){return new y(this.string(),this.forceY)},_.toggle=function(e,t){var n=this.cache,i=this.options,o=this.tooltip;if(t){if(/over|enter/.test(t.type)&&n.event&&/out|leave/.test(n.event.type)&&i.show.target.add(t.target).length===i.show.target.length&&o.has(t.relatedTarget).length)return this;n.event=S.event.fix(t)}if(this.waiting&&!e&&(this.hiddenDuringWait=M),!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var a,s,r,l=e?"show":"hide",c=this.options[l],u=this.options.position,h=this.options.content,d=this.tooltip.css("width"),p=this.tooltip.is(":visible"),f=e||1===c.target.length,m=!t||c.target.length<2||n.target[0]===t.target;return(typeof e).search("boolean|number")&&(e=!p),s=(a=!o.is(":animated")&&p===e&&m)?D:!!this._trigger(l,[90]),this.destroyed||(s!==I&&e&&this.focus(t),!s||a||(S.attr(o[0],"aria-hidden",!e),e?(this.mouse&&(n.origin=S.event.fix(this.mouse)),S.isFunction(h.text)&&this._updateContent(h.text,I),S.isFunction(h.title)&&this._updateTitle(h.title,I),!C&&"mouse"===u.target&&u.adjust.mouse&&(S(ye).bind("mousemove."+x,this._storeMouse),C=M),d||o.css("width",o.outerWidth(I)),this.reposition(t,arguments[2]),d||o.css("width",""),c.solo&&("string"==typeof c.solo?S(c.solo):S(R,c.solo)).not(o).not(c.target).qtip("hide",new S.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete n.origin,C&&!S(R+'[tracking="true"]:visible',c.solo).not(o).length&&(S(ye).unbind("mousemove."+x),C=I),this.blur(t)),r=S.proxy(function(){e?(Z.ie&&o[0].style.removeAttribute("filter"),o.css("overflow",""),"string"==typeof c.autofocus&&S(this.options.show.autofocus,o).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):o.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(e?"visible":"hidden")},this),c.effect===I||f===I?(o[l](),r()):S.isFunction(c.effect)?(o.stop(1,1),c.effect.call(o,this),o.queue("fx",function(e){r(),e()})):o.fadeTo(90,e?1:0,r),e&&c.target.trigger("qtip-"+this.id+"-inactive"))),this},_.show=function(e){return this.toggle(M,e)},_.hide=function(e){return this.toggle(I,e)},_.focus=function(e){if(!this.rendered||this.destroyed)return this;var t=S(R),n=this.tooltip,i=parseInt(n[0].style.zIndex,10),o=b.zindex+t.length;return n.hasClass($)||this._trigger("focus",[o],e)&&(i!==o&&(t.each(function(){this.style.zIndex>i&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+$).qtip("blur",e)),n.addClass($)[0].style.zIndex=o),this},_.blur=function(e){return!this.rendered||this.destroyed||(this.tooltip.removeClass($),this._trigger("blur",[this.tooltip.css("zIndex")],e)),this},_.disable=function(e){return this.destroyed||("toggle"===e?e=!(this.rendered?this.tooltip.hasClass(G):this.disabled):"boolean"!=typeof e&&(e=M),this.rendered&&this.tooltip.toggleClass(G,e).attr("aria-disabled",e),this.disabled=!!e),this},_.enable=function(){return this.disable(I)},_._createButton=function(){var t=this,e=this.elements,n=e.tooltip,i=this.options.content.button,o="string"==typeof i?i:"Close tooltip";e.button&&e.button.remove(),i.jquery?e.button=i:e.button=S("<a />",{class:"qtip-close "+(this.options.style.widget?"":x+"-icon"),title:o,"aria-label":o}).prepend(S("<span />",{class:"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||n).attr("role","button").click(function(e){return n.hasClass(G)||t.hide(e),I})},_._updateButton=function(e){if(!this.rendered)return I;var t=this.elements.button;e?this._createButton():t.remove()},_._setWidget=function(){var e=this.options.style.widget,t=this.elements,n=t.tooltip,i=n.hasClass(G);n.removeClass(G),G=e?"ui-state-disabled":"qtip-disabled",n.toggleClass(G,i),n.toggleClass("ui-helper-reset "+o(),e).toggleClass(W,this.options.style.def&&!e),t.content&&t.content.toggleClass(o("content"),e),t.titlebar&&t.titlebar.toggleClass(o("header"),e),t.button&&t.button.toggleClass(x+"-icon",!e)},_._storeMouse=function(e){return(this.mouse=S.event.fix(e)).type="mousemove",this},_._bind=function(e,t,n,i,o){if(e&&n&&t.length){var a="."+this._id+(i?"-"+i:"");return S(e).bind((t.split?t:t.join(a+" "))+a,S.proxy(n,o||this)),this}},_._unbind=function(e,t){return e&&S(e).unbind("."+this._id+(t?"-"+t:"")),this},_._trigger=function(e,t,n){var i=new S.Event("tooltip"+e);return i.originalEvent=n&&S.extend({},n)||this.cache.event||D,this.triggering=e,this.tooltip.trigger(i,[this].concat(t||[])),this.triggering=I,!i.isDefaultPrevented()},_._bindEvents=function(i,e,t,n,o,a){var s=t.filter(n).add(n.filter(t)),r=[];s.length&&(S.each(e,function(e,t){var n=S.inArray(t,i);-1<n&&r.push(i.splice(n,1)[0])}),r.length&&(this._bind(s,r,function(e){(!!this.rendered&&0<this.tooltip[0].offsetWidth?a:o).call(this,e)}),t=t.not(s),n=n.not(s))),this._bind(t,i,o),this._bind(n,e,a)},_._assignInitialEvents=function(e){function t(e){return this.disabled||this.destroyed?I:(this.cache.event=e&&S.event.fix(e),this.cache.target=e&&S(e.target),clearTimeout(this.timers.show),void(this.timers.show=r.call(this,function(){this.render("object"==typeof e||n.show.ready)},n.prerender?0:n.show.delay)))}var n=this.options,i=n.show.target,o=n.hide.target,a=n.show.event?S.trim(""+n.show.event).split(" "):[],s=n.hide.event?S.trim(""+n.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(){this.destroy(!0)},"destroy"),/mouse(over|enter)/i.test(n.show.event)&&!/mouse(out|leave)/i.test(n.hide.event)&&s.push("mouseleave"),this._bind(i,"mousemove",function(e){this._storeMouse(e),this.cache.onTarget=M}),this._bindEvents(a,s,i,o,t,function(){return this.timers?void clearTimeout(this.timers.show):I}),(n.show.ready||n.prerender)&&t.call(this,e)},_._assignEvents=function(){var n=this,o=this.options,e=o.position,i=this.tooltip,t=o.show.target,a=o.hide.target,s=e.container,r=e.viewport,l=S(ye),c=S(_e),u=o.show.event?S.trim(""+o.show.event).split(" "):[],h=o.hide.event?S.trim(""+o.hide.event).split(" "):[];S.each(o.events,function(e,t){n._bind(i,"toggle"===e?["tooltipshow","tooltiphide"]:["tooltip"+e],t,null,i)}),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(l,["mouseout","blur"],function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||this.hide(e)}),o.hide.fixed?a=a.add(i.addClass(B)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(a,"mouseleave",function(){clearTimeout(this.timers.show)}),-1<(""+o.hide.event).indexOf("unfocus")&&this._bind(s.closest("html"),["mousedown","touchstart"],function(e){var t=S(e.target),n=this.rendered&&!this.tooltip.hasClass(G)&&0<this.tooltip[0].offsetWidth,i=0<t.parents(R).filter(this.tooltip[0]).length;t[0]===this.target[0]||t[0]===this.tooltip[0]||i||this.target.has(t[0]).length||!n||this.hide(e)}),"number"==typeof o.hide.inactive&&(this._bind(t,"qtip-"+this.id+"-inactive",g,"inactive"),this._bind(a.add(i),b.inactiveEvents,g)),this._bindEvents(u,h,t,a,d,m),this._bind(t.add(i),"mousemove",function(e){if("number"==typeof o.hide.distance){var t=this.cache.origin||{},n=this.options.hide.distance,i=Math.abs;(i(e.pageX-t.pageX)>=n||i(e.pageY-t.pageY)>=n)&&this.hide(e)}this._storeMouse(e)}),"mouse"===e.target&&e.adjust.mouse&&(o.hide.event&&this._bind(t,["mouseenter","mouseleave"],function(e){return this.cache?void(this.cache.onTarget="mouseenter"===e.type):I}),this._bind(l,"mousemove",function(e){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(G)&&0<this.tooltip[0].offsetWidth&&this.reposition(e)})),(e.adjust.resize||r.length)&&this._bind(S.event.special.resize?r:c,"resize",v),e.adjust.scroll&&this._bind(c.add(e.container),"scroll",v)},_._unassignEvents=function(){var e=this.options,t=e.show.target,n=e.hide.target,i=S.grep([this.elements.target[0],this.rendered&&this.tooltip[0],e.position.container[0],e.position.viewport[0],e.position.container.closest("html")[0],_e,ye],function(e){return"object"==typeof e});t&&t.toArray&&(i=i.concat(t.toArray())),n&&n.toArray&&(i=i.concat(n.toArray())),this._unbind(i)._unbind(i,"destroy")._unbind(i,"inactive")},S(function(){e(R,["mouseenter","mouseleave"],function(e){var t="mouseenter"===e.type,n=S(e.currentTarget),i=S(e.relatedTarget||e.target),o=this.options;t?(this.focus(e),n.hasClass(B)&&!n.hasClass(G)&&clearTimeout(this.timers.hide)):"mouse"===o.position.target&&o.position.adjust.mouse&&o.hide.event&&o.show.target&&!i.closest(o.show.target[0]).length&&this.hide(e),n.toggleClass(U,t)}),e("["+k+"]",q,g)}),b=S.fn.qtip=function(e,t,n){var i=(""+e).toLowerCase(),o=D,a=S.makeArray(arguments).slice(1),s=a[a.length-1],r=this[0]?S.data(this[0],x):D;return!arguments.length&&r||"api"===i?r:"string"==typeof e?(this.each(function(){var e=S.data(this,x);if(!e)return M;if(s&&s.timeStamp&&(e.cache.event=s),!t||"option"!==i&&"options"!==i)e[i]&&e[i].apply(e,a);else{if(n===we&&!S.isPlainObject(t))return o=e.get(t),I;e.set(t,n)}}),o!==D?o:this):"object"!=typeof e&&arguments.length?void 0:(r=f(S.extend(M,{},e)),this.each(function(e){var t,n;return n=!(n=S.isArray(r.id)?r.id[e]:r.id)||n===I||n.length<1||b.api[n]?b.nextid++:n,(t=function(e,t,n){var i,o,a,s,r,l=S(ye.body),c=e[0]===ye?l:e,u=e.metadata?e.metadata(n.metadata):D,h="html5"===n.metadata.type&&u?u[n.metadata.name]:D,d=e.data(n.metadata.name||"qtipopts");try{d="string"==typeof d?S.parseJSON(d):d}catch(e){}if(o=(s=S.extend(M,{},b.defaults,n,"object"==typeof d?f(d):D,f(h||u))).position,s.id=t,"boolean"==typeof s.content.text){if(a=e.attr(s.content.attr),s.content.attr===I||!a)return I;s.content.text=a}if(o.container.length||(o.container=l),o.target===I&&(o.target=c),s.show.target===I&&(s.show.target=c),s.show.solo===M&&(s.show.solo=o.container.closest("body")),s.hide.target===I&&(s.hide.target=c),s.position.viewport===M&&(s.position.viewport=o.container),o.container=o.container.eq(0),o.at=new y(o.at,M),o.my=new y(o.my),e.data(x))if(s.overwrite)e.qtip("destroy",!0);else if(s.overwrite===I)return I;return e.attr(T,t),s.suppress&&(r=e.attr("title"))&&e.removeAttr("title").attr(V,r).attr("title",""),i=new p(e,s,t,!!a),e.data(x,i),i}(S(this),n,r))===I?M:(b.api[n]=t,S.each(H,function(){"initialize"===this.initialize&&this(t)}),void t._assignInitialEvents(s))}))},S.qtip=p,b.api={},S.each({attr:function(e,t){if(this.length){var n=this[0],i=S.data(n,"qtip");if("title"===e&&i&&i.options&&"object"==typeof i&&"object"==typeof i.options&&i.options.suppress)return arguments.length<2?S.attr(n,V):(i&&"title"===i.options.content.attr&&i.cache.attr&&i.set("content.text",t),this.attr(V,t))}return S.fn["attr"+Y].apply(this,arguments)},clone:function(e){var t=S.fn["clone"+Y].apply(this,arguments);return e||t.filter("["+V+"]").attr("title",function(){return S.attr(this,V)}).removeAttr(V),t}},function(e,t){if(!t||S.fn[e+Y])return M;var n=S.fn[e+Y]=S.fn[e];S.fn[e]=function(){return t.apply(this,arguments)||n.apply(this,arguments)}}),S.ui||(S["cleanData"+Y]=S.cleanData,S.cleanData=function(e){for(var t,n=0;(t=S(e[n])).length;n++)if(t.attr(T))try{t.triggerHandler("removeqtip")}catch(e){}S["cleanData"+Y].apply(this,arguments)}),b.version="3.0.3",b.nextid=0,b.inactiveEvents=q,b.zindex=15e3,b.defaults={prerender:I,id:I,overwrite:M,suppress:M,content:{text:M,attr:"title",title:I,button:I},position:{my:"top left",at:"bottom right",target:I,container:I,viewport:I,adjust:{x:0,y:0,mouse:M,scroll:M,resize:M,method:"flipinvert flipinvert"},effect:function(e,t){S(this).animate(t,{duration:200,queue:I})}},show:{target:I,event:"mouseenter",effect:M,delay:90,solo:I,ready:I,autofocus:I},hide:{target:I,event:"mouseleave",effect:M,delay:0,fixed:I,inactive:I,leave:"window",distance:I},style:{classes:"",widget:I,width:I,height:I,def:M},events:{render:D,move:D,show:D,hide:D,toggle:D,visible:D,hidden:D,focus:D,blur:D}};var Q,ee,te,ne,ie,oe,ae="margin",se="border",re="color",le="background-color",ce="transparent",ue=" !important",he=!!ye.createElement("canvas").getContext,de=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,pe={},fe=["Webkit","O","Moz","ms"];he?(ne=_e.devicePixelRatio||1,ie=(oe=ye.createElement("canvas").getContext("2d")).backingStorePixelRatio||oe.webkitBackingStorePixelRatio||oe.mozBackingStorePixelRatio||oe.msBackingStorePixelRatio||oe.oBackingStorePixelRatio||1,te=ne/ie):ee=function(e,t,n){return"<qtipvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(n||"")+'" />'},S.extend(t.prototype,{init:function(e){var t,n;n=this.element=e.elements.tip=S("<div />",{class:x+"-tip"}).prependTo(e.tooltip),he?((t=S("<canvas />").appendTo(this.element)[0].getContext("2d")).lineJoin="miter",t.miterLimit=1e5,t.save()):(t=ee("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(t+t),e._bind(S("*",n).add(n),["click","mousedown"],function(e){e.stopPropagation()},this._ns)),e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(e){var t=this.qtip.elements.titlebar;return t&&(e.y===j||e.y===O&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight(M))},_parseCorner:function(e){var t=this.qtip.options.position.my;return e===I||t===I?e=I:e===M?e=new y(t.string()):e.string||((e=new y(e)).fixed=M),e},_parseWidth:function(e,t,n){var i=this.qtip.elements,o=se+u(t)+"Width";return(n?a(n,o):a(i.content,o)||a(this._useTitle(e)&&i.titlebar||i.content,o)||a(i.tooltip,o))||0},_parseRadius:function(e){var t=this.qtip.elements,n=se+u(e.y)+u(e.x)+"Radius";return Z.ie<9?0:a(this._useTitle(e)&&t.titlebar||t.content,n)||a(t.tooltip,n)||0},_invalidColour:function(e,t,n){var i=e.css(t);return!i||n&&i===e.css(n)||de.test(i)?I:i},_parseColours:function(e){var t=this.qtip.elements,n=this.element.css("cssText",""),i=se+u(e[e.precedance])+u(re),o=this._useTitle(e)&&t.titlebar||t.content,a=this._invalidColour,s=[];return s[0]=a(n,le)||a(o,le)||a(t.content,le)||a(t.tooltip,le)||n.css(le),s[1]=a(n,i,re)||a(o,i,re)||a(t.content,i,re)||a(t.tooltip,i,re)||t.tooltip.css(i),S("*",n).add(n).css("cssText",le+":"+ce+ue+";"+se+":0"+ue+";"),s},_calculateSize:function(e){var t,n,i="y"===e.precedance,o=this.options.width,a=this.options.height,s="c"===e.abbrev(),r=(i?o:a)*(s?.5:1),l=Math.pow,c=Math.round,u=Math.sqrt(l(r,2)+l(a,2)),h=[this.border/r*u,this.border/a*u];return h[2]=Math.sqrt(l(h[0],2)-l(this.border,2)),h[3]=Math.sqrt(l(h[1],2)-l(this.border,2)),n=[c((t=(u+h[2]+h[3]+(s?0:h[0]))/u)*o),c(t*a)],i?n:n.reverse()},_calculateTip:function(e,t,n){n=n||1;var i=(t=t||this.size)[0]*n,o=t[1]*n,a=Math.ceil(i/2),s=Math.ceil(o/2),r={br:[0,0,i,o,i,0],bl:[0,0,i,0,0,o],tr:[0,o,i,0,i,o],tl:[0,0,0,o,i,o],tc:[0,o,a,0,i,o],bc:[0,0,i,0,a,o],rc:[0,0,i,s,0,o],lc:[i,0,i,o,0,s]};return r.lt=r.br,r.rt=r.bl,r.lb=r.tr,r.rb=r.tl,r[e.abbrev()]},_drawCoords:function(e,t){e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.closePath()},create:function(){var e=this.corner=(he||Z.ie)&&this._parseCorner(this.options.corner);return this.enabled=!!this.corner&&"c"!==this.corner.abbrev(),this.enabled&&(this.qtip.cache.corner=e.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(e,t){if(!this.enabled)return this;var n,i,o,a,s,r,l,c,u=this.qtip.elements,h=this.element,d=h.children(),p=this.options,f=this.size,m=p.mimic,g=Math.round;e||(e=this.qtip.cache.corner||this.corner),m===I?m=e:((m=new y(m)).precedance=e.precedance,"inherit"===m.x?m.x=e.x:"inherit"===m.y?m.y=e.y:m.x===m.y&&(m[e.precedance]=e[e.precedance])),i=m.precedance,"x"===e.precedance?this._swapDimensions():this._resetDimensions(),(n=this.color=this._parseColours(e))[1]!==ce?(c=this.border=this._parseWidth(e,e[e.precedance]),p.border&&c<1&&!de.test(n[1])&&(n[0]=n[1]),this.border=c=p.border!==M?p.border:c):this.border=c=0,l=this.size=this._calculateSize(e),h.css({width:l[0],height:l[1],lineHeight:l[1]+"px"}),r="y"===e.precedance?[g(m.x===L?c:m.x===A?l[0]-f[0]-c:(l[0]-f[0])/2),g(m.y===j?l[1]-f[1]:0)]:[g(m.x===L?l[0]-f[0]:0),g(m.y===j?c:m.y===E?l[1]-f[1]-c:(l[1]-f[1])/2)],he?((o=d[0].getContext("2d")).restore(),o.save(),o.clearRect(0,0,6e3,6e3),a=this._calculateTip(m,f,te),s=this._calculateTip(m,this.size,te),d.attr(P,l[0]*te).attr(F,l[1]*te),d.css(P,l[0]).css(F,l[1]),this._drawCoords(o,s),o.fillStyle=n[1],o.fill(),o.translate(r[0]*te,r[1]*te),this._drawCoords(o,a),o.fillStyle=n[0],o.fill()):(a="m"+(a=this._calculateTip(m))[0]+","+a[1]+" l"+a[2]+","+a[3]+" "+a[4]+","+a[5]+" xe",r[2]=c&&/^(r|b)/i.test(e.string())?8===Z.ie?2:1:0,d.css({coordsize:l[0]+c+" "+l[1]+c,antialias:""+(-1<m.string().indexOf(O)),left:r[0]-r[2]*Number("x"===i),top:r[1]-r[2]*Number("y"===i),width:l[0]+c,height:l[1]+c}).each(function(e){var t=S(this);t[t.prop?"prop":"attr"]({coordsize:l[0]+c+" "+l[1]+c,path:a,fillcolor:n[0],filled:!!e,stroked:!e}).toggle(!(!c&&!e)),!e&&t.html(ee("stroke",'weight="'+2*c+'px" color="'+n[1]+'" miterlimit="1000" joinstyle="miter"'))})),_e.opera&&setTimeout(function(){u.tip.css({display:"inline-block",visibility:"visible"})},1),t!==I&&this.calculate(e,l)},calculate:function(a,s){if(!this.enabled)return I;var r,e,l=this,c=this.qtip.elements,t=this.element,u=this.options.offset,h={};return a=a||this.corner,r=a.precedance,s=s||this._calculateSize(a),e=[a.x,a.y],"x"===r&&e.reverse(),S.each(e,function(e,t){var n,i,o;t===O?(h[n="y"===r?L:j]="50%",h[ae+"-"+n]=-Math.round(s["y"===r?0:1]/2)+u):(n=l._parseWidth(a,t,c.tooltip),i=l._parseWidth(a,t,c.content),o=l._parseRadius(a),h[t]=Math.max(-l.border,e?i:u+(n<o?o:-n)))}),h[a[r]]-=s["x"===r?0:1],t.css({margin:"",top:"",bottom:"",left:"",right:""}).css(h),h},reposition:function(e,t,i){function n(e,t,n,i,o){e===N&&l.precedance===t&&c[i]&&l[n]!==O?l.precedance="x"===l.precedance?"y":"x":e!==N&&c[i]&&(l[t]=l[t]===O?0<c[i]?i:o:l[t]===i?o:i)}function o(e,t,n){l[e]===O?f[ae+"-"+t]=p[e]=a[ae+"-"+t]-c[t]:(s=a[n]!==we?[c[t],-a[t]]:[-c[t],a[t]],(p[e]=Math.max(s[0],s[1]))>s[0]&&(i[t]-=c[t],p[t]=I),f[a[n]!==we?n:t]=p[e])}if(this.enabled){var a,s,r=t.cache,l=this.corner.clone(),c=i.adjusted,u=t.options.position.adjust.method.split(" "),h=u[0],d=u[1]||u[0],p={left:I,top:I,x:0,y:0},f={};this.corner.fixed!==M&&(n(h,"x","y",L,A),n(d,"y","x",j,E),l.string()===r.corner.string()&&r.cornerTop===c.top&&r.cornerLeft===c.left||this.update(l,I)),(a=this.calculate(l)).right!==we&&(a.left=-a.right),a.bottom!==we&&(a.top=-a.bottom),a.user=this.offset,p.left=h===N&&!!c.left,p.left&&o("x",L,A),p.top=d===N&&!!c.top,p.top&&o("y",j,E),this.element.css(f).toggle(!(p.x&&p.y||l.x===O&&p.y||l.y===O&&p.x)),i.left-=a.left.charAt?a.user:h!==N||p.top||!p.left&&!p.top?a.left+this.border:0,i.top-=a.top.charAt?a.user:d!==N||p.left||!p.left&&!p.top?a.top+this.border:0,r.cornerLeft=c.left,r.cornerTop=c.top,r.corner=l.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),(Q=H.tip=function(e){return new t(e,e.options.style.tip)}).initialize="render",Q.sanitize=function(e){if(e.style&&"tip"in e.style){var t=e.style.tip;"object"!=typeof t&&(t=e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=M)}},w.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(e){this.size=[e.width,e.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},S.extend(M,b.defaults,{style:{tip:{corner:M,mimic:I,width:6,height:6,border:M,offset:0}}});var me,ge,ve="qtip-modal",be="."+ve;ge=new(ge=function(){function c(e){t.length<1&&e.length?e.not("body").blur():t.first().focus()}function e(e){if(d.is(":visible")){var t=S(e.target),n=u.tooltip,i=t.closest(R);(i.length<1?I:parseInt(i[0].style.zIndex,10)>parseInt(n[0].style.zIndex,10))||t.closest(R)[0]===n[0]||c(t)}}var u,h,d,p=this,t={};S.extend(p,{init:function(){return d=p.elem=S("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return I}}).hide(),S(ye.body).bind("focusin"+be,e),S(ye).bind("keydown"+be,function(e){u&&u.options.show.modal.escape&&27===e.keyCode&&u.hide(e)}),d.bind("click"+be,function(e){u&&u.options.show.modal.blur&&u.hide(e)}),p},update:function(e){t=(u=e).options.show.modal.stealfocus!==I?e.tooltip.find("*").filter(function(){return function(e){if(S.expr[":"].focusable)return S.expr[":"].focusable;var t,n,i,o=!isNaN(S.attr(e,"tabindex")),a=e.nodeName&&e.nodeName.toLowerCase();return"area"===a?(n=(t=e.parentNode).name,!(!e.href||!n||"map"!==t.nodeName.toLowerCase())&&!!(i=S("img[usemap=#"+n+"]")[0])&&i.is(":visible")):/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a&&e.href||o}(this)}):[]},toggle:function(e,t,n){var i=e.tooltip,o=e.options.show.modal,a=o.effect,s=t?"show":"hide",r=d.is(":visible"),l=S(be).filter(":visible:not(:animated)").not(i);return p.update(e),t&&o.stealfocus!==I&&c(S(":focus")),d.toggleClass("blurs",o.blur),t&&d.appendTo(ye.body),d.is(":animated")&&r===t&&h!==I||!t&&l.length||(d.stop(M,I),S.isFunction(a)?a.call(d,t):a===I?d[s]():d.fadeTo(parseInt(n,10)||90,t?1:0,function(){t||d.hide()}),t||d.queue(function(e){d.css({left:"",top:""}),S(be).length||d.detach(),e()}),h=t,u.destroyed&&(u=D)),p}}),p.init()}),S.extend(s.prototype,{init:function(e){var a=e.tooltip;return this.options.on?(e.elements.overlay=ge.elem,a.addClass(ve).css("z-index",b.modal_zindex+S(be).length),e._bind(a,["tooltipshow","tooltiphide"],function(e,t,n){var i=e.originalEvent;if(e.target===a[0])if(i&&"tooltiphide"===e.type&&/mouse(leave|enter)/.test(i.type)&&S(i.relatedTarget).closest(ge.elem[0]).length)try{e.preventDefault()}catch(e){}else(!i||i&&"tooltipsolo"!==i.type)&&this.toggle(e,"tooltipshow"===e.type,n)},this._ns,this),e._bind(a,"tooltipfocus",function(e,t){if(!e.isDefaultPrevented()&&e.target===a[0]){var n=S(be),i=b.modal_zindex+n.length,o=parseInt(a[0].style.zIndex,10);ge.elem[0].style.zIndex=i-1,n.each(function(){this.style.zIndex>o&&(this.style.zIndex-=1)}),n.filter("."+$).qtip("blur",e.originalEvent),a.addClass($)[0].style.zIndex=i,ge.update(t);try{e.preventDefault()}catch(e){}}},this._ns,this),void e._bind(a,"tooltiphide",function(e){e.target===a[0]&&S(be).filter(":visible").not(a).last().qtip("focus",e)},this._ns,this)):this},toggle:function(e,t,n){return e&&e.isDefaultPrevented()?this:void ge.toggle(this.qtip,!!t,n)},destroy:function(){this.qtip.tooltip.removeClass(ve),this.qtip._unbind(this.qtip.tooltip,this._ns),ge.toggle(this.qtip,I),delete this.qtip.elements.overlay}}),(me=H.modal=function(e){return new s(e,e.options.show.modal)}).sanitize=function(e){e.show&&("object"!=typeof e.show.modal?e.show.modal={on:!!e.show.modal}:void 0===e.show.modal.on&&(e.show.modal.on=M))},b.modal_zindex=b.zindex-200,me.initialize="render",w.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(0<this.qtip.tooltip[0].offsetWidth)}},S.extend(M,b.defaults,{show:{modal:{on:I,effect:M,blur:M,stealfocus:M,escape:M}}}),H.viewport=function(e,_,t,n,i,o,a){function s(e,t,n,i,o,a,s,r,l){var c=_[o],u=S[e],h=M[e],d=n===N,p=u===o?l:u===a?-l:-l/2,f=h===o?r:h===a?-r:-r/2,m=T[o]+k[o]-(C?0:w[o]),g=m-c,v=c+l-(s===P?D:x)-m,b=p-(S.precedance===e||u===S[t]?f:0)-(h===O?r/2:0);return d?(b=(u===o?1:-1)*p,_[o]+=0<g?g:0<v?-v:0,_[o]=Math.max(-w[o]+k[o],c-b,Math.min(Math.max(-w[o]+k[o]+(s===P?D:x),c+b),_[o],"center"===u?c-p:1e9))):(i*="flipinvert"===n?2:0,0<g&&(u!==o||0<v)?(_[o]-=b+i,y.invert(e,o)):0<v&&(u!==a||0<g)&&(_[o]-=(u===O?-b:b)+i,y.invert(e,a)),_[o]<T[o]&&-_[o]>v&&(_[o]=c,y=S.clone())),_[o]-c}var r,y,w,C,D,x,T,k,l=t.target,c=e.elements.tooltip,S=t.my,M=t.at,u=t.adjust,h=u.method.split(" "),d=h[0],p=h[1]||h[0],f=t.viewport,m=t.container,g={left:0,top:0};return f.jquery&&l[0]!==_e&&l[0]!==ye.body&&"none"!==u.method?(w=m.offset()||g,C="static"===m.css("position"),r="fixed"===c.css("position"),D=f[0]===_e?f.width():f.outerWidth(I),x=f[0]===_e?f.height():f.outerHeight(I),T={left:r?0:f.scrollLeft(),top:r?0:f.scrollTop()},k=f.offset()||g,"shift"===d&&"shift"===p||(y=S.clone()),g={left:"none"!==d?s("x","y",d,u.x,L,A,P,n,o):0,top:"none"!==p?s("y","x",p,u.y,j,E,F,i,a):0,my:y}):g},H.polys={polygon:function(e,t){var n,i,o,a={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:I},s=0,r=[],l=1,c=1,u=0,h=0;for(s=e.length;s--;)(n=[parseInt(e[--s],10),parseInt(e[s+1],10)])[0]>a.position.right&&(a.position.right=n[0]),n[0]<a.position.left&&(a.position.left=n[0]),n[1]>a.position.bottom&&(a.position.bottom=n[1]),n[1]<a.position.top&&(a.position.top=n[1]),r.push(n);if(i=a.width=Math.abs(a.position.right-a.position.left),o=a.height=Math.abs(a.position.bottom-a.position.top),"c"===t.abbrev())a.position={left:a.position.left+a.width/2,top:a.position.top+a.height/2};else{for(;0<i&&0<o&&0<l&&0<c;)for(i=Math.floor(i/2),o=Math.floor(o/2),t.x===L?l=i:t.x===A?l=a.width-i:l+=Math.floor(i/2),t.y===j?c=o:t.y===E?c=a.height-o:c+=Math.floor(o/2),s=r.length;s--&&!(r.length<2);)u=r[s][0]-a.position.left,h=r[s][1]-a.position.top,(t.x===L&&l<=u||t.x===A&&u<=l||t.x===O&&(u<l||u>a.width-l)||t.y===j&&c<=h||t.y===E&&h<=c||t.y===O&&(h<c||h>a.height-c))&&r.splice(s,1);a.position={left:r[0][0],top:r[0][1]}}return a},rect:function(e,t,n,i){return{width:Math.abs(n-e),height:Math.abs(i-t),position:{left:Math.min(e,n),top:Math.min(t,i)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(e,t,n,i,o){var a=H.polys._angles[o.abbrev()],s=0===a?0:n*Math.cos(a*Math.PI),r=i*Math.sin(a*Math.PI);return{width:2*n-Math.abs(s),height:2*i-Math.abs(r),position:{left:e+s,top:t+r},adjustable:I}},circle:function(e,t,n,i){return H.polys.ellipse(e,t,n,n,i)}},H.svg=function(e,t,n){for(var i,o,a,s,r,l,c,u,h,d=t[0],p=S(d.ownerSVGElement),f=d.ownerDocument,m=(parseInt(t.css("stroke-width"),10)||0)/2;!d.getBBox;)d=d.parentNode;if(!d.getBBox||!d.parentNode)return I;switch(d.nodeName){case"ellipse":case"circle":u=H.polys.ellipse(d.cx.baseVal.value,d.cy.baseVal.value,(d.rx||d.r).baseVal.value+m,(d.ry||d.r).baseVal.value+m,n);break;case"line":case"polygon":case"polyline":for(u=[],l=-1,s=(c=d.points||[{x:d.x1.baseVal.value,y:d.y1.baseVal.value},{x:d.x2.baseVal.value,y:d.y2.baseVal.value}]).numberOfItems||c.length;++l<s;)r=c.getItem?c.getItem(l):c[l],u.push.apply(u,[r.x,r.y]);u=H.polys.polygon(u,n);break;default:u={width:(u=d.getBBox()).width,height:u.height,position:{left:u.x,top:u.y}}}return h=u.position,(p=p[0]).createSVGPoint&&(o=d.getScreenCTM(),(c=p.createSVGPoint()).x=h.left,c.y=h.top,a=c.matrixTransform(o),h.left=a.x,h.top=a.y),f!==ye&&"mouse"!==e.position.target&&((i=S((f.defaultView||f.parentWindow).frameElement).offset())&&(h.left+=i.left,h.top+=i.top)),f=S(f),h.left+=f.scrollLeft(),h.top+=f.scrollTop(),u},H.imagemap=function(e,t,n){t.jquery||(t=S(t));var i,o,a,s,r,l=(t.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),c=S('img[usemap="#'+t.parent("map").attr("name")+'"]'),u=S.trim(t.attr("coords")).replace(/,$/,"").split(",");if(!c.length)return I;if("polygon"===l)s=H.polys.polygon(u,n);else{if(!H.polys[l])return I;for(a=-1,r=u.length,o=[];++a<r;)o.push(parseInt(u[a],10));s=H.polys[l].apply(this,o.concat(n))}return(i=c.offset()).left+=Math.ceil((c.outerWidth(I)-c.width())/2),i.top+=Math.ceil((c.outerHeight(I)-c.height())/2),s.position.left+=i.left,s.position.top+=i.top,s};S.extend(h.prototype,{_scroll:function(){var e=this.qtip.elements.overlay;e&&(e[0].style.top=S(_e).scrollTop()+"px")},init:function(e){var t=e.tooltip;S("select, object").length<1&&(this.bgiframe=e.elements.bgiframe=S('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(t),e._bind(t,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=S("<div/>",{id:x+"-rcontainer"}).appendTo(ye.body),e.elements.overlay&&e.elements.overlay.addClass("qtipmodal-ie6fix")&&(e._bind(_e,["scroll","resize"],this._scroll,this._ns,this),e._bind(t,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var e,t,n=this.qtip.tooltip,i={height:n.outerHeight(I),width:n.outerWidth(I)},o=this.qtip.plugins.tip,a=this.qtip.elements.tip;t={left:-(t=parseInt(n.css("borderLeftWidth"),10)||0),top:-t},o&&a&&(t[(e="x"===o.corner.precedance?[P,L]:[F,j])[1]]-=a[e[0]]()),this.bgiframe.css(t).css(i)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var e,t,n,i,o=this.qtip.tooltip,a=this.qtip.options.style,s=this.qtip.options.position.container;return this.qtip.drawing=1,a.height&&o.css(F,a.height),a.width?o.css(P,a.width):(o.css(P,"").appendTo(this.redrawContainer),(t=o.width())%2<1&&(t+=1),e=-1<((n=o.css("maxWidth")||"")+(i=o.css("minWidth")||"")).indexOf("%")?s.width()/100:0,t=(n=(-1<n.indexOf("%")?e:1*parseInt(n,10))||t)+(i=(-1<i.indexOf("%")?e:1*parseInt(i,10))||0)?Math.min(Math.max(t,i),n):t,o.css(P,Math.round(t)).appendTo(s)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([_e,this.qtip.tooltip],this._ns)}}),(H.ie6=function(e){return 6===Z.ie?new h(e):I}).initialize="render",w.ie6={"^content|style$":function(){this.redraw()}}},"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)}(window,document),function(){var l,n,o,s,a={}.hasOwnProperty;(s=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,o,a,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),s=[],i=0,o=(a=e.childNodes).length;i<o;i++)n=a[i],s.push(this.add_option(n,t,e.disabled));return s},e.prototype.add_option=function(e,t,n){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:!0===n?n:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,n;return null==e||!1===e?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&amp;"})):e},e}()).select_to_array=function(e){var t,n,i,o,a;for(n=new s,i=0,o=(a=e.childNodes).length;i<o;i++)t=a[i],n.add_node(t);return n.parsed},n=function(){function n(e,t){this.form_field=e,this.options=null!=t?t:{},n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return n.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1},n.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},n.prototype.input_blur=function(e){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},n.prototype.results_option_build=function(e){var t,n,i,o,a,s,r;for(t="",a=o=0,s=(r=this.results_data).length;a<s&&(""!==(i=(n=r[a]).group?this.result_add_group(n):this.result_add_option(n))&&(o++,t+=i),(null!=e?e.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(o>=this.max_shown_results));a++);return t},n.prototype.result_add_option=function(e){var t,n;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),(n=document.createElement("li")).className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},n.prototype.result_add_group=function(e){var t,n;return(e.search_match||e.group_match)&&0<e.active_options?((t=[]).push("group-result"),e.classes&&t.push(e.classes),(n=document.createElement("li")).className=t.join(" "),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},n.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},n.prototype.reset_single_select_options=function(){var e,t,n,i,o;for(o=[],t=0,n=(i=this.results_data).length;t<n;t++)(e=i[t]).selected?o.push(e.selected=!1):o.push(void 0);return o},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(){var e,t,n,i,o,a,s,r,l,c,u,h;for(this.no_results_clear(),i=0,e=(a=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(e,"i"),n=this.get_search_regex(e),c=0,u=(h=this.results_data).length;c<u;c++)(t=h[c]).search_match=!1,o=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(0===(o=this.results_data[t.group_array_index]).active_options&&o.search_match&&(i+=1),o.active_options+=1),t.search_text=t.group?t.label:t.html,(!t.group||this.group_search)&&(t.search_match=this.search_string_match(t.search_text,n),t.search_match&&!t.group&&(i+=1),t.search_match?(a.length&&(s=t.search_text.search(l),r=t.search_text.substr(0,s+a.length)+"</em>"+t.search_text.substr(s+a.length),t.search_text=r.substr(0,s)+"<em>"+r.substr(s)),null!=o&&(o.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),i<1&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(e){var t,n;return t=this.search_contains?"":"^",n=this.case_sensitive_search?"":"i",new RegExp(t+e,n)},n.prototype.search_string_match=function(e,t){var n,i,o,a;if(t.test(e))return!0;if(this.enable_split_word_search&&(0<=e.indexOf(" ")||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" ")).length)for(o=0,a=i.length;o<a;o++)if(n=i[o],t.test(n))return!0},n.prototype.choices_count=function(){var e,t,n;if(null!=this.selected_option_count)return this.selected_option_count;for(e=this.selected_option_count=0,t=(n=this.form_field.options).length;e<t;e++)n[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},n.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&0<this.choices_count())return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},n.prototype.clipboard_event_checker=function(e){var t=this;return setTimeout(function(){return t.results_search()},50)},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},n.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},n.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},n.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},n.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:((t=document.createElement("div")).appendChild(e),t.innerHTML)},n.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",n}(),(l=jQuery).fn.extend({chosen:function(i){return n.browser_is_supported()?this.each(function(e){var t,n;return n=(t=l(this)).data("chosen"),"destroy"===i?void(n instanceof o&&n.destroy()):void(n instanceof o||t.data("chosen",new o(this,i)))}):this}}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){function n(){this.constructor=e}for(var i in t)a.call(t,i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,n),t.prototype.setup=function(){return this.form_field_jq=l(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},t.prototype.set_up_html=function(){var e,t;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),t={class:e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(t.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=l("<div />",t),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},t.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},t.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){return t.container_mousedown(e),e.preventDefault()}),this.container.bind("touchend.chosen",function(e){return t.container_mouseup(e),e.preventDefault()}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},t.prototype.destroy=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},t.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},t.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&l(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||l(e.target)[0]!==this.selected_item[0]&&!l(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),l(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},t.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},t.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},t.prototype.blur_test=function(e){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},t.prototype.close_field=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},t.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},t.prototype.test_active_click=function(e){var t;return(t=l(e.target).closest(".chosen-container")).length&&this.container[0]===t[0]?this.active_field=!0:this.close_field()},t.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=s.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},t.prototype.result_do_highlight=function(e){var t,n,i,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),(i=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop())<=(t=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<t-i?t-i:0);if(n<o)return this.search_results.scrollTop(n)}},t.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},t.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},t.prototype.update_results_content=function(e){return this.search_results.html(e)},t.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},t.prototype.set_tab_index=function(e){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},t.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=l("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},t.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},t.prototype.search_results_mouseup=function(e){var t;return(t=l(e.target).hasClass("active-result")?l(e.target):l(e.target).parents(".active-result").first()).length?(this.result_highlight=t,this.result_select(e),this.search_field.focus()):void 0},t.prototype.search_results_mouseover=function(e){var t;return(t=l(e.target).hasClass("active-result")?l(e.target):l(e.target).parents(".active-result").first())?this.result_do_highlight(t):void 0},t.prototype.search_results_mouseout=function(e){return l(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},t.prototype.choice_build=function(e){var t,n,i=this;return t=l("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?t.addClass("search-choice-disabled"):((n=l("<a />",{class:"search-choice-close","data-option-array-index":e.array_index})).bind("click.chosen",function(e){return i.choice_destroy_link_click(e)}),t.append(n)),this.search_container.before(t)},t.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(l(e.target))},t.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},t.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},t.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},t.prototype.result_select=function(e){var t,n;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),(n=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())):void 0},t.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},t.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},t.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},t.prototype.get_search_text=function(){return l("<div/>").text(l.trim(this.search_field.val())).html()},t.prototype.winnow_results_set_highlight=function(){var e,t;return null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first())?this.result_do_highlight(e):void 0},t.prototype.no_results=function(e){var t;return(t=l('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(e),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},t.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},t.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},t.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},t.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},t.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},t.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},t.prototype.search_field_scale=function(){var e,t,n,i,o,a,s,r;if(this.is_multiple){for(i="position:absolute; left: -1000px; top: -1000px; display:none;",s=a=0,r=(o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;s<r;s++)i+=(n=o[s])+":"+this.search_field.css(n)+";";return(e=l("<div />",{style:i})).text(this.search_field.val()),l("body").append(e),a=e.width()+25,e.remove(),(t=this.container.outerWidth())-10<a&&(a=t-10),this.search_field.css({width:a+"px"})}},t}()}.call(this),function(e){var p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"];function m(e){return e<10&&(e="0"+e),e}function g(e){return 11<e?"pm":"am"}function v(e){var t="th";switch(parseInt(e)){case 1:case 21:case 31:t="st";break;case 2:case 22:t="nd";break;case 3:case 23:t="rd"}return t}function b(e){for(var t=new Date(e,0,1);1!=t.getDay();)t.setDate(t.getDate()+1);return t.valueOf()}function _(e){return 0==e?e=24:12<e&&(e-=12),e}e.PHPDate=function(e,t){var n="",i="";e=e.replace(/r/g,"D, j M Y H;i:s O");for(var o=0;o<e.length;o++){switch(n=e.charAt(o)){case"a":n=g(t.getHours());break;case"c":n=t.getFullYear()+"-"+m(t.getMonth())+"-"+m(t.getDate())+"T"+m(t.getHours())+":"+m(t.getMinutes())+":"+m(t.getSeconds()),-1<(u=t.toString().split(" ")[5]).indexOf("-")?n+=u.substr(u.indexOf("-")):-1<u.indexOf("+")?n+=u.substr(u.indexOf("+")):n+="+0000";break;case"d":n=m(t.getDate());break;case"g":n=_(t.getHours());break;case"h":n=m(_(t.getHours()));break;case"i":n=m(t.getMinutes());break;case"j":n=t.getDate();break;case"l":n=p[t.getDay()];break;case"m":n=m(t.getMonth()+1);break;case"n":n=t.getMonth()+1;break;case"o":n=new Date(b(t.getFullYear()))>t?t.getFullYear()-1:t.getFullYear();break;case"s":n=m(t.getSeconds());break;case"t":var a=new Date(t.valueOf());a.setMonth(a.getMonth()+1),a.setDate(0),n=a.getDate();break;case"u":n=t.getMilliseconds();break;case"w":n=t.getDay();break;case"y":n=t.getFullYear().toString().substr(2,2);break;case"z":var s=new Date(t.getFullYear(),0,1,0,0,0,0),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0);n=Math.round((r.valueOf()-s.valueOf())/1e3/60/60/24);break;case"A":n=g(t.getHours()).toUpperCase();break;case"B":n=Math.floor((60*t.getHours()*60*1e3+60*t.getMinutes()*1e3+1e3*t.getSeconds()+t.getMilliseconds())/86400);break;case"D":n=p[t.getDay()].substr(0,3);break;case"F":n=f[t.getMonth()];break;case"G":n=t.getHours();break;case"H":n=m(t.getHours());break;case"I":var l=new Date(t.getFullYear(),0,1),c=((d=new Date(t.getFullYear(),t.getMonth(),t.getDate())).valueOf()-l.valueOf())/1e3/60/60/24;n=c==Math.round(c)?0:1;break;case"L":n=29==new Date(t.getFullYear(),2,0).getDate()?1:0;break;case"M":n=f[t.getMonth()].substr(0,3);break;case"N":n=0==t.getDay()?7:t.getDay();break;case"O":n=-1<(u=t.toString().split(" ")[5]).indexOf("-")?u.substr(u.indexOf("-")):-1<u.indexOf("+")?u.substr(u.indexOf("+")):"+0000";break;case"P":var u;if(-1<(u=t.toString().split(" ")[5]).indexOf("-"))n="-"+(h=u.substr(u.indexOf("-")+1).split(""))[0]+h[1]+":"+h[2]+h[3];else if(-1<u.indexOf("+")){var h;n="+"+(h=u.substr(u.indexOf("+")+1).split(""))[0]+h[1]+":"+h[2]+h[3]}else n="+00:00";break;case"S":n=v(t.getDate());break;case"T":-1<(n=t.toString().split(" ")[5]).indexOf("+")?n=n.substr(0,n.indexOf("+")):-1<n.indexOf("-")&&(n=n.substr(0,n.indexOf("-")));break;case"U":n=Math.floor(t.getTime()/1e3);break;case"W":l=new Date(b(t.getFullYear()));var d=new Date(t.getFullYear(),t.getMonth(),t.getDate());n=Math.ceil(Math.round((d.valueOf()-l.valueOf())/1e3/60/60/24)/7);break;case"Y":n=t.getFullYear();break;case"Z":n=t.getTimezoneOffset()<0?Math.abs(60*t.getTimezoneOffset()):0-60*t.getTimezoneOffset()}i+=n.toString()}return i}}(jQuery),Date.CultureInfo={name:"fr-FR",englishName:"French (France)",nativeName:"franais (France)",dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],abbreviatedDayNames:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],shortestDayNames:["di","lu","ma","me","je","ve","sa"],firstLetterDayNames:["d","l","m","m","j","v","s"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],abbreviatedMonthNames:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],amDesignator:"",pmDesignator:"",firstDayOfWeek:1,twoDigitYearMax:2029,dateElementOrder:"dmy",formatPatterns:{shortDate:"dd/MM/yyyy",longDate:"dddd d MMMM yyyy",shortTime:"HH:mm",longTime:"HH:mm:ss",fullDateTime:"dddd d MMMM yyyy HH:mm:ss",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"d MMMM",yearMonth:"MMMM yyyy"},regexPatterns:{jan:/^janv(.(ier)?)?/i,feb:/^fvr(.(ier)?)?/i,mar:/^mars/i,apr:/^avr(.(il)?)?/i,may:/^mai/i,jun:/^juin/i,jul:/^juil(.(let)?)?/i,aug:/^aot/i,sep:/^sept(.(embre)?)?/i,oct:/^oct(.(obre)?)?/i,nov:/^nov(.(embre)?)?/i,dec:/^dc(.(embre)?)?/i,sun:/^di(m(.(anche)?)?)?/i,mon:/^lu(n(.(di)?)?)?/i,tue:/^ma(r(.(di)?)?)?/i,wed:/^me(r(.(credi)?)?)?/i,thu:/^je(u(.(di)?)?)?/i,fri:/^ve(n(.(dredi)?)?)?/i,sat:/^sa(m(.(edi)?)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(e){for(var t=Date.CultureInfo.monthNames,n=Date.CultureInfo.abbreviatedMonthNames,i=e.toLowerCase(),o=0;o<t.length;o++)if(t[o].toLowerCase()==i||n[o].toLowerCase()==i)return o;return-1},Date.getDayNumberFromName=function(e){for(var t=Date.CultureInfo.dayNames,n=Date.CultureInfo.abbreviatedDayNames,i=(Date.CultureInfo.shortestDayNames,e.toLowerCase()),o=0;o<t.length;o++)if(t[o].toLowerCase()==i||n[o].toLowerCase()==i)return o;return-1},Date.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},Date.getDaysInMonth=function(e,t){return[31,Date.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},Date.getTimezoneOffset=function(e,t){return t?Date.CultureInfo.abbreviatedTimeZoneDST[e.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[e.toUpperCase()]},Date.getTimezoneAbbreviation=function(e,t){var n,i=t?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(n in i)if(i[n]===e)return n;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(e){if(isNaN(this))throw new Error(this);if(e instanceof Date&&!isNaN(e))return e<this?1:this<e?-1:0;throw new TypeError(e)},Date.prototype.equals=function(e){return 0===this.compareTo(e)},Date.prototype.between=function(e,t){var n=this.getTime();return n>=e.getTime()&&n<=t.getTime()},Date.prototype.addMilliseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+e),this},Date.prototype.addSeconds=function(e){return this.addMilliseconds(1e3*e)},Date.prototype.addMinutes=function(e){return this.addMilliseconds(6e4*e)},Date.prototype.addHours=function(e){return this.addMilliseconds(36e5*e)},Date.prototype.addDays=function(e){return this.addMilliseconds(864e5*e)},Date.prototype.addWeeks=function(e){return this.addMilliseconds(6048e5*e)},Date.prototype.addMonths=function(e){var t=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(t,this.getDaysInMonth())),this},Date.prototype.addYears=function(e){return this.addMonths(12*e)},Date.prototype.add=function(e){if("number"==typeof e)return this._orient=e,this;var t=e;return(t.millisecond||t.milliseconds)&&this.addMilliseconds(t.millisecond||t.milliseconds),(t.second||t.seconds)&&this.addSeconds(t.second||t.seconds),(t.minute||t.minutes)&&this.addMinutes(t.minute||t.minutes),(t.hour||t.hours)&&this.addHours(t.hour||t.hours),(t.month||t.months)&&this.addMonths(t.month||t.months),(t.year||t.years)&&this.addYears(t.year||t.years),(t.day||t.days)&&this.addDays(t.day||t.days),this},Date._validate=function(e,t,n,i){if("number"!=typeof e)throw new TypeError(e+" is not a Number.");if(e<t||n<e)throw new RangeError(e+" is not a valid value for "+i+".");return!0},Date.validateMillisecond=function(e){return Date._validate(e,0,999,"milliseconds")},Date.validateSecond=function(e){return Date._validate(e,0,59,"seconds")},Date.validateMinute=function(e){return Date._validate(e,0,59,"minutes")},Date.validateHour=function(e){return Date._validate(e,0,23,"hours")},Date.validateDay=function(e,t,n){return Date._validate(e,1,Date.getDaysInMonth(t,n),"days")},Date.validateMonth=function(e){return Date._validate(e,0,11,"months")},Date.validateYear=function(e){return Date._validate(e,1,9999,"seconds")},Date.prototype.set=function(e){var t=e;return t.millisecond||0===t.millisecond||(t.millisecond=-1),t.second||0===t.second||(t.second=-1),t.minute||0===t.minute||(t.minute=-1),t.hour||0===t.hour||(t.hour=-1),t.day||0===t.day||(t.day=-1),t.month||0===t.month||(t.month=-1),t.year||0===t.year||(t.year=-1),-1!=t.millisecond&&Date.validateMillisecond(t.millisecond)&&this.addMilliseconds(t.millisecond-this.getMilliseconds()),-1!=t.second&&Date.validateSecond(t.second)&&this.addSeconds(t.second-this.getSeconds()),-1!=t.minute&&Date.validateMinute(t.minute)&&this.addMinutes(t.minute-this.getMinutes()),-1!=t.hour&&Date.validateHour(t.hour)&&this.addHours(t.hour-this.getHours()),-1!==t.month&&Date.validateMonth(t.month)&&this.addMonths(t.month-this.getMonth()),-1!=t.year&&Date.validateYear(t.year)&&this.addYears(t.year-this.getFullYear()),-1!=t.day&&Date.validateDay(t.day,this.getFullYear(),this.getMonth())&&this.addDays(t.day-this.getDate()),t.timezone&&this.setTimezone(t.timezone),t.timezoneOffset&&this.setTimezoneOffset(t.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return e%4==0&&e%100!=0||e%400==0},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(e,t){var n=(e-this.getDay()+7*(t||1))%7;return this.addDays(0===n?n+=7*(t||1):n)},Date.prototype.moveToMonth=function(e,t){var n=(e-this.getMonth()+12*(t||1))%12;return this.addMonths(0===n?n+=12*(t||1):n)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(e){var t=this.getFullYear(),n=this.getMonth(),i=this.getDate(),o=e||Date.CultureInfo.firstDayOfWeek,a=8-new Date(t,0,1).getDay();8==a&&(a=1);var s=(Date.UTC(t,n,i,0,0,0)-Date.UTC(t,0,1,0,0,0))/864e5+1,r=Math.floor((s-a+7)/7);if(r===o){t--;var l=8-new Date(t,0,1).getDay();r=2==l||8==l?53:52}return r},Date.prototype.isDST=function(){return console.log("isDST"),"D"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(e){var t=this.getTimezoneOffset(),n=-6*Number(e)/10;return this.addMinutes(n-t),this},Date.prototype.setTimezone=function(e){return this.setTimezoneOffset(Date.getTimezoneOffset(e))},Date.prototype.getUTCOffset=function(){var e,t=-10*this.getTimezoneOffset()/6;return t<0?(e=(t-1e4).toString())[0]+e.substr(2):"+"+(e=(t+1e4).toString()).substr(1)},Date.prototype.getDayName=function(e){return e?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(e){return e?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},null==Date.prototype._toString&&(Date.prototype._toString=Date.prototype.toString),Date.prototype.toString=function(e){var t=this,n=function(e){return 1==e.toString().length?"0"+e:e};return e?e.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(e){switch(e){case"hh":return n(t.getHours()<13?t.getHours():t.getHours()-12);case"h":return t.getHours()<13?t.getHours():t.getHours()-12;case"HH":return n(t.getHours());case"H":return t.getHours();case"mm":return n(t.getMinutes());case"m":return t.getMinutes();case"ss":return n(t.getSeconds());case"s":return t.getSeconds();case"yyyy":return t.getFullYear();case"yy":return t.getFullYear().toString().substring(2,4);case"dddd":return t.getDayName();case"ddd":return t.getDayName(!0);case"dd":return n(t.getDate());case"d":return t.getDate().toString();case"MMMM":return t.getMonthName();case"MMM":return t.getMonthName(!0);case"MM":return n(t.getMonth()+1);case"M":return t.getMonth()+1;case"t":return t.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return t.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var e={};return e[this._dateElement]=this,Date.now().add(e)},Number.prototype.ago=function(){var e={};return e[this._dateElement]=-1*this,Date.now().add(e)},function(){for(var e,t=Date.prototype,n=Number.prototype,i="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),o="january february march april may june july august september october november december".split(/\s/),a="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),s=function(e){return function(){return this._is?(this._is=!1,this.getDay()==e):this.moveToDayOfWeek(e,this._orient)}},r=0;r<i.length;r++)t[i[r]]=t[i[r].substring(0,3)]=s(r);for(var l=function(e){return function(){return this._is?(this._is=!1,this.getMonth()===e):this.moveToMonth(e,this._orient)}},c=0;c<o.length;c++)t[o[c]]=t[o[c].substring(0,3)]=l(c);for(var u=function(e){return function(){return"s"!=e.substring(e.length-1)&&(e+="s"),this["add"+e](this._orient)}},h=function(e){return function(){return this._dateElement=e,this}},d=0;d<a.length;d++)t[e=a[d].toLowerCase()]=t[e+"s"]=u(a[d]),n[e]=n[e+"s"]=h(e)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){Date.Parsing={Exception:function(e){this.message="Parse error at '"+e.substring(0,10)+" ...'"}};for(var p=Date.Parsing,f=p.Operators={rtoken:function(n){return function(e){var t=e.match(n);if(t)return[t[0],e.substring(t[0].length)];throw new p.Exception(e)}},token:function(e){return function(e){return f.rtoken(new RegExp("^s*"+e+"s*"))(e)}},stoken:function(e){return f.rtoken(new RegExp("^"+e))},until:function(e){return function(t){for(var n=[],i=null;t.length;){try{i=e.call(this,t)}catch(e){n.push(i[0]),t=i[1];continue}break}return[n,t]}},many:function(i){return function(t){for(var n=[],e=null;t.length;){try{e=i.call(this,t)}catch(e){return[n,t]}n.push(e[0]),t=e[1]}return[n,t]}},optional:function(n){return function(t){var e=null;try{e=n.call(this,t)}catch(e){return[null,t]}return[e[0],e[1]]}},not:function(e){return function(t){try{e.call(this,t)}catch(e){return[null,t]}throw new p.Exception(t)}},ignore:function(t){return t?function(e){return[null,t.call(this,e)[1]]}:null},product:function(){for(var e=arguments[0],t=Array.prototype.slice.call(arguments,1),n=[],i=0;i<e.length;i++)n.push(f.each(e[i],t));return n},cache:function(e){var n={},i=null;return function(t){try{i=n[t]=n[t]||e.call(this,t)}catch(e){i=n[t]=e}if(i instanceof p.Exception)throw i;return i}},any:function(){var i=arguments;return function(e){for(var t=null,n=0;n<i.length;n++)if(null!=i[n]){try{t=i[n].call(this,e)}catch(e){t=null}if(t)return t}throw new p.Exception(e)}},each:function(){var o=arguments;return function(t){for(var e=[],n=null,i=0;i<o.length;i++)if(null!=o[i]){try{n=o[i].call(this,t)}catch(e){throw new p.Exception(t)}e.push(n[0]),t=n[1]}return[e,t]}},all:function(){var e=arguments,t=t;return t.each(t.optional(e))},sequence:function(a,s,r){return s=s||f.rtoken(/^\s*/),r=r||null,1==a.length?a[0]:function(e){for(var t=null,n=null,i=[],o=0;o<a.length;o++){try{t=a[o].call(this,e)}catch(e){break}i.push(t[0]);try{n=s.call(this,t[1])}catch(e){n=null;break}e=n[1]}if(!t)throw new p.Exception(e);if(n)throw new p.Exception(n[1]);if(r)try{t=r.call(this,t[1])}catch(e){throw new p.Exception(t[1])}return[i,t?t[1]:e]}},between:function(e,t,n){n=n||e;var i=f.each(f.ignore(e),t,f.ignore(n));return function(e){var t=i.call(this,e);return[[t[0][0],r[0][2]],t[1]]}},list:function(e,t,n){return t=t||f.rtoken(/^\s*/),n=n||null,e instanceof Array?f.each(f.product(e.slice(0,-1),f.ignore(t)),e.slice(-1),f.ignore(n)):f.each(f.many(f.each(e,f.ignore(t))),px,f.ignore(n))},set:function(u,h,d){return h=h||f.rtoken(/^\s*/),d=d||null,function(e){for(var t=null,n=null,i=null,o=null,a=[[],e],s=!1,r=0;r<u.length;r++){t=n=i=null,s=1==u.length;try{t=u[r].call(this,e)}catch(e){continue}if(o=[[t[0]],t[1]],0<t[1].length&&!s)try{i=h.call(this,t[1])}catch(e){s=!0}else s=!0;if(s||0!==i[1].length||(s=!0),!s){for(var l=[],c=0;c<u.length;c++)r!=c&&l.push(u[c]);0<(n=f.set(l,h).call(this,i[1]))[0].length&&(o[0]=o[0].concat(n[0]),o[1]=n[1])}if(o[1].length<a[1].length&&(a=o),0===a[1].length)break}if(0===a[0].length)return a;if(d){try{i=d.call(this,a[1])}catch(e){throw new p.Exception(a[1])}a[1]=i[1]}return a}},forward:function(t,n){return function(e){return t[n].call(this,e)}},replace:function(n,i){return function(e){var t=n.call(this,e);return[i,t[1]]}},process:function(n,i){return function(e){var t=n.call(this,e);return[i.call(this,t[0]),t[1]]}},min:function(n,i){return function(e){var t=i.call(this,e);if(t[0].length<n)throw new p.Exception(e);return t}}},e=function(o){return function(){var e=null,t=[];if(1<arguments.length?e=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(e=arguments[0]),!e)return o.apply(null,arguments);for(var n=0,i=e.shift();n<i.length;n++)return e.unshift(i[n]),t.push(o.apply(null,e)),e.shift(),t}},t="optional not ignore cache".split(/\s/),n=0;n<t.length;n++)f[t[n]]=e(f[t[n]]);for(var i=function(e){return function(){return arguments[0]instanceof Array?e.apply(null,arguments[0]):e.apply(null,arguments)}},o="each any all".split(/\s/),a=0;a<o.length;a++)f[o[a]]=i(f[o[a]])}(),function(){var s=function(e){for(var t=[],n=0;n<e.length;n++)e[n]instanceof Array?t=t.concat(s(e[n])):e[n]&&t.push(e[n]);return t};Date.Grammar={},Date.Translator={hour:function(e){return function(){this.hour=Number(e)}},minute:function(e){return function(){this.minute=Number(e)}},second:function(e){return function(){this.second=Number(e)}},meridian:function(e){return function(){this.meridian=e.slice(0,1).toLowerCase()}},timezone:function(t){return function(){var e=t.replace(/[^\d\+\-]/g,"");e.length?this.timezoneOffset=Number(e):this.timezone=t.toLowerCase()}},day:function(e){var t=e[0];return function(){this.day=Number(t.match(/\d+/)[0])}},month:function(e){return function(){this.month=3==e.length?Date.getMonthNumberFromName(e):Number(e)-1}},year:function(t){return function(){var e=Number(t);this.year=2<t.length?e:e+(e+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(e){return function(){switch(e){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(e){e=e instanceof Array?e:[e];var t=new Date;this.year=t.getFullYear(),this.month=t.getMonth(),this.day=1,this.hour=0,this.minute=0;for(var n=this.second=0;n<e.length;n++)e[n]&&e[n].call(this);if(this.hour="p"==this.meridian&&this.hour<13?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var i=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?i.set({timezone:this.timezone}):this.timezoneOffset&&i.set({timezoneOffset:this.timezoneOffset}),i},finish:function(e){if(0===(e=e instanceof Array?s(e):[e]).length)return null;for(var t=0;t<e.length;t++)"function"==typeof e[t]&&e[t].call(this);if(this.now)return new Date;var n,i,o,a=Date.today();return!(null==this.days&&!this.orient&&!this.operator)?(o="past"==this.orient||"subtract"==this.operator?-1:1,this.weekday&&(this.unit="day",n=Date.getDayNumberFromName(this.weekday)-a.getDay(),i=7,this.days=n?(n+o*i)%i:o*i),this.month&&(this.unit="month",n=this.month-a.getMonth(),i=12,this.months=n?(n+o*i)%i:o*i,this.month=null),this.unit||(this.unit="day"),null!=this[this.unit+"s"]&&null==this.operator||(this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value=7*this.value),this[this.unit+"s"]=this.value*o),a.add(this)):(this.meridian&&this.hour&&(this.hour=this.hour<13&&"p"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=a.addDays(Date.getDayNumberFromName(this.weekday)-a.getDay()).getDate()),this.month&&!this.day&&(this.day=1),a.set(this))}};var e,r=Date.Parsing.Operators,n=Date.Grammar,t=Date.Translator;n.datePartDelimiter=r.rtoken(/^([\s\-\.\,\/\x27]+)/),n.timePartDelimiter=r.stoken(":"),n.whiteSpace=r.rtoken(/^\s*/),n.generalDelimiter=r.rtoken(/^(([\s\,]|at|on)+)/);var l={};n.ctoken=function(e){var t=l[e];if(!t){for(var n=Date.CultureInfo.regexPatterns,i=e.split(/\s+/),o=[],a=0;a<i.length;a++)o.push(r.replace(r.rtoken(n[i[a]]),i[a]));t=l[e]=r.any.apply(null,o)}return t},n.ctoken2=function(e){return r.rtoken(Date.CultureInfo.regexPatterns[e])},n.h=r.cache(r.process(r.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),t.hour)),n.hh=r.cache(r.process(r.rtoken(/^(0[0-9]|1[0-2])/),t.hour)),n.H=r.cache(r.process(r.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),t.hour)),n.HH=r.cache(r.process(r.rtoken(/^([0-1][0-9]|2[0-3])/),t.hour)),n.m=r.cache(r.process(r.rtoken(/^([0-5][0-9]|[0-9])/),t.minute)),n.mm=r.cache(r.process(r.rtoken(/^[0-5][0-9]/),t.minute)),n.s=r.cache(r.process(r.rtoken(/^([0-5][0-9]|[0-9])/),t.second)),n.ss=r.cache(r.process(r.rtoken(/^[0-5][0-9]/),t.second)),n.hms=r.cache(r.sequence([n.H,n.mm,n.ss],n.timePartDelimiter)),n.t=r.cache(r.process(n.ctoken2("shortMeridian"),t.meridian)),n.tt=r.cache(r.process(n.ctoken2("longMeridian"),t.meridian)),n.z=r.cache(r.process(r.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),t.timezone)),n.zz=r.cache(r.process(r.rtoken(/^(\+|\-)\s*\d\d\d\d/),t.timezone)),n.zzz=r.cache(r.process(n.ctoken2("timezone"),t.timezone)),n.timeSuffix=r.each(r.ignore(n.whiteSpace),r.set([n.tt,n.zzz])),n.time=r.each(r.optional(r.ignore(r.stoken("T"))),n.hms,n.timeSuffix),n.d=r.cache(r.process(r.each(r.rtoken(/^([0-2]\d|3[0-1]|\d)/),r.optional(n.ctoken2("ordinalSuffix"))),t.day)),n.dd=r.cache(r.process(r.each(r.rtoken(/^([0-2]\d|3[0-1])/),r.optional(n.ctoken2("ordinalSuffix"))),t.day)),n.ddd=n.dddd=r.cache(r.process(n.ctoken("sun mon tue wed thu fri sat"),function(e){return function(){this.weekday=e}})),n.M=r.cache(r.process(r.rtoken(/^(1[0-2]|0\d|\d)/),t.month)),n.MM=r.cache(r.process(r.rtoken(/^(1[0-2]|0\d)/),t.month)),n.MMM=n.MMMM=r.cache(r.process(n.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),t.month)),n.y=r.cache(r.process(r.rtoken(/^(\d\d?)/),t.year)),n.yy=r.cache(r.process(r.rtoken(/^(\d\d)/),t.year)),n.yyy=r.cache(r.process(r.rtoken(/^(\d\d?\d?\d?)/),t.year)),n.yyyy=r.cache(r.process(r.rtoken(/^(\d\d\d\d)/),t.year)),e=function(){return r.each(r.any.apply(null,arguments),r.not(n.ctoken2("timeContext")))},n.day=e(n.d,n.dd),n.month=e(n.M,n.MMM),n.year=e(n.yyyy,n.yy),n.orientation=r.process(n.ctoken("past future"),function(e){return function(){this.orient=e}}),n.operator=r.process(n.ctoken("add subtract"),function(e){return function(){this.operator=e}}),n.rday=r.process(n.ctoken("yesterday tomorrow today now"),t.rday),n.unit=r.process(n.ctoken("minute hour day week month year"),function(e){return function(){this.unit=e}}),n.value=r.process(r.rtoken(/^\d\d?(st|nd|rd|th)?/),function(e){return function(){this.value=e.replace(/\D/g,"")}}),n.expression=r.set([n.rday,n.operator,n.value,n.unit,n.orientation,n.ddd,n.MMM]),e=function(){return r.set(arguments,n.datePartDelimiter)},n.mdy=e(n.ddd,n.month,n.day,n.year),n.ymd=e(n.ddd,n.year,n.month,n.day),n.dmy=e(n.ddd,n.day,n.month,n.year),n.date=function(e){return(n[Date.CultureInfo.dateElementOrder]||n.mdy).call(this,e)},n.format=r.process(r.many(r.any(r.process(r.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(e){if(n[e])return n[e];throw Date.Parsing.Exception(e)}),r.process(r.rtoken(/^[^dMyhHmstz]+/),function(e){return r.ignore(r.stoken(e))}))),function(e){return r.process(r.each.apply(null,e),t.finishExact)});var i={},o=function(e){return i[e]=i[e]||n.format(e)[0]};n.formats=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(o(e[n]));return r.any.apply(null,t)}return o(e)},n._formats=n.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),n._start=r.process(r.set([n.date,n.time,n.expression],n.generalDelimiter,n.whiteSpace),t.finish),n.start=function(e){try{var t=n._formats.call({},e);if(0===t[1].length)return t}catch(e){}return n._start.call({},e)}}(),Date._parse=Date.parse,Date.parse=function(e){var t=null;if(!e)return null;try{t=Date.Grammar.start.call({},e)}catch(e){return null}return 0===t[1].length?t[0]:null},Date.getParseFunction=function(e){var n=Date.Grammar.formats(e);return function(e){var t=null;try{t=n.call({},e)}catch(e){return null}return 0===t[1].length?t[0]:null}},Date.parseExact=function(e,t){return Date.getParseFunction(t)(e)},jQuery.download=function(e,t,n){if(e&&t){t="string"==typeof t?t:jQuery.param(t);var i="";jQuery.each(t.split("&"),function(){var e=this.split("=");e[0]=decodeURIComponent(e[0].replace("+","%20")),e[1]=decodeURIComponent(e[1].replace("+","%20")),i+='<input type="hidden" name="'+e[0]+'" value="'+e[1]+'" />'}),jQuery('<form target="_blank" action="'+e+'" method="'+(n||"post")+'">'+i+"</form>").appendTo("body").submit().remove()}},function(E){var v={};function n(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),E(this).ajaxSubmit(t))}function i(e){var t=e.target,n=E(t);if(!n.is(":submit,input:image")){var i=n.closest(":submit");if(0===i.length)return;t=i[0]}var o=this;if("image"==(o.clk=t).type)if(void 0!==e.offsetX)o.clk_x=e.offsetX,o.clk_y=e.offsetY;else if("function"==typeof E.fn.offset){var a=n.offset();o.clk_x=e.pageX-a.left,o.clk_y=e.pageY-a.top}else o.clk_x=e.pageX-t.offsetLeft,o.clk_y=e.pageY-t.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function A(){if(E.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}v.fileapi=void 0!==E("<input type='file'/>").get(0).files,v.formdata=void 0!==window.FormData,E.fn.ajaxSubmit=function(P){if(!this.length)return A("ajaxSubmit: skipping submit process - no element selected"),this;var F,e,t,j=this;"function"==typeof P&&(P={success:P}),F=this.attr("method"),(t=(t="string"==typeof(e=this.attr("action"))?E.trim(e):"")||window.location.href||"")&&(t=(t.match(/^([^#]+)/)||[])[1]),P=E.extend(!0,{url:t,success:E.ajaxSettings.success,type:F||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},P);var n={};if(this.trigger("form-pre-serialize",[this,P,n]),n.veto)return A("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(P.beforeSerialize&&!1===P.beforeSerialize(this,P))return A("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var i=P.traditional;void 0===i&&(i=E.ajaxSettings.traditional);var o,L=[],a=this.formToArray(P.semantic,L);if(P.data&&(P.extraData=P.data,o=E.param(P.data,i)),P.beforeSubmit&&!1===P.beforeSubmit(a,this,P))return A("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[a,this,P,n]),n.veto)return A("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var s=E.param(a,i);o&&(s=s?s+"&"+o:o),"GET"==P.type.toUpperCase()?(P.url+=(0<=P.url.indexOf("?")?"&":"?")+s,P.data=null):P.data=s;var r=[];if(P.resetForm&&r.push(function(){j.resetForm()}),P.clearForm&&r.push(function(){j.clearForm(P.includeHidden)}),!P.dataType&&P.target){var l=P.success||function(){};r.push(function(e){var t=P.replaceTarget?"replaceWith":"html";E(P.target)[t](e).each(l,arguments)})}else P.success&&r.push(P.success);P.success=function(e,t,n){for(var i=P.context||this,o=0,a=r.length;o<a;o++)r[o].apply(i,[e,t,n||j,j])};var c=0<E("input:file:enabled[value]",this).length,u="multipart/form-data",h=j.attr("enctype")==u||j.attr("encoding")==u,d=v.fileapi&&v.formdata;A("fileAPI :"+d);var p,f=(c||h)&&!d;!1!==P.iframe&&(P.iframe||f)?P.closeKeepAlive?E.get(P.closeKeepAlive,function(){p=g(a)}):p=g(a):p=(c||h)&&d?function(e){for(var n=new FormData,t=0;t<e.length;t++)n.append(e[t].name,e[t].value);if(P.extraData){var i=function(e){var t,n,i=E.param(e).split("&"),o=i.length,a={};for(t=0;t<o;t++)n=i[t].split("="),a[decodeURIComponent(n[0])]=decodeURIComponent(n[1]);return a}(P.extraData);for(var o in i)i.hasOwnProperty(o)&&n.append(o,i[o])}P.data=null;var a=E.extend(!0,{},E.ajaxSettings,P,{contentType:!1,processData:!1,cache:!1,type:F||"POST"});P.uploadProgress&&(a.xhr=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&(e.upload.onprogress=function(e){var t=0,n=e.loaded||e.position,i=e.total;e.lengthComputable&&(t=Math.ceil(n/i*100)),P.uploadProgress(e,n,i,t)}),e});a.data=null;var s=a.beforeSend;return a.beforeSend=function(e,t){t.data=n,s&&s.call(this,e,t)},E.ajax(a)}(a):E.ajax(P),j.removeData("jqxhr").data("jqxhr",p);for(var m=0;m<L.length;m++)L[m]=null;return this.trigger("form-submit-notify",[this,P]),this;function g(e){var t,n,u,h,o,d,p,f,i,a,m,g,s=j[0],r=!!E.fn.prop,v=E.Deferred();if(E(":input[name=submit],:input[id=submit]",s).length)return alert('Error: Form elements must not have name or id of "submit".'),v.reject(),v;if(e)for(n=0;n<L.length;n++)t=E(L[n]),r?t.prop("disabled",!1):t.removeAttr("disabled");if((u=E.extend(!0,{},E.ajaxSettings,P)).context=u.context||u,o="jqFormIO"+(new Date).getTime(),u.iframeTarget?(a=(d=E(u.iframeTarget)).attr("name"))?o=a:d.attr("name",o):(d=E('<iframe name="'+o+'" src="'+u.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),p=d[0],f={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";if(A("aborting upload... "+t),this.aborted=1,p.contentWindow.document.execCommand)try{p.contentWindow.document.execCommand("Stop")}catch(e){}d.attr("src",u.iframeSrc),f.error=t,u.error&&u.error.call(u.context,f,t,e),h&&E.event.trigger("ajaxError",[f,u,t]),u.complete&&u.complete.call(u.context,f,t)}},(h=u.global)&&0==E.active++&&E.event.trigger("ajaxStart"),h&&E.event.trigger("ajaxSend",[f,u]),u.beforeSend&&!1===u.beforeSend.call(u.context,f,u))return u.global&&E.active--,v.reject(),v;if(f.aborted)return v.reject(),v;(i=s.clk)&&(a=i.name)&&!i.disabled&&(u.extraData=u.extraData||{},u.extraData[a]=i.value,"image"==i.type&&(u.extraData[a+".x"]=s.clk_x,u.extraData[a+".y"]=s.clk_y));var b=1,_=2;function y(e){return e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document}var l=E("meta[name=csrf-token]").attr("content"),c=E("meta[name=csrf-param]").attr("content");function w(){var e=j.attr("target"),t=j.attr("action");s.setAttribute("target",o),F||s.setAttribute("method","POST"),t!=u.url&&s.setAttribute("action",u.url),u.skipEncodingOverride||F&&!/post/i.test(F)||j.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),u.timeout&&(g=setTimeout(function(){m=!0,k(b)},u.timeout));var n=[];try{if(u.extraData)for(var i in u.extraData)u.extraData.hasOwnProperty(i)&&(E.isPlainObject(u.extraData[i])&&u.extraData[i].hasOwnProperty("name")&&u.extraData[i].hasOwnProperty("value")?n.push(E('<input type="hidden" name="'+u.extraData[i].name+'">').attr("value",u.extraData[i].value).appendTo(s)[0]):n.push(E('<input type="hidden" name="'+i+'">').attr("value",u.extraData[i]).appendTo(s)[0]));u.iframeTarget||(d.appendTo("body"),p.attachEvent?p.attachEvent("onload",k):p.addEventListener("load",k,!1)),setTimeout(function e(){try{var t=y(p).readyState;A("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){A("Server abort: ",e," (",e.name,")"),k(_),g&&clearTimeout(g),g=void 0}},15),s.submit()}finally{s.setAttribute("action",t),e?s.setAttribute("target",e):j.removeAttr("target"),E(n).remove()}}c&&l&&(u.extraData=u.extraData||{},u.extraData[c]=l),u.forceSync?w():setTimeout(w,10);var C,D,x,T=50;function k(t){if(!f.aborted&&!x){try{D=y(p)}catch(e){A("cannot access response document: ",e),t=_}if(t===b&&f)return f.abort("timeout"),void v.reject(f,"timeout");if(t==_&&f)return f.abort("server abort"),void v.reject(f,"error","server abort");if(D&&D.location.href!=u.iframeSrc||m){p.detachEvent?p.detachEvent("onload",k):p.removeEventListener("load",k,!1);var e,n="success";try{if(m)throw"timeout";var i="xml"==u.dataType||D.XMLDocument||E.isXMLDoc(D);if(A("isXml="+i),!i&&window.opera&&(null===D.body||!D.body.innerHTML)&&--T)return A("requeing onLoad callback, DOM not available"),void setTimeout(k,250);var o=D.body?D.body:D.documentElement;f.responseText=o?o.innerHTML:null,f.responseXML=D.XMLDocument?D.XMLDocument:D,i&&(u.dataType="xml"),f.getResponseHeader=function(e){return{"content-type":u.dataType}[e]},o&&(f.status=Number(o.getAttribute("status"))||f.status,f.statusText=o.getAttribute("statusText")||f.statusText);var a=(u.dataType||"").toLowerCase(),s=/(json|script|text)/.test(a);if(s||u.textarea){var r=D.getElementsByTagName("textarea")[0];if(r)f.responseText=r.value,f.status=Number(r.getAttribute("status"))||f.status,f.statusText=r.getAttribute("statusText")||f.statusText;else if(s){var l=D.getElementsByTagName("pre")[0],c=D.getElementsByTagName("body")[0];l?f.responseText=l.textContent?l.textContent:l.innerText:c&&(f.responseText=c.textContent?c.textContent:c.innerText)}}else"xml"==a&&!f.responseXML&&f.responseText&&(f.responseXML=S(f.responseText));try{C=I(f,a,u)}catch(t){n="parsererror",f.error=e=t||n}}catch(t){A("error caught: ",t),n="error",f.error=e=t||n}f.aborted&&(A("upload aborted"),n=null),f.status&&(n=200<=f.status&&f.status<300||304===f.status?"success":"error"),"success"===n?(u.success&&u.success.call(u.context,C,"success",f),v.resolve(f.responseText,"success",f),h&&E.event.trigger("ajaxSuccess",[f,u])):n&&(void 0===e&&(e=f.statusText),u.error&&u.error.call(u.context,f,n,e),v.reject(f,"error",e),h&&E.event.trigger("ajaxError",[f,u,e])),h&&E.event.trigger("ajaxComplete",[f,u]),h&&!--E.active&&E.event.trigger("ajaxStop"),u.complete&&u.complete.call(u.context,f,n),x=!0,u.timeout&&clearTimeout(g),setTimeout(function(){u.iframeTarget||d.remove(),f.responseXML=null},100)}}}var S=E.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},M=E.parseJSON||function(e){return window.eval("("+e+")")},I=function(e,t,n){var i=e.getResponseHeader("content-type")||"",o="xml"===t||!t&&0<=i.indexOf("xml"),a=o?e.responseXML:e.responseText;return o&&"parsererror"===a.documentElement.nodeName&&E.error&&E.error("parsererror"),n&&n.dataFilter&&(a=n.dataFilter(a,t)),"string"==typeof a&&("json"===t||!t&&0<=i.indexOf("json")?a=M(a):("script"===t||!t&&0<=i.indexOf("javascript"))&&E.globalEval(a)),a};return v}},E.fn.ajaxForm=function(e){if((e=e||{}).delegation=e.delegation&&E.isFunction(E.fn.on),e.delegation||0!==this.length)return e.delegation?(E(document).off("submit.form-plugin",this.selector,n).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,e,n).on("click.form-plugin",this.selector,e,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,n).bind("click.form-plugin",e,i);var t={s:this.selector,c:this.context};return!E.isReady&&t.s?(A("DOM not ready, queuing ajaxForm"),E(function(){E(t.s,t.c).ajaxForm(e)})):A("terminating; zero elements found by selector"+(E.isReady?"":" (DOM not ready)")),this},E.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},E.fn.formToArray=function(e,t){var n=[];if(0===this.length)return n;var i,o,a,s,r,l,c,u=this[0],h=e?u.getElementsByTagName("*"):u.elements;if(!h)return n;for(i=0,l=h.length;i<l;i++)if(a=(r=h[i]).name)if(e&&u.clk&&"image"==r.type)r.disabled||u.clk!=r||(n.push({name:a,value:E(r).val(),type:r.type}),n.push({name:a+".x",value:u.clk_x},{name:a+".y",value:u.clk_y}));else if((s=E.fieldValue(r,!0))&&s.constructor==Array)for(t&&t.push(r),o=0,c=s.length;o<c;o++)n.push({name:a,value:s[o]});else if(v.fileapi&&"file"==r.type&&!r.disabled){t&&t.push(r);var d=r.files;if(d.length)for(o=0;o<d.length;o++)n.push({name:a,value:d[o],type:r.type});else n.push({name:a,value:"",type:r.type})}else null!=s&&(t&&t.push(r),n.push({name:a,value:s,type:r.type,required:r.required}));if(!e&&u.clk){var p=E(u.clk),f=p[0];(a=f.name)&&!f.disabled&&"image"==f.type&&(n.push({name:a,value:p.val()}),n.push({name:a+".x",value:u.clk_x},{name:a+".y",value:u.clk_y}))}return n},E.fn.formSerialize=function(e){return E.param(this.formToArray(e))},E.fn.fieldSerialize=function(o){var a=[];return this.each(function(){var e=this.name;if(e){var t=E.fieldValue(this,o);if(t&&t.constructor==Array)for(var n=0,i=t.length;n<i;n++)a.push({name:e,value:t[n]});else null!=t&&a.push({name:this.name,value:t})}}),E.param(a)},E.fn.fieldValue=function(e){for(var t=[],n=0,i=this.length;n<i;n++){var o=this[n],a=E.fieldValue(o,e);null==a||a.constructor==Array&&!a.length||(a.constructor==Array?E.merge(t,a):t.push(a))}return t},E.fieldValue=function(e,t){var n=e.name,i=e.type,o=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!n||e.disabled||"reset"==i||"button"==i||("checkbox"==i||"radio"==i)&&!e.checked||("submit"==i||"image"==i)&&e.form&&e.form.clk!=e||"select"==o&&-1==e.selectedIndex))return null;if("select"!=o)return E(e).val();var a=e.selectedIndex;if(a<0)return null;for(var s=[],r=e.options,l="select-one"==i,c=l?a+1:r.length,u=l?a:0;u<c;u++){var h=r[u];if(h.selected){var d=h.value;if(d||(d=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),l)return d;s.push(d)}}return s},E.fn.clearForm=function(e){return this.each(function(){E("input,select,textarea",this).clearFields(e)})},E.fn.clearFields=E.fn.clearInputs=function(n){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();i.test(e)||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t?this.selectedIndex=-1:n&&(!0===n&&/hidden/.test(e)||"string"==typeof n&&E(this).is(n))&&(this.value="")})},E.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},E.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},E.fn.selected=function(n){return void 0===n&&(n=!0),this.each(function(){var e=this.type;if("checkbox"==e||"radio"==e)this.checked=n;else if("option"==this.tagName.toLowerCase()){var t=E(this).parent("select");n&&t[0]&&"select-one"==t[0].type&&t.find("option").selected(!1),this.selected=n}})},E.fn.ajaxSubmit.debug=!1}(jQuery),jQuery.fn.dataTableExt.aTypes.push(function(e){return null==e?null:"-"==e.charAt(2)&&"-"==e.charAt(5)&&16==e.length?"date_fr":void 0}),jQuery.fn.dataTableExt.oSort["date_fr-asc"]=function(e,t){var n=dateHeight(e),i=dateHeight(t);return n<i?-1:i<n?1:0},jQuery.fn.dataTableExt.oSort["date_fr-desc"]=function(e,t){var n=dateHeight(e),i=dateHeight(t);return n<i?1:i<n?-1:0};var GeoJSON=function(e,t){var n,p=function(e,t,n){var i;switch(e.type){case"Point":t.position=new google.maps.LatLng(e.coordinates[1],e.coordinates[0]),i=new google.maps.Marker(t),n&&i.set("geojsonProperties",n);break;case"MultiPoint":i=[];for(var o=0;o<e.coordinates.length;o++)t.position=new google.maps.LatLng(e.coordinates[o][1],e.coordinates[o][0]),i.push(new google.maps.Marker(t));if(n)for(var a=0;a<i.length;a++)i[a].set("geojsonProperties",n);break;case"LineString":var s=[];for(o=0;o<e.coordinates.length;o++){var r=e.coordinates[o],l=new google.maps.LatLng(r[1],r[0]);s.push(l)}t.path=s,i=new google.maps.Polyline(t),n&&i.set("geojsonProperties",n);break;case"MultiLineString":i=[];for(o=0;o<e.coordinates.length;o++){s=[];for(var c=0;c<e.coordinates[o].length;c++){r=e.coordinates[o][c],l=new google.maps.LatLng(r[1],r[0]);s.push(l)}t.path=s,i.push(new google.maps.Polyline(t))}if(n)for(a=0;a<i.length;a++)i[a].set("geojsonProperties",n);break;case"Polygon":var u=[];for(o=0;o<e.coordinates.length;o++){for(s=[],c=0;c<e.coordinates[o].length;c++){l=new google.maps.LatLng(e.coordinates[o][c][1],e.coordinates[o][c][0]);s.push(l)}o?1==o?h==(d=m(s))?u.push(s.reverse()):u.push(s):h==d?u.push(s.reverse()):u.push(s):(h=m(s),u.push(s))}t.paths=u,i=new google.maps.Polygon(t),n&&i.set("geojsonProperties",n);break;case"MultiPolygon":i=[];for(o=0;o<e.coordinates.length;o++){var h,d;for(u=[],c=0;c<e.coordinates[o].length;c++){for(s=[],a=0;a<e.coordinates[o][c].length;a++){l=new google.maps.LatLng(e.coordinates[o][c][a][1],e.coordinates[o][c][a][0]);s.push(l)}c?1==c?h==(d=m(s))?u.push(s.reverse()):u.push(s):h==d?u.push(s.reverse()):u.push(s):(h=m(s),u.push(s))}t.paths=u,i.push(new google.maps.Polygon(t))}if(n)for(a=0;a<i.length;a++)i[a].set("geojsonProperties",n);break;case"GeometryCollection":if(i=[],e.geometries)for(o=0;o<e.geometries.length;o++)i.push(p(e.geometries[o],t,n||null));else i=f('Invalid GeoJSON object: GeometryCollection object missing "geometries" member.');break;default:i=f('Invalid GeoJSON object: Geometry object must be one of "Point", "LineString", "Polygon" or "MultiPolygon".')}return i},f=function(e){return{type:"Error",message:e}},m=function(e){for(var t=0,n=0;n<e.length-2;n++)t+=(e[n+1].lat()-e[n].lat())*(e[n+2].lng()-e[n].lng())-(e[n+2].lat()-e[n].lat())*(e[n+1].lng()-e[n].lng());return 0<t},i=t||{};switch(e.type){case"FeatureCollection":if(e.features){n=[];for(var o=0;o<e.features.length;o++)n.push(p(e.features[o].geometry,i,e.features[o].properties))}else n=f('Invalid GeoJSON object: FeatureCollection object missing "features" member.');break;case"GeometryCollection":if(e.geometries){n=[];for(o=0;o<e.geometries.length;o++)n.push(p(e.geometries[o],i))}else n=f('Invalid GeoJSON object: GeometryCollection object missing "geometries" member.');break;case"Feature":n=e.properties&&e.geometry?p(e.geometry,i,e.properties):f('Invalid GeoJSON object: Feature object missing "properties" or "geometry" member.');break;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":n=e.coordinates?n=p(e,i):f('Invalid GeoJSON object: Geometry object missing "coordinates" member.');break;default:n=f('Invalid GeoJSON object: GeoJSON object must be one of "Point", "LineString", "Polygon", "MultiPolygon", "Feature", "FeatureCollection" or "GeometryCollection".')}return n};GMapLoader=function(e,t){this.map=null,this.options=t||null,this.lat=6.125,this.lng=1.021,this.heading=0,this.zoom=15,this.mapTypeId=google.maps.MapTypeId.ROADMAP,this.mapDivId=e||"map",(this.self=this).bounds=null,this.rightclic=!0,this.drawingTools=!1,this.drawingGeoTargetSave=!0,this.drawnObject=null,this.drawnObjects=[],this.drawOneObject=!1,this.vhlRightClickDash=!0,this.vhlRightClickMaint=!0,this.vhlRightClickHist=!0,this.enlargeMapDiv=!1,this.markersArray=[],this.markersOpts=[],this.noTrackerIcon=!1,this.geoZonesDisplayMenuLink=!0,this.zonesJson=[],this.zonesInfoWin=[],this.geoZonesDisplayed=!1,this.geoZonesInfoWinDisplayed=!1,this.markersJson=[],this.geoMarkersInfoWin=[],this.geoMarkersDisplayed=!1,this.geoMarkersInfoWinDisplayed=!1,this.geoAllZonesMarkersDisplayed=!1},GMapLoader.prototype.initialize=function(){var s=this.self;this.reinitLoader();var e={zoom:this.zoom,center:new google.maps.LatLng(this.lat,this.lng),mapTypeId:this.mapTypeId,panControl:!0,zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,fullscreenControl:!0,overviewMapControl:!0,overviewMapControlOptions:{opened:!0}};if(this.options=this.options?this.options:e,this.map=new google.maps.Map(document.getElementById(this.mapDivId),this.options),this.map&&(this.enlargeMapDiv&&$(window.document.createElement("div")).attr("class","resizecont gmnoprint").html("<table style='width:100%;'><tr><td class='cell'><a href='' onclick='javascript:return resizeMapCont(1);'>x1</a></td><td class='cell'><a href='' onclick='javascript:return resizeMapCont(2);'>x2</a></td><td class='cell'><a href='' onclick='javascript:return resizeMapCont(3);'>x3</a></td></tr></table>").appendTo(this.map.getDiv()).fadeIn(200),google.maps.event.addListener(this.map,"zoom_changed",function(){s.zoom=s.map.getZoom()}),google.maps.event.addListener(this.map,"center_changed",function(){s.lat=s.map.getCenter().lat(),s.lng=s.map.getCenter().lng()}),this.drawingTools,google.maps.event.addListener(this.map,"rightclick",function(e){$(".contextMenu").remove();var t=new contextMenu({map:s.map});add_map_menu_items(t,s,{}),t.showOnOverlay(e)}),this.drawingTools)){var t=new google.maps.drawing.DrawingManager({drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:[google.maps.drawing.OverlayType.RECTANGLE,google.maps.drawing.OverlayType.CIRCLE,google.maps.drawing.OverlayType.POLYGON]},circleOptions:{draggable:!0,editable:!0,strokeWeight:1},rectangleOptions:{draggable:!0,editable:!0,strokeWeight:1},polylineOptions:{draggable:!0,editable:!0,strokeWeight:1},polygonOptions:{draggable:!0,editable:!0,strokeWeight:1}}),r=new google.maps.OverlayView;r.setMap(this.map),t.setMap(this.map),google.maps.event.addListener(t,"overlaycomplete",function(a){s.drawnObject={overlay:a.overlay,type:a.type},s.drawOneObject&&null!==s.drawnObjects&&s.drawnObjects.length&&(s.drawnObjects.forEach(function(e){e.overlay.setMap(null),e.overlay.setVisible(!1)}),s.drawnObjects=[]),s.drawnObjects.push({overlay:a.overlay,type:a.type}),google.maps.event.addListener(a.overlay,"rightclick",function(e){var n=getGeoTargetParamsFromOverlay(a.overlay,a.type);$(".contextMenu").remove();var t=new contextMenu({map:this.map}),i=t.addItem("add").hide(),o=t.addItem("del").hide();i.find("a").html("Enregistrer la zone").click(function(e){window.drawnOverlay=a.overlay,window.activeMapInstance=s;var t=$(this).closest(".ui-page").find("#targetpopup");$.mobile.loading("show"),$.post("include/addgeotarget.php",n,function(e){t.html(e).trigger("create"),t.popup("open",{transition:"pop",positionTo:"window"}),$.mobile.loading("hide")}),e.preventDefault()}),s.drawingGeoTargetSave&&i.show(),o.find("a").html("Supprimer la slection").click(function(){a.overlay.setVisible(!1)}),o.show(),null==e.pixel&&(e.pixel=r.getProjection().fromLatLngToContainerPixel(e.latLng)),t.showOnOverlay(e)})})}var n=sessionStorage.getItem("map.geoAllZonesMarkersDisplayed"),i=sessionStorage.getItem("map.geoZonesDisplayed"),o=sessionStorage.getItem("map.geoZonesInfoWinDisplayed"),a=sessionStorage.getItem("map.geoMarkersDisplayed"),l=sessionStorage.getItem("map.geoMarkersInfoWinDisplayed");i="true"==i,o="true"==o,a="true"==a,l="true"==l,(n="true"==n)?(s.setGeoAllZonesMarkersDisplayed(!1),show_all_zones_markers_on_map(s)):(i&&o?(s.setGeoZonesDisplayed(!1),show_zones_on_map(s,function(){s.setGeoZonesInfoWinDisplayed(!1),show_zones_name(geoZones,s)})):i&&(s.setGeoZonesDisplayed(!1),show_zones_on_map(s)),a&&l?(s.setGeoMarkersDisplayed(!1),show_markers_on_map(s,function(){s.setGeoMarkersInfoWinDisplayed(!1),show_markers_name(geoMarkers,s)})):a&&(s.setGeoMarkersDisplayed(!1),show_markers_on_map(s)))},GMapLoader.prototype.setCenter=function(e,t){e instanceof google.maps.LatLng&&void 0===t?this.map&&this.map.setCenter(e):(this.lat=e,this.lng=t,this.map&&this.map.setCenter(new google.maps.LatLng(this.lat,this.lng)))},GMapLoader.prototype.setRightclic=function(e){this.rightclic=e},GMapLoader.prototype.setVhlRightClickDash=function(e){this.vhlRightClickDash=e},GMapLoader.prototype.setVhlRightClickMaint=function(e){this.vhlRightClickMaint=e},GMapLoader.prototype.setVhlRightClickHist=function(e){this.vhlRightClickHist=e},GMapLoader.prototype.setDrawingTools=function(e){this.drawingTools=e},GMapLoader.prototype.setDrawingGeoTargetSave=function(e){this.drawingGeoTargetSave=e},GMapLoader.prototype.setDrawOneObject=function(e){this.drawOneObject=e},GMapLoader.prototype.getDrawnObject=function(){return this.drawnObject},GMapLoader.prototype.setEnlargeMapDiv=function(e){this.enlargeMapDiv=e,this.enlargeMapDiv?$("div.resizecont").show():$("div.resizecont").hide()},GMapLoader.prototype.getDivId=function(){return this.mapDivId},GMapLoader.prototype.setDivId=function(e){this.mapDivId=e},GMapLoader.prototype.reinitLoader=function(){this.map=null,this.options=null,this.heading=0,this.zoom=15,this.mapTypeId=google.maps.MapTypeId.ROADMAP,this.bounds=null},GMapLoader.prototype.addLocationMarker=function(i){var o=this.self,e=void 0===i.rootdir?"":i.rootdir;i.engine=void 0===i.engine?"OFF":i.engine;var t=e+"images/gmapicons/wrappers/",n=e+"images/gmapicons/history/",a=new google.maps.Size(40,40),s=new google.maps.Point(0,20),r=new google.maps.Point(0,0),l=a,c="";c="ON"==i.engine?"Icon_Base_green.png":"Icon_Base.png";var u=new google.maps.MarkerImage(t+c,a,r,s,l),h=new google.maps.MarkerImage(e+i.tracker,a,r,s,l),d=new google.maps.MarkerImage(n+i.compass,a,r,new google.maps.Point(0,18),new google.maps.Size(8,8)),p=new google.maps.LatLng(this.lat,this.lng),f=(new google.maps.Marker({position:p,icon:u,draggable:!1,map:this.map,clickable:!1,flat:!0}),new google.maps.Marker({position:p,icon:h,draggable:!1,map:this.map,clickable:!1,flat:!0}),null),m=e+"library/js/googlemap/MarkerWithLabel.js";i.MarkerWithLabel&&(m=i.MarkerWithLabel);var g=new google.maps.OverlayView;g.setMap(o.map),head.js(m,function(){var e={position:p,map:o.map,icon:d,draggable:!1,labelContent:i.label,labelAnchor:new google.maps.Point(0,-20),labelClass:"labels",labelStyle:{opacity:.75,color:"#000000"},labelVisible:!0};(f=new MarkerWithLabel(e)).set("position",p),f.set("map",o.map);var t=new google.maps.InfoWindow({content:i.html});google.maps.event.addListener(f,"click",function(){t.open(o.map,f)}),google.maps.event.addListener(f,"rightclick",function(e){$(".contextMenu").remove();var t=new contextMenu({map:o.map}),n={dashboard:o.vhlRightClickDash,history:o.vhlRightClickHist,maintenance:o.vhlRightClickMaint};markerContextMenuAddItems(t,i.idvhl,n),e.pixel=g.getProjection().fromLatLngToContainerPixel(e.latLng),t.showOnOverlay(e)})})},GMapLoader.prototype.addHistoryMarker=function(e,t,n,i){var o,a="images/gmapicons/history/";if("string"==typeof t)o=new google.maps.MarkerImage(a+t);else if("object"==typeof t){a=(void 0===t.rootdir?"":t.rootdir)+a,o=new google.maps.MarkerImage(a+t.name)}var s=new google.maps.Marker({position:e,icon:o,draggable:!1,map:this.map,title:n}),r=new google.maps.InfoWindow({content:i});return google.maps.event.addListener(s,"click",function(){r.open(this.map,s)}),{marker:s,info:r}},GMapLoader.prototype.addMarker=function(e,t,n,i,o){o=void 0!==o&&o;var a,s="images/gmapicons/";if("string"==typeof t)a=new google.maps.MarkerImage(s+t);else if("object"==typeof t){s=(void 0===t.rootdir?"":t.rootdir)+s,a=new google.maps.MarkerImage(s+t.name)}var r=new google.maps.Marker({position:e,icon:a,draggable:!1,map:o?this.map:null,title:n}),l=new google.maps.InfoWindow({content:i});return google.maps.event.addListener(r,"click",function(){l.open(this.map,r)}),{marker:r,info:l}},GMapLoader.prototype.addReplayMarker=function(e,t,n,i){var o=new google.maps.MarkerImage("images/gmapicons/history/"+t),a=new google.maps.Marker({position:e,icon:o,draggable:!1,map:this.map,title:n,visible:!1}),s=new google.maps.InfoWindow({content:i,position:e,disableAutoPan:!0});return google.maps.event.addListener(a,"click",function(){s.open(this.map,a)}),{marker:a,info:s}},GMapLoader.prototype.openInfowindow=function(e){e.open(this.map)},GMapLoader.prototype.drawPolylines=function(e,t){return new google.maps.Polyline({map:this.map,path:e,strokeColor:t,strokeOpacity:1,strokeWeight:2,geodesic:!0})},GMapLoader.prototype.addLocationMarkers=function(i){var o=this.self,t=o.noTrackerIcon,e=void 0===i.rootdir?"":i.rootdir;i.engine=void 0===i.engine?"OFF":i.engine;var n=void 0!==i.zIndexedFrom?i.zIndexedFrom:1,a={withIcon:null,noIcon:null},s={withIcon:null,noIcon:null},r={withIcon:null,noIcon:null},l=new google.maps.Point(0,0),c=e+"images/gmapicons/labelwrappers/",u=e+"images/gmapicons/history/",h=new google.maps.Size(20,20),d=new google.maps.Point(0,10),p=u+i.compass,f=c+"empty_icon.png",m=h;"ON"==i.engine&&(a.noIcon={position:i.latLng,icon:new google.maps.MarkerImage(f,h,l,d,m),draggable:!1,map:this.map,clickable:!1,flat:!0,name:"base",vhl_state:i.vhl_state,zIndex:n++,idvhl:i.idvhl}),s.noIcon={position:i.latLng,icon:new google.maps.MarkerImage(f,h,l,d,m),draggable:!1,map:this.map,clickable:!1,flat:!0,cluster:!0,name:"loc",infowindow:new google.maps.InfoWindow({content:i.html,pixelOffset:new google.maps.Size(10,0)}),zIndex:n++},r.noIcon={position:i.latLng,map:o.map,icon:new google.maps.MarkerImage(f,h,l,d,m),draggable:!1,labelAnchor:d,labelClass:"at-map-labels",labelContent:'<a href="#"><div class="label-box" style="background : url('+p+') no-repeat top left"><span class="text">'+i.label+"</span></div></a>",labelStyle:{opacity:1},labelVisible:!0,name:"dir",zIndex:n++},c=e+"images/gmapicons/wrappers/",u=e+"images/gmapicons/history/";var g,v=h=new google.maps.Size(40,40),b=d=new google.maps.Point(0,20),_=h;(n=i.zIndexedFrom,0==i.vhl_state?(v=new google.maps.Size(40,40),b=new google.maps.Point(-1,19),p=c+"vhl_en_panne.png",_=new google.maps.Size(38,38)):!0===i.old_data?(v=new google.maps.Size(40,40),b=new google.maps.Point(-1,19),p=c+"vhl_data_is_old.png",_=new google.maps.Size(38,38)):(p=u+i.compass,_=new google.maps.Size(8,8),b=new google.maps.Point(0,18)),"ON"==i.engine)?f=""==(g=i.fleet_color)?c+"Icon_Base_green.png":c+"fleet_color/"+g+".png":f=""==(g=i.fleet_color)?c+"Icon_Base.png":c+"fleet_color_off/"+g+".png";if(m=h,a.withIcon={position:i.latLng,icon:new google.maps.MarkerImage(f,h,l,d,m),draggable:!1,map:this.map,clickable:!1,flat:!0,name:"base",vhl_state:i.vhl_state,zIndex:n++,idvhl:i.idvhl},s.withIcon={position:i.latLng,icon:new google.maps.MarkerImage(e+i.tracker,h,l,d,m),draggable:!1,map:this.map,clickable:!1,flat:!0,cluster:!0,name:"loc",infowindow:new google.maps.InfoWindow({content:i.html}),zIndex:n++},r.withIcon={position:i.latLng,map:o.map,icon:new google.maps.MarkerImage(p,v,l,b,_),draggable:!1,labelContent:i.label,labelAnchor:new google.maps.Point(0,-20),labelClass:"labels",labelStyle:{opacity:.75,color:"#000000"},labelVisible:!0,name:"dir",zIndex:n++},t)var y=new google.maps.Marker(a.noIcon),w=new google.maps.Marker(s.noIcon);else y=new google.maps.Marker(a.withIcon),w=new google.maps.Marker(s.withIcon);var C=e+"library/js/googlemap/MarkerWithLabel.js";i.MarkerWithLabel&&(C=i.MarkerWithLabel);var D=new google.maps.OverlayView;D.setMap(o.map),head.js(C,function(){if(t)var e=new MarkerWithLabel(r.noIcon);else e=new MarkerWithLabel(r.withIcon);e.set("position",i.latLng),e.set("map",o.map),o.markersArray.push(y),o.markersArray.push(w),o.markersArray.push(e),o.markersOpts.push(a),o.markersOpts.push(s),o.markersOpts.push(r),google.maps.event.addListener(e,"click",function(){t?s.noIcon.infowindow.open(o.map,w):s.withIcon.infowindow.open(o.map,w)}),google.maps.event.addListener(e,"rightclick",function(e){$(".contextMenu").remove();var t=new contextMenu({map:o.map}),n={dashboard:o.vhlRightClickDash,history:o.vhlRightClickHist,maintenance:o.vhlRightClickMaint};markerContextMenuAddItems(t,i.idvhl,n),e.pixel=D.getProjection().fromLatLngToContainerPixel(e.latLng),t.showOnOverlay(e)})})},GMapLoader.prototype.fitMapBounds=function(e){this.bounds=e,this.map&&this.map.fitBounds(e)},GMapLoader.prototype.getGMap=function(){return this.map},GMapLoader.prototype.getLat=function(){return this.lat},GMapLoader.prototype.getLng=function(){return this.lng},GMapLoader.prototype.getZoom=function(){return this.zoom},GMapLoader.prototype.setZoom=function(e){this.zoom=e,this.map.setZoom(e)},GMapLoader.prototype.getGeoZonesDisplayed=function(){return this.geoZonesDisplayed},GMapLoader.prototype.getGeoZonesDisplayMenuLink=function(){return this.geoZonesDisplayMenuLink},GMapLoader.prototype.getMarkersArray=function(){return this.markersArray},GMapLoader.prototype.resetMarkersArray=function(){this.markersArray=[]},GMapLoader.prototype.getMarkersOpts=function(){return this.markersOpts},GMapLoader.prototype.resetMarkersOpts=function(){this.markersOpts=[]},GMapLoader.prototype.getNoTrackerIcon=function(){return this.noTrackerIcon},GMapLoader.prototype.setNoTrackerIcon=function(e){this.noTrackerIcon=e},GMapLoader.prototype.setGeoZonesDisplayed=function(e){this.geoZonesDisplayed=e,sessionStorage.setItem("map.geoZonesDisplayed",e)},GMapLoader.prototype.setGeoZonesDisplayMenuLink=function(e){this.geoZonesDisplayMenuLink=e},GMapLoader.prototype.setGeoZonesInfoWinDisplayed=function(e){this.geoZonesInfoWinDisplayed=e,sessionStorage.setItem("map.geoZonesInfoWinDisplayed",e)},GMapLoader.prototype.getGeoZonesInfoWinDisplayed=function(){return this.geoZonesInfoWinDisplayed},GMapLoader.prototype.setGeoMarkersDisplayed=function(e){this.geoMarkersDisplayed=e,sessionStorage.setItem("map.geoMarkersDisplayed",e)},GMapLoader.prototype.getGeoMarkersDisplayed=function(){return this.geoMarkersDisplayed},GMapLoader.prototype.setGeoMarkersInfoWinDisplayed=function(e){this.geoMarkersInfoWinDisplayed=e,sessionStorage.setItem("map.geoMarkersInfoWinDisplayed",e)},GMapLoader.prototype.getGeoMarkersInfoWinDisplayed=function(){return this.geoMarkersInfoWinDisplayed},GMapLoader.prototype.setGeoAllZonesMarkersDisplayed=function(e){this.geoAllZonesMarkersDisplayed=e,sessionStorage.setItem("map.geoAllZonesMarkersDisplayed",e)},GMapLoader.prototype.getGeoAllZonesMarkersDisplayed=function(){return this.geoAllZonesMarkersDisplayed},GMapLoader.prototype.resizeMap=function(){this.self;var e=this.lat,t=this.lng;google.maps.event.trigger(this.map,"resize"),this.lat=e,this.lng=t,null!=this.bounds&&this.map.fitBounds(this.bounds),null==this.bounds&&(this.map.setCenter(new google.maps.LatLng(this.lat,this.lng)),this.map.setZoom(this.zoom))},GMapLoader.prototype.resizeMap2=function(){this.self;var e=this.lat,t=this.lng,n=this.map.getCenter();google.maps.event.trigger(this.map,"resize"),this.lat=e,this.lng=t,this.bounds,this.map.setCenter(n)};var resizeMapCont=function(e){return map&&($("#"+map.getDivId()).height(500*e),map.resizeMap2()),!1};function MarkerClusterer(e,t,n){this.extend(MarkerClusterer,google.maps.OverlayView),this.map_=e,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var i=n||{};this.gridSize_=i.gridSize||60,this.minClusterSize_=i.minimumClusterSize||2,this.maxZoom_=i.maxZoom||null,this.styles_=i.styles||[],this.imagePath_=i.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=i.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,null!=i.zoomOnClick&&(this.zoomOnClick_=i.zoomOnClick),this.averageCenter_=!1,null!=i.averageCenter&&(this.averageCenter_=i.averageCenter),this.setupStyles_(),this.setMap(e),this.prevZoom_=this.map_.getZoom();var o=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var e=o.map_.getZoom(),t=o.map_.minZoom||0,n=Math.min(o.map_.maxZoom||100,o.map_.mapTypes[o.map_.getMapTypeId()].maxZoom);e=Math.min(Math.max(e,t),n),o.prevZoom_!=e&&(o.prevZoom_=e,o.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){o.redraw()}),t&&(t.length||Object.keys(t).length)&&this.addMarkers(t,!1)}function Cluster(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinClusterSize(),this.averageCenter_=e.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,e.getStyles(),e.getGridSize())}function ClusterIcon(e,t,n){e.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.styles_=t,this.padding_=n||0,this.cluster_=e,this.center_=null,this.map_=e.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="../images/m",MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",MarkerClusterer.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var e,t=0;e=this.sizes[t];t++)this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},MarkerClusterer.prototype.fitMapToMarkers=function(){for(var e,t=this.getMarkers(),n=new google.maps.LatLngBounds,i=0;e=t[i];i++)n.extend(e.getPosition());this.map_.fitBounds(n)},MarkerClusterer.prototype.setStyles=function(e){this.styles_=e},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.setMaxZoom=function(e){this.maxZoom_=e},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.calculator_=function(e,t){for(var n=0,i=e.length,o=i;0!==o;)o=parseInt(o/10,10),n++;return{text:i,index:n=Math.min(n,t)}},MarkerClusterer.prototype.setCalculator=function(e){this.calculator_=e},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.addMarkers=function(e,t){if(e.length)for(var n=0;i=e[n];n++)this.pushMarkerTo_(i);else if(Object.keys(e).length)for(var i in e)this.pushMarkerTo_(e[i]);t||this.redraw()},MarkerClusterer.prototype.pushMarkerTo_=function(e){if(e.isAdded=!1,e.draggable){var t=this;google.maps.event.addListener(e,"dragend",function(){e.isAdded=!1,t.repaint()})}this.markers_.push(e)},MarkerClusterer.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw()},MarkerClusterer.prototype.removeMarker_=function(e){var t=-1;if(this.markers_.indexOf)t=this.markers_.indexOf(e);else for(var n,i=0;n=this.markers_[i];i++)if(n==e){t=i;break}return-1!=t&&(e.setMap(null),this.markers_.splice(t,1),!0)},MarkerClusterer.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!(t||!n)&&(this.resetViewport(),this.redraw(),!0)},MarkerClusterer.prototype.removeMarkers=function(e,t){for(var n,i=e===this.getMarkers()?e.slice():e,o=!1,a=0;n=i[a];a++){var s=this.removeMarker_(n);o=o||s}if(!t&&o)return this.resetViewport(),this.redraw(),!0},MarkerClusterer.prototype.setReady_=function(e){this.ready_||(this.ready_=e,this.createClusters_())},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.getMap=function(){return this.map_},MarkerClusterer.prototype.setMap=function(e){this.map_=e},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(e){this.gridSize_=e},MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinClusterSize=function(e){this.minClusterSize_=e},MarkerClusterer.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),i=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),o=t.fromLatLngToDivPixel(n);o.x+=this.gridSize_,o.y-=this.gridSize_;var a=t.fromLatLngToDivPixel(i);a.x-=this.gridSize_,a.y+=this.gridSize_;var s=t.fromDivPixelToLatLng(o),r=t.fromDivPixelToLatLng(a);return e.extend(s),e.extend(r),e},MarkerClusterer.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},MarkerClusterer.prototype.resetViewport=function(e){for(var t,n=0;t=this.clusters_[n];n++)t.remove();var i;for(n=0;i=this.markers_[n];n++)i.isAdded=!1,e&&i.setMap(null);this.clusters_=[]},MarkerClusterer.prototype.repaint=function(){var n=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout(function(){for(var e,t=0;e=n[t];t++)e.remove()},0)},MarkerClusterer.prototype.redraw=function(){this.createClusters_()},MarkerClusterer.prototype.distanceBetweenPoints_=function(e,t){if(!e||!t)return 0;var n=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},MarkerClusterer.prototype.addToClosestCluster_=function(e){for(var t,n=4e4,i=null,o=(e.getPosition(),0);t=this.clusters_[o];o++){var a=t.getCenter();if(a){var s=this.distanceBetweenPoints_(a,e.getPosition());s<n&&(n=s,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):((t=new Cluster(this)).addMarker(e),this.clusters_.push(t))},MarkerClusterer.prototype.createClusters_=function(){if(this.ready_)for(var e,t=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),n=this.getExtendedBounds(t),i=0;e=this.markers_[i];i++)!e.isAdded&&this.isMarkerInBounds_(e,n)&&this.addToClosestCluster_(e)},Cluster.prototype.isMarkerAlreadyAdded=function(e){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(e);for(var t,n=0;t=this.markers_[n];n++)if(t==e)return!0;return!1},Cluster.prototype.addMarker=function(e){if(this.isMarkerAlreadyAdded(e))return!1;if(this.center_){if(this.averageCenter_){var t=this.markers_.length+1,n=(this.center_.lat()*(t-1)+e.getPosition().lat())/t,i=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(n,i),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();e.isAdded=!0,this.markers_.push(e);var o=this.markers_.length;if(o<this.minClusterSize_&&e.getMap()!=this.map_&&e.setMap(this.map_),o==this.minClusterSize_)for(var a=0;a<o;a++)this.markers_[a].setMap(null);return o>=this.minClusterSize_&&e.setMap(null),this.updateIcon(),!0},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){for(var e,t=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers(),i=0;e=n[i];i++)t.extend(e.getPosition());return t},Cluster.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},Cluster.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.updateIcon=function(){var e=this.map_.getZoom(),t=this.markerClusterer_.getMaxZoom();if(t&&t<e)for(var n,i=0;n=this.markers_[i];i++)n.setMap(this.map_);else if(this.markers_.length<this.minClusterSize_)this.clusterIcon_.hide();else{var o=this.markerClusterer_.getStyles().length,a=this.markerClusterer_.getCalculator()(this.markers_,o);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(a),this.clusterIcon_.show()}},ClusterIcon.prototype.triggerClusterClick=function(){var e=this.cluster_.getMarkerClusterer();google.maps.event.trigger(e.map_,"clusterclick",this.cluster_),e.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},ClusterIcon.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.innerHTML=this.sums_.text}this.getPanes().overlayMouseTarget.appendChild(this.div_);var t=this;google.maps.event.addDomListener(this.div_,"click",function(){t.triggerClusterClick()})},ClusterIcon.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=parseInt(this.width_/2,10),t.y-=parseInt(this.height_/2,10),t},ClusterIcon.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px",this.div_.style.zIndex=google.maps.Marker.MAX_ZINDEX+1}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.remove=function(){this.setMap(null)},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.setSums=function(e){this.sums_=e,this.text_=e.text,this.index_=e.index,this.div_&&(this.div_.innerHTML=e.text),this.useStyle()},ClusterIcon.prototype.useStyle=function(){var e=Math.max(0,this.sums_.index-1);e=Math.min(this.styles_.length-1,e);var t=this.styles_[e];this.url_=t.url,this.height_=t.height,this.width_=t.width,this.textColor_=t.textColor,this.anchor_=t.anchor,this.textSize_=t.textSize,this.backgroundPosition_=t.backgroundPosition},ClusterIcon.prototype.setCenter=function(e){this.center_=e},ClusterIcon.prototype.createCss=function(e){var t=[];t.push("background-image:url("+this.url_+");");var n=this.backgroundPosition_?this.backgroundPosition_:"0 0";t.push("background-position:"+n+";"),"object"==typeof this.anchor_?("number"==typeof this.anchor_[0]&&0<this.anchor_[0]&&this.anchor_[0]<this.height_?t.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"==typeof this.anchor_[1]&&0<this.anchor_[1]&&this.anchor_[1]<this.width_?t.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):t.push("width:"+this.width_+"px; text-align:center;")):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var i=this.textColor_?this.textColor_:"black",o=this.textSize_?this.textSize_:11;return t.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+i+"; position:absolute; font-size:"+o+"px; font-family:Arial,sans-serif; font-weight:bold"),t.join("")};var window=window||{};function showNotification(e){var t={showAfter:0,duration:0,autoClose:!1,type:"success",message:"",link_notification:"",description:"",playSound:!0};$.extend(!0,t,e);var n="succ_bg";"error"==t.type?n="error_bg":"information"==t.type?n="info_bg":"warning"==t.type&&(n="warn_bg");var i='<div id="info_message"><div class="center_auto '+n+'"><div class="info_message_text message_area">';i+=t.message,i+='</div><div class="info_close_btn button_area" title="Fermer la notification" onclick="notificationClose(); closeNotification();"></div><div class="clearboth"></div>',i+='</div><div class="info_more_descrption"></div></div>',$notification=$(i),$("body").append($notification),$("div#info_message .center_auto").css({top:"-200px"}),$("div#info_message").show();var o=$("div#info_message .center_auto:first-child").height();$("div#info_message .center_auto").css({top:"-"+o+"px"}),slideDownNotification(t.showAfter,t.autoClose,t.duration,t.playSound),$(".link_notification").on("click",function(){$(".info_more_descrption").html(t.description).slideDown("fast")})}function closeNotification(e){setTimeout(function(){var e=$("div#info_message .center_auto:first-child").height();$("div#info_message .center_auto:first-child").animate({top:"-"+e}),setTimeout(function(){$("div#info_message").remove()},200)},parseInt(1e3*e))}function slideDownNotification(e,t,n,i){setTimeout(function(){$("div#info_message .center_auto:first-child").animate({top:0}),1==i&&ion.sound.play("water_droplet"),t&&setTimeout(function(){closeNotification(n)},n)},parseInt(1e3*e))}function AjaxLoader(e,t,a,n,i,s,r){s=void 0!==s?s:"",r=void 0!==r&&r;var l=!0,c=n,u=i;submitButton=$(".ui-dialog").find(".twobutton").find("input[type='button']"),0<submitButton.length&&(buttonText=submitButton.val(),submitButton.val(saving_lib).button("refresh")),a.html(""),$.mobile.loading("show"),$.ajax({type:"POST",url:e,data:t}).done(function(e,t,n,i){var o=jsonToObject(e);$.mobile.loading("hide"),console.log(o),0===o.feedback?(a.html(o.response).trigger("create"),$(".ui-dialog, .ui-popup").find(".twobutton").hide(),$(".ui-dialog, .ui-popup").find(".onebutton").show(),"function"==typeof c&&(c(),l=!1),$(document).on("pageshow","#main-page",function(){setTimeOutTimer=setTimeout(function(){if(1==l)if("wholeContent"==c)AjaxContentLoader(activeMenuLink);else if("click"==c&&u.length)u.click();else if(null!=c&&null!=u&&0!=c.length){$.mobile.loading("show");var e=(e=new Date).getTime();$(c).load(u+"?_="+e+"&idvhl="+$("#idvhl option:selected").val()+"&idfleet="+$("#idfleet option:selected").val()+"&"+s,function(){$(this).trigger("create"),$.mobile.loading("hide")})}l=!1,u=c="",r&&reloadFleetList(),console.log("#main-page : pageshow")},100)}),setTimeOutTimer=setTimeout(function(){},2500)):a.html(o.feedback).trigger("create"),0<submitButton.length&&submitButton.val(buttonText).button("enable").button("refresh")}).fail(function(e,t){alert("Chargement interrompu !\n"+t)})}function deletePopupSet(e,t,n){n=void 0!==n?n:"";var i=$.mobile.activePage.find(".deletePopup");i.find(".ui-btn").removeClass("ui-btn-active"),null!=e.title&&i.find("h1.deleteTitle").html(e.title),null!=e.display&&i.find("form.deleteConfirmForm .deleteConfirmMessBox").html(e.display),null!=e.width&&i.css("width",e.width+"px"),i.find("form.deleteConfirmForm input[name='deleteId']").val(t),i.find("form.deleteConfirmForm input[name='deleteScript']").val(e.deleteScript),i.find("form.deleteConfirmForm input[name='deleteType']").val(e.deleteType),i.find("form.deleteConfirmForm input[name='scriptToReload']").val(e.scriptToReload),i.find("form.deleteConfirmForm input[name='divToReload']").val(e.divToReload),e.reloadFleetsList=null!=e.reloadFleetsList?e.reloadFleetsList:"no",i.find("form.deleteConfirmForm input[name='reloadFleetsList']").val(e.reloadFleetsList)}function deletePopupOpen(e,t,n){n=void 0!==n?n:"";var i=$.mobile.activePage.find(".deletePopup");deletePopupReset(n),deletePopupSet(e,t,n),i.popup("open",{transition:$.mobile.defaultPopupTransition,positionTo:"window"})}function deletePopupReset(e){e=void 0!==e?e:"";var t=$.mobile.activePage.find(".deletePopup");deletePopupSet(defaultPopupParams,"",e),t.find("form.deleteConfirmForm .twobutton").show(),t.find("form.deleteConfirmForm .onebutton").hide(),t.find("form.deleteConfirmForm .onebuttonerror").hide()}function atPopMap(e){if(pophref="",void 0===e.attr("popmaptype")?(data={idfleet:$("#idfleet option:selected").val(),idvhl:e.attr("idvhl")},pophref="uipopupLocalization.php"):"area"==e.attr("popmaptype")?(data={idfleet:$("#idfleet option:selected").val(),popmaptype:e.attr("popmaptype"),idarea:e.attr("idarea"),areatype:e.attr("areatype")},pophref="winpopupFormerLocalization.php"):"point"==e.attr("popmaptype")?(data={idfleet:$("#idfleet option:selected").val(),idvhl:e.attr("idvhl"),popmaptype:e.attr("popmaptype"),popmapdate:e.attr("popmapdate"),not_dt_datepos:void 0!==e.attr("not_dt_datepos")?e.attr("not_dt_datepos"):"false"},pophref="winpopupFormerLocalization.php"):"point-area"==e.attr("popmaptype")?(data={idfleet:$("#idfleet option:selected").val(),idvhl:e.attr("idvhl"),popmaptype:e.attr("popmaptype"),popmapdate:e.attr("popmapdate"),idarea:e.attr("idarea"),areatype:e.attr("areatype"),not_dt_datepos:void 0!==e.attr("not_dt_datepos")?e.attr("not_dt_datepos"):"false"},pophref="winpopupFormerLocalization.php"):"trip-point"==e.attr("popmaptype")?(data={idfleet:$("#idfleet option:selected").val(),idvhl:e.attr("idvhl"),popmaptype:e.attr("popmaptype"),popmapdate:e.attr("popmapdate"),popmapdate2:e.attr("popmapdate2"),not_dt_datepos:void 0!==e.attr("not_dt_datepos")?e.attr("not_dt_datepos"):"false"},pophref="winpopupFormerLocalization.php"):"trip-point-area"==e.attr("popmaptype")&&(data={idfleet:$("#idfleet option:selected").val(),idvhl:e.attr("idvhl"),popmaptype:e.attr("popmaptype"),popmapdate:e.attr("popmapdate"),popmapdate2:e.attr("popmapdate2"),idarea:e.attr("idarea"),areatype:e.attr("areatype"),not_dt_datepos:void 0!==e.attr("not_dt_datepos")?e.attr("not_dt_datepos"):"false"},pophref="winpopupFormerLocalization.php"),width=450,height=350,window.innerWidth)var t=(window.innerWidth-width)/2,n=(window.innerHeight-height)/2;else t=(document.body.clientWidth-width)/2,n=(document.body.clientHeight-height)/2;url=pophref+"?"+$.param(data),winParam="titlebar=no,toolbar=no,location=no,menubar=no, scrollbars=no, top="+n+", left="+t+", width="+width+", height="+height,atPopMapWin=window.open(url,null,winParam)}function checkEventCalendar(){var e={today:(new Date).getTime()/1e3,weither_event_today:1};$.ajax({type:"GET",url:"events_all_today.php",data:e}).done(function(e){0!=e&&atPopup(e,null,{positionTo:"window",transition:$.mobile.defaultPopupTransition,dismissible:!1,overlayTheme:"a"})}).fail(function(e,t){console.log(t+" -- "+e)})}function checkUserMessages(){var e={action:"check",today:(new Date).getTime()/1e3};$.ajax({type:"GET",url:"userMessageLoader.php",data:e}).done(function(e){"no-message"!=e&&atPopup(e,null,{positionTo:"window",transition:$.mobile.defaultPopupTransition,dismissible:!1,overlayTheme:"a"})}).fail(function(e,t){console.log(t+" -- "+e)})}function notificationList(){$("#notificationPopup").html(loading).popup("open",{positionTo:"window"}),$("#notificationPopup").load("notificationListForm.php",function(){$("#notificationPopup").trigger("create"),$("#notificationPopup").popup("reposition",{positionTo:"window"})})}function notificationClose(){$.ajax({dataType:"html",url:"session.php"}).done(function(e){flag=0})}function notificationDelete(e){$.ajax({dataType:"json",type:"GET",url:"notification.php",data:{idalarm:e}}).done(function(e){if(0==e.idalarm){closeNotification()}else showNotification({message:e.alarm_data,type:"warning",playSound:playNotifSound})})}function success_msg(e){return"    <p class='success'>    <a href='#' class='successIcon simple-btn ui-btn ui-btn-up-c ui-shadow ui-btn-corner-all ui-mini ui-btn-inline ui-btn-icon-notext' data-icon='check' data-theme='c' data-role='button' data-inline='true' data-iconpos='notext' data-mini='true' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span' title=''><span class='ui-btn-inner'><span class='ui-btn-text'></span><span class='ui-icon ui-icon-check ui-icon-shadow'>&nbsp;</span></span></a>    "+e+"</p> "}function info_msg(e){return"    <p class='infos'>    <a href='#' data-icon='info' data-theme='c' data-role='button' data-inline='true' data-iconpos='notext' data-mini='true' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span' title='' class='ui-btn ui-btn-up-c ui-shadow ui-btn-corner-all ui-mini ui-btn-inline ui-btn-icon-notext'><span class='ui-btn-inner'><span class='ui-btn-text'></span><span class='ui-icon ui-icon-info ui-icon-shadow'>&nbsp;</span></span></a>    "+e+"</p> "}function error_msg(e){return"    <p class='error'>    <a href='#' class='at-delete ui-btn ui-shadow ui-btn-corner-all ui-mini ui-btn-inline ui-btn-icon-notext ui-btn-up-c' data-icon='alert' data-theme='c' data-role='button' data-inline='true' data-iconpos='notext' data-mini='true' data-corners='true' data-shadow='true' data-iconshadow='true' data-wrapperels='span' title=''><span class='ui-btn-inner'><span class='ui-btn-text'></span><span class='ui-icon ui-icon-alert ui-icon-shadow'>&nbsp;</span></span></a>    "+e+"</p>"}window.MarkerClusterer=MarkerClusterer,MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker,MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers,MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers,MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers,MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator,MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize,MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds,MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap,MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers,MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom,MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles,MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters,MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers,MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw,MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker,MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers,MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport,MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint,MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator,MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize,MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom,MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd,MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw,Cluster.prototype.getCenter=Cluster.prototype.getCenter,Cluster.prototype.getSize=Cluster.prototype.getSize,Cluster.prototype.getMarkers=Cluster.prototype.getMarkers,ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd,ClusterIcon.prototype.draw=ClusterIcon.prototype.draw,ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove,Object.keys=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},"object"==typeof module&&(module.exports=MarkerClusterer),function(e,t){var s=e.document,r=jQuery,n=google.maps;function i(e){var a=this;void 0!==e.map&&(this.theMap=e.map,this.clickedLatLng=null,this.theMenu=r(s.createElement("div")).attr("class","contextMenu").bind("contextmenu",function(){return!1}).append(r(s.createElement("ul"))).appendTo(this.theMap.getDiv()),n.event.addListener(this.theMap,"rightclick",function(e){var t=r(a.theMap.getDiv()),n=a.theMenu,i=e.pixel.x,o=e.pixel.y;n.hide(),a.clickedLatLng=e.latLng,i>t.width()-n.width()&&(i-=n.width()),o>t.height()-n.height()&&(o-=n.height()),n.css({top:o,left:i}).fadeIn(200)}),r.each("click dragstart zoom_changed maptypeid_changed center_changed".split(" "),function(e,t){n.event.addListener(a.theMap,t,function(){a.theMenu.hide()})}))}i.prototype.addItem=function(e,t,n){"function"==typeof t&&(n=t,t=void 0);var i=this,o=e.toCamel(),a=r(s.createElement("li")).attr("id",o);return ae=r(s.createElement("a")).attr("href","#"+o).html(e).appendTo(a).hover(function(){r(this).parent().toggleClass("hover")}),ae.click(function(){return i.theMenu.hide(),n&&n.call(this,i.theMap,i.clickedLatLng),!1}),"number"==typeof t&&t<this.theMenu.find("li").length?this.theMenu.find("li").eq(t).before(a):this.theMenu.find("ul").append(a),a},i.prototype.addSep=function(e){var t=r(s.createElement("li")).addClass("separator").append(r(s.createElement("div")));return"number"==typeof e?this.theMenu.find("li").eq(e).before(t):this.theMenu.find("ul").append(t),t},i.prototype.showOnOverlay=function(e){var t=r(this.theMap.getDiv()),n=this.theMenu,i=e.pixel.x,o=e.pixel.y;n.hide(),this.clickedLatLng=e.latLng,i>t.width()-n.width()&&(i-=n.width()),o>t.height()-n.height()&&(o-=n.height()),n.css({top:o,left:i}).fadeIn(200)},i.prototype.removeItem=function(e){e instanceof r?e.remove():"number"==typeof e?this.theMenu.find("li").eq(e).remove():"string"==typeof e&&this.theMenu.find("#"+e.toCamel()).remove()},i.prototype.hideItem=function(e){e instanceof r?e.hide():"number"==typeof e?this.theMenu.find("li").eq(e).hide():"string"==typeof e&&this.theMenu.find("#"+e.toCamel()).hide()},i.prototype.showItem=function(e){e instanceof r?e.show():"number"==typeof e?this.theMenu.find("li").eq(e).show():"string"==typeof e&&this.theMenu.find("#"+e.toCamel()).show()},e.contextMenu=i,String.prototype.toCamel=function(){return this.toLowerCase().replace(/(\s)([a-z])/gi,function(e,t,n){return n.toUpperCase().replace(t,"")})}}(window),function(p){p.fn.numeric=function(e,t){"boolean"==typeof e&&(e={decimal:e}),void 0===(e=e||{}).negative&&(e.negative=!0);var n=!1===e.decimal?"":e.decimal||".",i=!0===e.negative;t="function"==typeof t?t:function(){};return this.data("numeric.decimal",n).data("numeric.negative",i).data("numeric.callback",t).keypress(p.fn.numeric.keypress).keyup(p.fn.numeric.keyup).blur(p.fn.numeric.blur)},p.fn.numeric.keypress=function(e){var t=p.data(this,"numeric.decimal"),n=p.data(this,"numeric.negative"),i=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(13==i&&"input"==this.nodeName.toLowerCase())return!0;if(13==i)return!1;var o=!1;if(e.ctrlKey&&97==i||e.ctrlKey&&65==i)return!0;if(e.ctrlKey&&120==i||e.ctrlKey&&88==i)return!0;if(e.ctrlKey&&99==i||e.ctrlKey&&67==i)return!0;if(e.ctrlKey&&122==i||e.ctrlKey&&90==i)return!0;if(e.ctrlKey&&118==i||e.ctrlKey&&86==i||e.shiftKey&&45==i)return!0;if(i<48||57<i){if(0!=this.value.indexOf("-")&&n&&45==i&&(0==this.value.length||0==p.fn.getSelectionStart(this)))return!0;t&&i==t.charCodeAt(0)&&-1!=this.value.indexOf(t)&&(o=!1),8!=i&&9!=i&&13!=i&&35!=i&&36!=i&&37!=i&&39!=i&&46!=i?o=!1:void 0!==e.charCode&&(e.keyCode==e.which&&0!=e.which?(o=!0,46==e.which&&(o=!1)):0!=e.keyCode&&0==e.charCode&&0==e.which&&(o=!0)),t&&i==t.charCodeAt(0)&&(o=-1==this.value.indexOf(t))}else o=!0;return o},p.fn.numeric.keyup=function(e){var t=this.value;if(0<t.length){var n=p.fn.getSelectionStart(this),i=p.data(this,"numeric.decimal"),o=p.data(this,"numeric.negative");if(""!=i){var a=t.indexOf(i);0==a&&(this.value="0"+t),1==a&&"-"==t.charAt(0)&&(this.value="-0"+t.substring(1)),t=this.value}for(var s=[0,1,2,3,4,5,6,7,8,9,"-",i],r=t.length,l=r-1;0<=l;l--){var c=t.charAt(l);0!=l&&"-"==c?t=t.substring(0,l)+t.substring(l+1):0!=l||o||"-"!=c||(t=t.substring(1));for(var u=!1,h=0;h<s.length;h++)if(c==s[h]){u=!0;break}u&&" "!=c||(t=t.substring(0,l)+t.substring(l+1))}var d=t.indexOf(i);if(0<d)for(l=r-1;d<l;l--){(c=t.charAt(l))==i&&(t=t.substring(0,l)+t.substring(l+1))}this.value=t,p.fn.setSelection(this,n)}},p.fn.numeric.blur=function(){var e=p.data(this,"numeric.decimal"),t=p.data(this,"numeric.callback"),n=this.value;""!=n&&(new RegExp("^\\d+$|\\d*"+e+"\\d+").exec(n)||t.apply(this))},p.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",p.fn.numeric.keypress).unbind("blur",p.fn.numeric.blur)},p.fn.getSelectionStart=function(e){if(e.createTextRange){var t=document.selection.createRange().duplicate();return t.moveEnd("character",e.value.length),""==t.text?e.value.length:e.value.lastIndexOf(t.text)}return e.selectionStart},p.fn.setSelection=function(e,t){if("number"==typeof t&&(t=[t,t]),t&&t.constructor==Array&&2==t.length)if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveStart("character",t[0]),n.moveEnd("character",t[1]),n.select()}else e.setSelectionRange&&(e.focus(),e.setSelectionRange(t[0],t[1]))}}(jQuery),function(i,e,o,t){if(i.ion=i.ion||{},!ion.sound){var a=function(e){if(e||(e="undefined"),i.console){console.warn&&"function"==typeof console.warn?console.warn(e):console.log&&"function"==typeof console.log&&console.log(e);var t=o&&o("#debug");if(t&&t.length){var n=t.html();t.html(n+e+"<br/>")}}},s=function(e,t){var n;for(n in t=t||{},e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};if("function"!=typeof Audio&&"object"!=typeof Audio){var n=function(){a("HTML5 Audio is not supported in this browser")};return ion.sound=n,ion.sound.play=n,ion.sound.stop=n,ion.sound.pause=n,ion.sound.preload=n,(ion.sound.destroy=n)()}var r,l=/iPad|iPhone|iPod/.test(e.appVersion),c=0,u={},h={};!u.supported&&l?u.supported=["mp3","mp4","aac"]:u.supported||(u.supported=["mp3","ogg","mp4","aac","wav"]);ion.sound=function(e){var t,n;if(s(e,u),u.path=u.path||"",u.volume=u.volume||1,u.preload=u.preload||!1,u.multiplay=u.multiplay||!1,u.loop=u.loop||!1,u.sprite=u.sprite||null,u.scope=u.scope||null,u.ready_callback=u.ready_callback||null,u.ended_callback=u.ended_callback||null,c=u.sounds.length)for(r=0;r<c;r++)t=u.sounds[r],void 0,n=t.alias||t.name,h[n]||(h[n]=new f(t),h[n].init());else a("No sound-files provided!")},ion.sound.VERSION="3.0.7",ion.sound._method=function(e,t,n){if(t)h[t]&&h[t][e](n);else for(r in h)h.hasOwnProperty(r)&&h[r]&&h[r][e](n)},ion.sound.preload=function(e,t){s({preload:!0},t=t||{}),ion.sound._method("init",e,t)},ion.sound.destroy=function(e){if(ion.sound._method("destroy",e),e)h[e]=null;else for(r in h)h.hasOwnProperty(r)&&h[r]&&(h[r]=null)},ion.sound.play=function(e,t){ion.sound._method("play",e,t)},ion.sound.stop=function(e,t){ion.sound._method("stop",e,t)},ion.sound.pause=function(e,t){ion.sound._method("pause",e,t)},ion.sound.volume=function(e,t){ion.sound._method("volume",e,t)},o&&(o.ionSound=ion.sound);var d,p=i.AudioContext||i.webkitAudioContext;p&&(d=new p);var f=function(e){this.options=s(u),delete this.options.sounds,s(e,this.options),this.request=null,this.streams={},this.result={},this.ext=0,this.url="",this.loaded=!1,this.decoded=!1,this.no_file=!1,this.autoplay=!1};f.prototype={init:function(e){e&&s(e,this.options),this.options.preload&&this.load()},destroy:function(){var e;for(r in this.streams)(e=this.streams[r])&&(e.destroy(),e=null);this.streams={},this.result=null,this.options.buffer=null,this.options=null,this.request&&(this.request.removeEventListener("load",this.ready.bind(this),!1),this.request.removeEventListener("error",this.error.bind(this),!1),this.request.abort(),this.request=null)},createUrl:function(){var e=(new Date).valueOf();this.url=this.options.path+encodeURIComponent(this.options.name)+"."+this.options.supported[this.ext]+"?"+e},load:function(){this.no_file?a('No sources for "'+this.options.name+'" sound :('):this.request||(this.createUrl(),this.request=new XMLHttpRequest,this.request.open("GET",this.url,!0),this.request.responseType="arraybuffer",this.request.addEventListener("load",this.ready.bind(this),!1),this.request.addEventListener("error",this.error.bind(this),!1),this.request.send())},reload:function(){this.ext++,this.options.supported[this.ext]?this.load():(this.no_file=!0,a('No sources for "'+this.options.name+'" sound :('))},ready:function(e){if(this.result=e.target,4===this.result.readyState){if(200!==this.result.status&&0!==this.result.status)return a(this.url+" was not found on server!"),void this.reload();this.request.removeEventListener("load",this.ready.bind(this),!1),this.request.removeEventListener("error",this.error.bind(this),!1),this.request=null,this.loaded=!0,this.decode()}else this.reload()},decode:function(){d&&d.decodeAudioData(this.result.response,this.setBuffer.bind(this),this.error.bind(this))},setBuffer:function(e){this.options.buffer=e,this.decoded=!0;var t={name:this.options.name,alias:this.options.alias,ext:this.options.supported[this.ext],duration:this.options.buffer.duration};if(this.options.ready_callback&&"function"==typeof this.options.ready_callback&&this.options.ready_callback.call(this.options.scope,t),this.options.sprite)for(r in this.options.sprite)this.options.start=this.options.sprite[r][0],this.options.end=this.options.sprite[r][1],this.streams[r]=new m(this.options,r);else this.streams[0]=new m(this.options);this.autoplay&&(this.autoplay=!1,this.play())},error:function(){this.reload()},play:function(e){if(delete this.options.part,e&&s(e,this.options),!this.loaded)return this.autoplay=!0,void this.load();if(!this.no_file&&this.decoded)if(this.options.sprite)if(this.options.part)this.streams[this.options.part].play(this.options);else for(r in this.options.sprite)this.streams[r].play(this.options);else this.streams[0].play(this.options)},stop:function(e){if(this.options.sprite)if(e)this.streams[e.part].stop();else for(r in this.options.sprite)this.streams[r].stop();else this.streams[0].stop()},pause:function(e){if(this.options.sprite)if(e)this.streams[e.part].pause();else for(r in this.options.sprite)this.streams[r].pause();else this.streams[0].pause()},volume:function(e){var t;if(e)if(s(e,this.options),this.options.sprite)if(this.options.part)(t=this.streams[this.options.part])&&t.setVolume(this.options);else for(r in this.options.sprite)(t=this.streams[r])&&t.setVolume(this.options);else(t=this.streams[0])&&t.setVolume(this.options)}};var m=function(e,t){this.alias=e.alias,this.name=e.name,this.sprite_part=t,this.buffer=e.buffer,this.start=e.start||0,this.end=e.end||this.buffer.duration,this.multiplay=e.multiplay||!1,this.volume=e.volume||1,this.scope=e.scope,this.ended_callback=e.ended_callback,this.setLoop(e),this.source=null,this.gain=null,this.playing=!1,this.paused=!1,this.time_started=0,this.time_ended=0,this.time_played=0,this.time_offset=0};if(m.prototype={destroy:function(){this.stop(),this.buffer=null,this.source=null,this.gain&&this.gain.disconnect(),this.source&&this.source.disconnect(),this.gain=null,this.source=null},setLoop:function(e){!0===e.loop?this.loop=9999999:"number"==typeof e.loop?this.loop=+e.loop-1:this.loop=!1},update:function(e){this.setLoop(e),"volume"in e&&(this.volume=e.volume)},play:function(e){e&&this.update(e),!this.multiplay&&this.playing||(this.gain=d.createGain(),this.source=d.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.gain),this.gain.connect(d.destination),this.gain.gain.value=this.volume,this.source.onended=this.ended.bind(this),this._play())},_play:function(){var e,t;(t=this.paused?(e=this.start+this.time_offset,this.end-this.time_offset):(e=this.start,this.end))<=0?this.clear():("function"==typeof this.source.start?this.source.start(0,e,t):this.source.noteOn(0,e,t),this.playing=!0,this.paused=!1,this.time_started=(new Date).valueOf())},stop:function(){this.playing&&this.source&&("function"==typeof this.source.stop?this.source.stop(0):this.source.noteOff(0)),this.clear()},pause:function(){this.paused?this.play():this.playing&&(this.source&&this.source.stop(0),this.paused=!0)},ended:function(){this.playing=!1,this.time_ended=(new Date).valueOf(),this.time_played=(this.time_ended-this.time_started)/1e3,this.time_offset+=this.time_played,(this.time_offset>=this.end||this.end-this.time_offset<.015)&&(this._ended(),this.clear(),this.loop&&(this.loop--,this.play()))},_ended:function(){var e={name:this.name,alias:this.alias,part:this.sprite_part,start:this.start,duration:this.end};this.ended_callback&&"function"==typeof this.ended_callback&&this.ended_callback.call(this.scope,e)},clear:function(){this.time_played=0,this.time_offset=0,this.paused=!1,this.playing=!1},setVolume:function(e){this.volume=e.volume,this.gain&&(this.gain.gain.value=this.volume)}},!d){!function(){var e,t,n=new Audio,i=n.canPlayType("audio/mpeg"),o=n.canPlayType("audio/ogg"),a=n.canPlayType('audio/mp4; codecs="mp4a.40.2"');for(t=0;t<u.supported.length;t++)e=u.supported[t],i||"mp3"!==e||u.supported.splice(t,1),o||"ogg"!==e||u.supported.splice(t,1),a||"aac"!==e||u.supported.splice(t,1),a||"mp4"!==e||u.supported.splice(t,1);n=null}(),f.prototype={init:function(e){e&&s(e,this.options),this.inited=!0,this.options.preload&&this.load()},destroy:function(){var e;for(r in this.streams)(e=this.streams[r])&&(e.destroy(),e=null);this.streams={},this.loaded=!1,this.inited=!1},load:function(){var e;if(this.options.preload=!0,this.options._ready=this.ready,(this.options._scope=this).options.sprite)for(r in this.options.sprite)e=this.options.sprite[r],this.options.start=e[0],this.options.end=e[1],this.streams[r]=new m(this.options,r);else this.streams[0]=new m(this.options)},ready:function(e){if(!this.loaded){this.loaded=!0;var t={name:this.options.name,alias:this.options.alias,ext:this.options.supported[this.ext],duration:e};this.options.ready_callback&&"function"==typeof this.options.ready_callback&&this.options.ready_callback.call(this.options.scope,t),this.autoplay&&(this.autoplay=!1,this.play())}},play:function(e){if(this.inited)if(delete this.options.part,e&&s(e,this.options),this.loaded)if(this.options.sprite)if(this.options.part)this.streams[this.options.part].play(this.options);else for(r in this.options.sprite)this.streams[r].play(this.options);else this.streams[0].play(this.options);else this.options.preload?this.autoplay=!0:(this.autoplay=!0,this.load())},stop:function(e){if(this.inited)if(this.options.sprite)if(e)this.streams[e.part].stop();else for(r in this.options.sprite)this.streams[r].stop();else this.streams[0].stop()},pause:function(e){if(this.inited)if(this.options.sprite)if(e)this.streams[e.part].pause();else for(r in this.options.sprite)this.streams[r].pause();else this.streams[0].pause()},volume:function(e){var t;if(e)if(s(e,this.options),this.options.sprite)if(this.options.part)(t=this.streams[this.options.part])&&t.setVolume(this.options);else for(r in this.options.sprite)(t=this.streams[r])&&t.setVolume(this.options);else(t=this.streams[0])&&t.setVolume(this.options)}},(m=function(e,t){this.name=e.name,this.alias=e.alias,this.sprite_part=t,this.multiplay=e.multiplay,this.volume=e.volume,this.preload=e.preload,this.path=u.path,this.start=e.start||0,this.end=e.end||0,this.scope=e.scope,this.ended_callback=e.ended_callback,this._scope=e._scope,this._ready=e._ready,this.setLoop(e),this.sound=null,this.url=null,this.loaded=!1,this.start_time=0,this.paused_time=0,this.played_time=0,this.init()}).prototype={init:function(){this.sound=new Audio,this.sound.volume=this.volume,this.createUrl(),this.sound.addEventListener("ended",this.ended.bind(this),!1),this.sound.addEventListener("canplaythrough",this.can_play_through.bind(this),!1),this.sound.addEventListener("timeupdate",this._update.bind(this),!1),this.load()},destroy:function(){this.stop(),this.sound.removeEventListener("ended",this.ended.bind(this),!1),this.sound.removeEventListener("canplaythrough",this.can_play_through.bind(this),!1),this.sound.removeEventListener("timeupdate",this._update.bind(this),!1),this.sound=null,this.loaded=!1},createUrl:function(){var e=(new Date).valueOf();this.url=this.path+encodeURIComponent(this.name)+"."+u.supported[0]+"?"+e},can_play_through:function(){this.preload&&this.ready()},load:function(){this.sound.src=this.url,this.sound.preload=this.preload?"auto":"none",this.preload&&this.sound.load()},setLoop:function(e){!0===e.loop?this.loop=9999999:"number"==typeof e.loop?this.loop=+e.loop-1:this.loop=!1},update:function(e){this.setLoop(e),"volume"in e&&(this.volume=e.volume)},ready:function(){!this.loaded&&this.sound&&(this.loaded=!0,this._ready.call(this._scope,this.sound.duration),this.end||(this.end=this.sound.duration))},play:function(e){e&&this.update(e),!this.multiplay&&this.playing||this._play()},_play:function(){if(this.paused)this.paused=!1;else try{this.sound.currentTime=this.start}catch(e){}this.playing=!0,this.start_time=(new Date).valueOf(),this.sound.volume=this.volume,this.sound.play()},stop:function(){if(this.playing){this.playing=!1,this.paused=!1,this.sound.pause(),this.clear();try{this.sound.currentTime=this.start}catch(e){}}},pause:function(){this.paused?this._play():(this.playing=!1,this.paused=!0,this.sound.pause(),this.paused_time=(new Date).valueOf(),this.played_time+=this.paused_time-this.start_time)},_update:function(){if(this.start_time){var e=(new Date).valueOf()-this.start_time;(this.played_time+e)/1e3>=this.end&&this.playing&&(this.stop(),this._ended())}},ended:function(){this.playing&&(this.stop(),this._ended())},_ended:function(){this.playing=!1;var e={name:this.name,alias:this.alias,part:this.sprite_part,start:this.start,duration:this.end};this.ended_callback&&"function"==typeof this.ended_callback&&this.ended_callback.call(this.scope,e),this.loop&&setTimeout(this.looper.bind(this),15)},looper:function(){this.loop--,this.play()},clear:function(){this.start_time=0,this.played_time=0,this.paused_time=0},setVolume:function(e){this.volume=e.volume,this.sound&&(this.sound.volume=this.volume)}}}}}(window,navigator,window.jQuery||window.$),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():e.numeral=t()}(this,function(){var b,a,l,c,e,r={},_={},t={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:t.currentLocale,zeroFormat:t.zeroFormat,nullFormat:t.nullFormat,defaultFormat:t.defaultFormat,scalePercentBy100:t.scalePercentBy100};function s(e,t){this._input=e,this._value=t}return(b=function(e){var t,n,i,o;if(b.isNumeral(e))t=e.value();else if(0===e||void 0===e)t=0;else if(null===e||a.isNaN(e))t=null;else if("string"==typeof e)if(u.zeroFormat&&e===u.zeroFormat)t=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{for(n in r)if((o="function"==typeof r[n].regexps.unformat?r[n].regexps.unformat():r[n].regexps.unformat)&&e.match(o)){i=r[n].unformat;break}t=(i=i||b._.stringToNumber)(e)}else t=Number(e)||null;return new s(e,t)}).version="2.0.6",b.isNumeral=function(e){return e instanceof s},b._=a={numberToFormat:function(e,t,n){var i,o,a,s,r,l,c,u,h=_[b.options.currentLocale],d=!1,p=!1,f="",m="",g=!1;if(e=e||0,a=Math.abs(e),b._.includes(t,"(")?(d=!0,t=t.replace(/[\(|\)]/g,"")):(b._.includes(t,"+")||b._.includes(t,"-"))&&(l=b._.includes(t,"+")?t.indexOf("+"):e<0?t.indexOf("-"):-1,t=t.replace(/[\+|\-]/g,"")),b._.includes(t,"a")&&(o=!!(o=t.match(/a(k|m|b|t)?/))&&o[1],b._.includes(t," a")&&(f=" "),t=t.replace(new RegExp(f+"a[kmbt]?"),""),1e12<=a&&!o||"t"===o?(f+=h.abbreviations.trillion,e/=1e12):a<1e12&&1e9<=a&&!o||"b"===o?(f+=h.abbreviations.billion,e/=1e9):a<1e9&&1e6<=a&&!o||"m"===o?(f+=h.abbreviations.million,e/=1e6):(a<1e6&&1e3<=a&&!o||"k"===o)&&(f+=h.abbreviations.thousand,e/=1e3)),b._.includes(t,"[.]")&&(p=!0,t=t.replace("[.]",".")),s=e.toString().split(".")[0],r=t.split(".")[1],c=t.indexOf(","),i=(t.split(".")[0].split(",")[0].match(/0/g)||[]).length,r?(s=(m=b._.includes(r,"[")?(r=(r=r.replace("]","")).split("["),b._.toFixed(e,r[0].length+r[1].length,n,r[1].length)):b._.toFixed(e,r.length,n)).split(".")[0],m=b._.includes(m,".")?h.delimiters.decimal+m.split(".")[1]:"",p&&0===Number(m.slice(1))&&(m="")):s=b._.toFixed(e,0,n),f&&!o&&1e3<=Number(s)&&f!==h.abbreviations.trillion)switch(s=String(Number(s)/1e3),f){case h.abbreviations.thousand:f=h.abbreviations.million;break;case h.abbreviations.million:f=h.abbreviations.billion;break;case h.abbreviations.billion:f=h.abbreviations.trillion}if(b._.includes(s,"-")&&(s=s.slice(1),g=!0),s.length<i)for(var v=i-s.length;0<v;v--)s="0"+s;return-1<c&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===t.indexOf(".")&&(s=""),u=s+m+(f||""),d?u=(d&&g?"(":"")+u+(d&&g?")":""):0<=l?u=0===l?(g?"-":"+")+u:u+(g?"-":"+"):g&&(u="-"+u),u},stringToNumber:function(e){var t,n,i,o=_[u.currentLocale],a=e,s={thousand:3,million:6,billion:9,trillion:12};if(u.zeroFormat&&e===u.zeroFormat)n=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==o.delimiters.decimal&&(e=e.replace(/\./g,"").replace(o.delimiters.decimal,".")),s)if(i=new RegExp("[^a-zA-Z]"+o.abbreviations[t]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),a.match(i)){n*=Math.pow(10,s[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,i=Object(e),o=i.length>>>0,a=0;if(3===arguments.length)n=arguments[2];else{for(;a<o&&!(a in i);)a++;if(o<=a)throw new TypeError("Reduce of empty array with no initial value");n=i[a++]}for(;a<o;a++)a in i&&(n=t(n,i[a],a,i));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(e,t){var n=a.multiplier(t);return n<e?e:n},1)},toFixed:function(e,t,n,i){var o,a,s,r,l=e.toString().split("."),c=t-(i||0);return o=2===l.length?Math.min(Math.max(l[1].length,c),t):c,s=Math.pow(10,o),r=(n(e+"e+"+o)/s).toFixed(o),t-o<i&&(a=new RegExp("\\.?0{1,"+(i-(t-o))+"}$"),r=r.replace(a,"")),r}},b.options=u,b.formats=r,b.locales=_,b.locale=function(e){return e&&(u.currentLocale=e.toLowerCase()),u.currentLocale},b.localeData=function(e){if(!e)return _[u.currentLocale];if(e=e.toLowerCase(),!_[e])throw new Error("Unknown locale : "+e);return _[e]},b.reset=function(){for(var e in t)u[e]=t[e]},b.zeroFormat=function(e){u.zeroFormat="string"==typeof e?e:null},b.nullFormat=function(e){u.nullFormat="string"==typeof e?e:null},b.defaultFormat=function(e){u.defaultFormat="string"==typeof e?e:"0.0"},b.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n},b.validate=function(e,t){var n,i,o,a,s,r,l,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{l=b.localeData(t)}catch(e){l=b.localeData(b.locale())}return o=l.currency.symbol,s=l.abbreviations,n=l.delimiters.decimal,i="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(c=e.match(/^[^\d]+/))||(e=e.substr(1),c[0]===o))&&((null===(c=e.match(/[^\d]+$/))||(e=e.slice(0,-1),c[0]===s.thousand||c[0]===s.million||c[0]===s.billion||c[0]===s.trillion))&&(r=new RegExp(i+"{2}"),!e.match(/[^\d.,]/g)&&(!(2<(a=e.split(n)).length)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(r):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(r)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(r)&&!!a[1].match(/^\d+$/)))))},b.fn=s.prototype={clone:function(){return b(this)},format:function(e,t){var n,i,o,a=this._value,s=e||u.defaultFormat;if(t=t||Math.round,0===a&&null!==u.zeroFormat)i=u.zeroFormat;else if(null===a&&null!==u.nullFormat)i=u.nullFormat;else{for(n in r)if(s.match(r[n].regexps.format)){o=r[n].format;break}i=(o=o||b._.numberToFormat)(a,s,t)}return i},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var o=a.correctionFactor.call(null,this._value,e);return this._value=a.reduce([this._value,e],function(e,t,n,i){return e+Math.round(o*t)},0)/o,this},subtract:function(e){var o=a.correctionFactor.call(null,this._value,e);return this._value=a.reduce([e],function(e,t,n,i){return e-Math.round(o*t)},Math.round(this._value*o))/o,this},multiply:function(e){return this._value=a.reduce([this._value,e],function(e,t,n,i){var o=a.correctionFactor(e,t);return Math.round(e*o)*Math.round(t*o)/Math.round(o*o)},1),this},divide:function(e){return this._value=a.reduce([this._value,e],function(e,t,n,i){var o=a.correctionFactor(e,t);return Math.round(e*o)/Math.round(t*o)}),this},difference:function(e){return Math.abs(b(this._value).subtract(e).value())}},b.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),b.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,t,n){var i,o=b._.includes(t," BPS")?" ":"";return e*=1e4,t=t.replace(/\s?BPS/,""),i=b._.numberToFormat(e,t,n),i=b._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i.join("")):i+o+"BPS"},unformat:function(e){return+(1e-4*b._.stringToNumber(e)).toFixed(15)}}),c={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},e="("+(e=(l={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(c.suffixes.filter(function(e){return l.suffixes.indexOf(e)<0})).join("|")).replace("B","B(?!PS)")+")",b.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(e)},format:function(e,t,n){var i,o,a,s=b._.includes(t,"ib")?c:l,r=b._.includes(t," b")||b._.includes(t," ib")?" ":"";for(t=t.replace(/\s?i?b/,""),i=0;i<=s.suffixes.length;i++)if(o=Math.pow(s.base,i),a=Math.pow(s.base,i+1),null===e||0===e||o<=e&&e<a){r+=s.suffixes[i],0<o&&(e/=o);break}return b._.numberToFormat(e,t,n)+r},unformat:function(e){var t,n,i=b._.stringToNumber(e);if(i){for(t=l.suffixes.length-1;0<=t;t--){if(b._.includes(e,l.suffixes[t])){n=Math.pow(l.base,t);break}if(b._.includes(e,c.suffixes[t])){n=Math.pow(c.base,t);break}}i*=n||1}return i}}),b.register("format","currency",{regexps:{format:/(\$)/},format:function(e,t,n){var i,o,a=b.locales[b.options.currentLocale],s={before:t.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:t.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(t=t.replace(/\s?\$\s?/,""),i=b._.numberToFormat(e,t,n),0<=e?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):e<0&&!b._.includes(s.before,"-")&&!b._.includes(s.before,"(")&&(s.before="-"+s.before),o=0;o<s.before.length;o++)switch(s.before[o]){case"$":i=b._.insert(i,a.currency.symbol,o);break;case" ":i=b._.insert(i," ",o+a.currency.symbol.length-1)}for(o=s.after.length-1;0<=o;o--)switch(s.after[o]){case"$":i=o===s.after.length-1?i+a.currency.symbol:b._.insert(i,a.currency.symbol,-(s.after.length-(1+o)));break;case" ":i=o===s.after.length-1?i+" ":b._.insert(i," ",-(s.after.length-(1+o)+a.currency.symbol.length-1))}return i}}),b.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,t,n){var i=("number"!=typeof e||b._.isNaN(e)?"0e+0":e.toExponential()).split("e");return t=t.replace(/e[\+|\-]{1}0/,""),b._.numberToFormat(Number(i[0]),t,n)+"e"+i[1]},unformat:function(e){var t=b._.includes(e,"e+")?e.split("e+"):e.split("e-"),n=Number(t[0]),i=Number(t[1]);return i=b._.includes(e,"e-")?i*=-1:i,b._.reduce([n,Math.pow(10,i)],function(e,t,n,i){var o=b._.correctionFactor(e,t);return e*o*(t*o)/(o*o)},1)}}),b.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,t,n){var i=b.locales[b.options.currentLocale],o=b._.includes(t," o")?" ":"";return t=t.replace(/\s?o/,""),o+=i.ordinal(e),b._.numberToFormat(e,t,n)+o}}),b.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,t,n){var i,o=b._.includes(t," %")?" ":"";return b.options.scalePercentBy100&&(e*=100),t=t.replace(/\s?\%/,""),i=b._.numberToFormat(e,t,n),i=b._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i.join("")):i+o+"%"},unformat:function(e){var t=b._.stringToNumber(e);return b.options.scalePercentBy100?.01*t:t}}),b.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var i=Math.floor(e/60/60),o=Math.floor((e-60*i*60)/60),a=Math.round(e-60*i*60-60*o);return i+":"+(o<10?"0"+o:o)+":"+(a<10?"0"+a:a)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}}),b}),function(e,t){"function"==typeof define&&define.amd?define(["numeral"],t):"object"==typeof module&&module.exports?t(require("./numeral")):t(e.numeral)}(this,function(e){e.register("locale","fr",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"e"},currency:{symbol:""}}),e.register("locale","en-gb",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:""}}),e.register("locale","es",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$"}}),e.register("locale","pt",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return""},currency:{symbol:""}})});